var rR=Object.defineProperty,iR=Object.defineProperties;var oR=Object.getOwnPropertyDescriptors;var Dw=Object.getOwnPropertySymbols,sR=Object.getPrototypeOf,aR=Object.prototype.hasOwnProperty,cR=Object.prototype.propertyIsEnumerable,uR=Reflect.get;var Tw=(n,e,t)=>e in n?rR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})aR.call(e,t)&&Tw(n,t,e[t]);if(Dw)for(var t of Dw(e))cR.call(e,t)&&Tw(n,t,e[t]);return n},le=(n,e)=>iR(n,oR(e));var Mr=(n,e,t)=>uR(sR(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Sw(n,e){return Object.is(n,e)}var Ye=null,Eu=!1,bu=1,qn=Symbol("SIGNAL");function _e(n){let e=Ye;return Ye=n,e}function Aw(){return Ye}var ua={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jf(n){if(Eu)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(n);let e=Ye.nextProducerIndex++;if(Su(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==n&&ca(Ye)){let t=Ye.producerNode[e];Tu(t,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==n&&(Ye.producerNode[e]=n,Ye.producerIndexOfThis[e]=ca(Ye)?Nw(n,Ye,e):0),Ye.producerLastReadVersion[e]=n.version}function lR(){bu++}function Mw(n){if(!(ca(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===bu)){if(!n.producerMustRecompute(n)&&!$f(n)){n.dirty=!1,n.lastCleanEpoch=bu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=bu}}function Rw(n){if(n.liveConsumerNode===void 0)return;let e=Eu;Eu=!0;try{for(let t of n.liveConsumerNode)t.dirty||dR(t)}finally{Eu=e}}function xw(){return Ye?.consumerAllowSignalWrites!==!1}function dR(n){n.dirty=!0,Rw(n),n.consumerMarkedDirty?.(n)}function Du(n){return n&&(n.nextProducerIndex=0),_e(n)}function Bf(n,e){if(_e(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ca(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Tu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $f(n){Su(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Mw(t),r!==t.version))return!0}return!1}function Hf(n){if(Su(n),ca(n))for(let e=0;e<n.producerNode.length;e++)Tu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Nw(n,e,t){if(Pw(n),n.liveConsumerNode.length===0&&Ow(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Nw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Tu(n,e){if(Pw(n),n.liveConsumerNode.length===1&&Ow(n))for(let r=0;r<n.producerNode.length;r++)Tu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Su(i),i.producerIndexOfThis[r]=e}}function ca(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Su(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Pw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Ow(n){return n.producerNode!==void 0}function kw(n){let e=Object.create(hR);e.computation=n;let t=()=>{if(Mw(e),jf(e),e.value===Cu)throw e.error;return e.value};return t[qn]=e,t}var Vf=Symbol("UNSET"),Uf=Symbol("COMPUTING"),Cu=Symbol("ERRORED"),hR=le(L({},ua),{value:Vf,dirty:!0,error:null,equal:Sw,producerMustRecompute(n){return n.value===Vf||n.value===Uf},producerRecomputeValue(n){if(n.value===Uf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Uf;let t=Du(n),r;try{r=n.computation()}catch(i){r=Cu,n.error=i}finally{Bf(n,t)}if(e!==Vf&&e!==Cu&&r!==Cu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function fR(){throw new Error}var Fw=fR;function Lw(){Fw()}function Vw(n){Fw=n}var pR=null;function Uw(n){let e=Object.create(Bw);e.value=n;let t=()=>(jf(e),e.value);return t[qn]=e,t}function zf(n,e){xw()||Lw(),n.equal(n.value,e)||(n.value=e,mR(n))}function jw(n,e){xw()||Lw(),zf(n,e(n.value))}var Bw=le(L({},ua),{equal:Sw,value:void 0});function mR(n){n.version++,lR(),Rw(n),pR?.()}function ie(n){return typeof n=="function"}function lo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Au=lo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function vi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Le=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof Au?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$w(o)}catch(s){e=e??[],s instanceof Au?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Au(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$w(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&vi(t,e)}remove(e){let{_finalizers:t}=this;t&&vi(t,e),e instanceof n&&e._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var qf=Le.EMPTY;function Mu(n){return n instanceof Le||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function $w(n){ie(n)?n():n.unsubscribe()}var rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ho={setTimeout(n,e,...t){let{delegate:r}=ho;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ho;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ru(n){ho.setTimeout(()=>{let{onUnhandledError:e}=rn;if(e)e(n);else throw n})}function la(){}var Hw=Gf("C",void 0,void 0);function zw(n){return Gf("E",void 0,n)}function qw(n){return Gf("N",n,void 0)}function Gf(n,e,t){return{kind:n,value:e,error:t}}var _i=null;function fo(n){if(rn.useDeprecatedSynchronousErrorHandling){let e=!_i;if(e&&(_i={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=_i;if(_i=null,t)throw r}}else n()}function Gw(n){rn.useDeprecatedSynchronousErrorHandling&&_i&&(_i.errorThrown=!0,_i.error=n)}var Ii=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mu(e)&&e.add(this)):this.destination=vR}static create(e,t,r){return new po(e,t,r)}next(e){this.isStopped?Kf(qw(e),this):this._next(e)}error(e){this.isStopped?Kf(zw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kf(Hw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gR=Function.prototype.bind;function Wf(n,e){return gR.call(n,e)}var Qf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xu(r)}else xu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xu(t)}}},po=class extends Ii{constructor(e,t,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wf(e.next,o),error:e.error&&Wf(e.error,o),complete:e.complete&&Wf(e.complete,o)}):i=e}this.destination=new Qf(i)}};function xu(n){rn.useDeprecatedSynchronousErrorHandling?Gw(n):Ru(n)}function yR(n){throw n}function Kf(n,e){let{onStoppedNotification:t}=rn;t&&ho.setTimeout(()=>t(n,e))}var vR={closed:!0,next:la,error:yR,complete:la};var mo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(n){return n}function Nu(...n){return Yf(n)}function Yf(n){return n.length===0?Lt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=IR(t)?t:new po(t,r,i);return fo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Ww(r),new r((i,o)=>{let s=new po({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[mo](){return this}pipe(...t){return Yf(t)(this)}toPromise(t){return t=Ww(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Ww(n){var e;return(e=n??rn.Promise)!==null&&e!==void 0?e:Promise}function _R(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function IR(n){return n&&n instanceof Ii||_R(n)&&Mu(n)}function Jf(n){return ie(n?.lift)}function me(n){return e=>{if(Jf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,e,t,r,i){return new Zf(n,e,t,r,i)}var Zf=class extends Ii{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function go(){return me((n,e)=>{let t=null;n._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var yo=class extends ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let t=this.getSubject();e.add(this.source.subscribe(fe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return go()(this)}};var Kw=lo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class n extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Pu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Kw}next(t){fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qf:(this.currentObservers=null,o.push(t),new Le(()=>{this.currentObservers=null,vi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ce;return t.source=this,t}}return n.create=(e,t)=>new Pu(e,t),n})(),Pu=class extends it{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:qf}};var ot=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xf={now(){return(Xf.delegate||Date).now()},delegate:void 0};var Ou=class extends Le{constructor(e,t){super()}schedule(e,t=0){return this}};var da={setInterval(n,e,...t){let{delegate:r}=da;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=da;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var vo=class extends Ou{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return da.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&da.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var _o=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};_o.now=Xf.now;var Io=class extends _o{constructor(e,t=_o.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ep=new Io(vo);var ku=class extends vo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Fu=class extends Io{};var tp=new Fu(ku);var Vt=new ce(n=>n.complete());function Qw(n){return n&&ie(n.schedule)}function Yw(n){return n[n.length-1]}function Lu(n){return ie(Yw(n))?n.pop():void 0}function Rr(n){return Qw(Yw(n))?n.pop():void 0}function np(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Zw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Jw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wi(n){return this instanceof wi?(this.v=n,this):new wi(n)}function Xw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(S){return Promise.resolve(S).then(g,p)}}function a(g,S){r[g]&&(i[g]=function(x){return new Promise(function(M,V){o.push([g,x,M,V])>1||u(g,x)})},S&&(i[g]=S(i[g])))}function u(g,S){try{l(r[g](S))}catch(x){v(o[0][3],x)}}function l(g){g.value instanceof wi?Promise.resolve(g.value.v).then(h,p):v(o[0][2],g)}function h(g){u("next",g)}function p(g){u("throw",g)}function v(g,S){g(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function eE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Jw=="function"?Jw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Vu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Uu(n){return ie(n?.then)}function ju(n){return ie(n[mo])}function Bu(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function $u(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hu=wR();function zu(n){return ie(n?.[Hu])}function qu(n){return Xw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield wi(t.read());if(i)return yield wi(void 0);yield yield wi(r)}}finally{t.releaseLock()}})}function Gu(n){return ie(n?.getReader)}function He(n){if(n instanceof ce)return n;if(n!=null){if(ju(n))return ER(n);if(Vu(n))return bR(n);if(Uu(n))return CR(n);if(Bu(n))return tE(n);if(zu(n))return DR(n);if(Gu(n))return TR(n)}throw $u(n)}function ER(n){return new ce(e=>{let t=n[mo]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bR(n){return new ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function CR(n){return new ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ru)})}function DR(n){return new ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function tE(n){return new ce(e=>{SR(n,e).catch(t=>e.error(t))})}function TR(n){return tE(qu(n))}function SR(n,e){var t,r,i,o;return Zw(this,void 0,void 0,function*(){try{for(t=eE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function At(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function xr(n,e=0){return me((t,r)=>{t.subscribe(fe(r,i=>At(r,n,()=>r.next(i),e),()=>At(r,n,()=>r.complete(),e),i=>At(r,n,()=>r.error(i),e)))})}function Nr(n,e=0){return me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function nE(n,e){return He(n).pipe(Nr(e),xr(e))}function rE(n,e){return He(n).pipe(Nr(e),xr(e))}function iE(n,e){return new ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function oE(n,e){return new ce(t=>{let r;return At(t,e,()=>{r=n[Hu](),At(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function Wu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ce(t=>{At(t,e,()=>{let r=n[Symbol.asyncIterator]();At(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function sE(n,e){return Wu(qu(n),e)}function aE(n,e){if(n!=null){if(ju(n))return nE(n,e);if(Vu(n))return iE(n,e);if(Uu(n))return rE(n,e);if(Bu(n))return Wu(n,e);if(zu(n))return oE(n,e);if(Gu(n))return sE(n,e)}throw $u(n)}function Ae(n,e){return e?aE(n,e):He(n)}function te(...n){let e=Rr(n);return Ae(n,e)}function yn(n,e){let t=ie(n)?n:()=>n,r=i=>i.error(t());return new ce(e?i=>e.schedule(r,0,i):r)}function rp(n){return!!n&&(n instanceof ce||ie(n.lift)&&ie(n.subscribe))}var Gn=lo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(n,e){return me((t,r)=>{let i=0;t.subscribe(fe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:AR}=Array;function MR(n,e){return AR(e)?n(...e):n(e)}function Ku(n){return ne(e=>MR(n,e))}var{isArray:RR}=Array,{getPrototypeOf:xR,prototype:NR,keys:PR}=Object;function Qu(n){if(n.length===1){let e=n[0];if(RR(e))return{args:e,keys:null};if(OR(e)){let t=PR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function OR(n){return n&&typeof n=="object"&&xR(n)===NR}function Yu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ju(...n){let e=Rr(n),t=Lu(n),{args:r,keys:i}=Qu(n);if(r.length===0)return Ae([],e);let o=new ce(kR(r,e,i?s=>Yu(i,s):Lt));return t?o.pipe(Ku(t)):o}function kR(n,e,t=Lt){return r=>{cE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)cE(e,()=>{let l=Ae(n[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function cE(n,e,t){n?At(t,n,e):e()}function uE(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,v=()=>{p&&!u.length&&!l&&e.complete()},g=x=>l<r?S(x):u.push(x),S=x=>{o&&e.next(x),l++;let M=!1;He(t(x,h++)).subscribe(fe(e,V=>{i?.(V),o?g(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let V=u.shift();s?At(e,s,()=>S(V)):S(V)}v()}catch(V){e.error(V)}}))};return n.subscribe(fe(e,g,()=>{p=!0,v()})),()=>{a?.()}}function Je(n,e,t=1/0){return ie(e)?Je((r,i)=>ne((o,s)=>e(r,o,i,s))(He(n(r,i))),t):(typeof e=="number"&&(t=e),me((r,i)=>uE(r,i,n,t)))}function ip(n=1/0){return Je(Lt,n)}function lE(){return ip(1)}function wo(...n){return lE()(Ae(n,Rr(n)))}function Zu(n){return new ce(e=>{He(n()).subscribe(e)})}function op(...n){let e=Lu(n),{args:t,keys:r}=Qu(n),i=new ce(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;He(t[h]).subscribe(fe(o,v=>{p||(p=!0,l--),a[h]=v},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Yu(r,a):a),o.complete())}))}});return e?i.pipe(Ku(e)):i}function Mt(n,e){return me((t,r)=>{let i=0;t.subscribe(fe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ut(n){return me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(fe(t,void 0,void 0,s=>{o=He(n(s,Ut(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function dE(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Pr(n,e){return ie(e)?Je(n,e,1):Je(n,1)}function Or(n){return me((e,t)=>{let r=!1;e.subscribe(fe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Wn(n){return n<=0?()=>Vt:me((e,t)=>{let r=0;e.subscribe(fe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function sp(n){return ne(()=>n)}function Xu(n=FR){return me((e,t)=>{let r=!1;e.subscribe(fe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function FR(){return new Gn}function kr(n){return me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function vn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):Lt,Wn(1),t?Or(e):Xu(()=>new Gn))}function Eo(n){return n<=0?()=>Vt:me((e,t)=>{let r=[];e.subscribe(fe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ap(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):Lt,Eo(1),t?Or(e):Xu(()=>new Gn))}function el(n,e){return me(dE(n,e,arguments.length>=2,!0))}function tl(...n){let e=Rr(n);return me((t,r)=>{(e?wo(n,t,e):wo(n,t)).subscribe(r)})}function jt(n,e){return me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;He(n(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function cp(n){return me((e,t)=>{He(n).subscribe(fe(t,()=>t.complete(),la)),!t.closed&&e.subscribe(t)})}function ke(n,e,t){let r=ie(n)||e||t?{next:n,error:e,complete:t}:n;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Lt}var LR="https://g.co/ng/security#xss",W=class extends Error{constructor(e,t){super(kl(e,t)),this.code=e}};function kl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ba(n){return{toString:n}.toString()}var nl="__parameters__";function VR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function JE(n,e,t){return ba(()=>{let r=VR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(nl)?u[nl]:Object.defineProperty(u,nl,{value:[]})[nl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ha=globalThis;function Me(n){for(let e in n)if(n[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function UR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Et(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Et).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function hE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var jR=Me({__forward_ref__:Me});function Bt(n){return n.__forward_ref__=Bt,n.toString=function(){return Et(this())},n}function wt(n){return ZE(n)?n():n}function ZE(n){return typeof n=="function"&&n.hasOwnProperty(jR)&&n.__forward_ref__===Bt}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fl(n){return fE(n,e0)||fE(n,t0)}function XE(n){return Fl(n)!==null}function fE(n,e){return n.hasOwnProperty(e)?n[e]:null}function BR(n){let e=n&&(n[e0]||n[t0]);return e||null}function pE(n){return n&&(n.hasOwnProperty(mE)||n.hasOwnProperty($R))?n[mE]:null}var e0=Me({\u0275prov:Me}),mE=Me({\u0275inj:Me}),t0=Me({ngInjectableDef:Me}),$R=Me({ngInjectorDef:Me}),z=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function n0(n){return n&&!!n.\u0275providers}var HR=Me({\u0275cmp:Me}),zR=Me({\u0275dir:Me}),qR=Me({\u0275pipe:Me}),GR=Me({\u0275mod:Me}),dl=Me({\u0275fac:Me}),ma=Me({__NG_ELEMENT_ID__:Me}),gE=Me({__NG_ENV_ID__:Me});function dm(n){return typeof n=="string"?n:n==null?"":String(n)}function WR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():dm(n)}function KR(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new W(-200,n)}function hm(n,e){throw new W(-201,!1)}var ue=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ue||{}),bp;function r0(){return bp}function Rt(n){let e=bp;return bp=n,e}function i0(n,e,t){let r=Fl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ue.Optional)return null;if(e!==void 0)return e;hm(n,"Injector")}var QR={},ga=QR,Cp="__NG_DI_FLAG__",hl="ngTempTokenPath",YR="ngTokenPath",JR=/\n/gm,ZR="\u0275",yE="__source",To;function XR(){return To}function Fr(n){let e=To;return To=n,e}function ex(n,e=ue.Default){if(To===void 0)throw new W(-203,!1);return To===null?i0(n,void 0,e):To.get(n,e&ue.Optional?null:void 0,e)}function K(n,e=ue.Default){return(r0()||ex)(wt(n),e)}function O(n,e=ue.Default){return K(n,Ll(e))}function Ll(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Dp(n){let e=[];for(let t=0;t<n.length;t++){let r=wt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],u=tx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function o0(n,e){return n[Cp]=e,n.prototype[Cp]=e,n}function tx(n){return n[Cp]}function nx(n,e,t,r){let i=n[hl];throw e[yE]&&i.unshift(e[yE]),n.message=rx(`
`+n.message,i,t,r),n[YR]=i,n[hl]=null,n}function rx(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==ZR?n.slice(2):n;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(JR,`
  `)}`}var Ct=o0(JE("Optional"),8);var s0=o0(JE("SkipSelf"),4);function Ci(n,e){let t=n.hasOwnProperty(dl);return t?n[dl]:null}function fm(n,e){n.forEach(t=>Array.isArray(t)?fm(t,e):e(t))}function a0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function fl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ix(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ox(n,e,t){let r=Ca(n,e);return r>=0?n[r|1]=t:(r=~r,ix(n,r,e,t)),r}function up(n,e){let t=Ca(n,e);if(t>=0)return n[t|1]}function Ca(n,e){return sx(n,e,1)}function sx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ao={},Gt=[],Mo=new z(""),c0=new z("",-1),u0=new z(""),pl=class{get(e,t=ga){if(t===ga){let r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return t}},l0=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(l0||{}),wn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(wn||{}),Ur=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ur||{});function ax(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Tp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];ux(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function cx(n){return n===3||n===4||n===6}function ux(n){return n.charCodeAt(0)===64}function ya(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?vE(n,t,i,null,e[++r]):vE(n,t,i,null,null))}}return n}function vE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var d0="ng-template";function lx(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ax(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(pm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function pm(n){return n.type===4&&n.value!==d0}function dx(n,e,t){let r=n.type===4&&!t?d0:n.value;return e===r}function hx(n,e,t){let r=4,i=n.attrs,o=i!==null?mx(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!on(r)&&!on(u))return!1;if(s&&on(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!dx(n,u,t)||u===""&&e.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!lx(n,i,u,t)){if(on(r))return!1;s=!0}}else{let l=e[++a],h=fx(u,i,pm(n),t);if(h===-1){if(on(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(n){return(n&1)===0}function fx(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return gx(e,n)}function px(n,e,t=!1){for(let r=0;r<e.length;r++)if(hx(n,e[r],t))return!0;return!1}function mx(n){for(let e=0;e<n.length;e++){let t=n[e];if(cx(t))return e}return n.length}function gx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function _E(n,e){return n?":not("+e.trim()+")":e}function yx(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(e+=_E(o,i),i=""),r=s,o=o||!on(r);t++}return i!==""&&(e+=_E(o,i)),e}function vx(n){return n.map(yx).join(",")}function _x(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!on(i))break;i=o}r++}return{attrs:e,classes:t}}function Ve(n){return ba(()=>{let e=y0(n),t=le(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===l0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||wn.Emulated,styles:n.styles||Gt,_:null,schemas:n.schemas||null,tView:null,id:""});v0(t);let r=n.dependencies;return t.directiveDefs=wE(r,!1),t.pipeDefs=wE(r,!0),t.id=Ex(t),t})}function Ix(n){return Di(n)||f0(n)}function wx(n){return n!==null}function Xn(n){return ba(()=>({type:n.type,bootstrap:n.bootstrap||Gt,declarations:n.declarations||Gt,imports:n.imports||Gt,exports:n.exports||Gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function IE(n,e){if(n==null)return Ao;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Ur.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Ur.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Pe(n){return ba(()=>{let e=y0(n);return v0(e),e})}function h0(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Di(n){return n[HR]||null}function f0(n){return n[zR]||null}function p0(n){return n[qR]||null}function m0(n){let e=Di(n)||f0(n)||p0(n);return e!==null?e.standalone:!1}function g0(n,e){let t=n[GR]||null;if(!t&&e===!0)throw new Error(`Type ${Et(n)} does not have '\u0275mod' property.`);return t}function y0(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ao,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IE(n.inputs,e),outputs:IE(n.outputs),debugInfo:null}}function v0(n){n.features?.forEach(e=>e(n))}function wE(n,e){if(!n)return null;let t=e?p0:Ix;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(wx)}function Ex(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function un(n){return{\u0275providers:n}}function mm(...n){return{\u0275providers:_0(!0,n),\u0275fromNgModule:!0}}function _0(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return fm(e,s=>{let a=s;Sp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&I0(i,o),t}function I0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];gm(i,o=>{e(o,r)})}}function Sp(n,e,t,r){if(n=wt(n),!n)return!1;let i=null,o=pE(n),s=!o&&Di(n);if(!o&&!s){let u=n.ngModule;if(o=pE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Sp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fm(o.imports,h=>{Sp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&I0(l,e)}if(!a){let l=Ci(i)||(()=>new i);e({provide:i,useFactory:l,deps:Gt},i),e({provide:u0,useValue:i,multi:!0},i),e({provide:Mo,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;gm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function gm(n,e){for(let t of n)n0(t)&&(t=t.\u0275providers),Array.isArray(t)?gm(t,e):e(t)}var bx=Me({provide:String,useValue:Me});function w0(n){return n!==null&&typeof n=="object"&&bx in n}function Cx(n){return!!(n&&n.useExisting)}function Dx(n){return!!(n&&n.useFactory)}function Ro(n){return typeof n=="function"}function Tx(n){return!!n.useClass}var Vl=new z(""),sl={},Sx={},lp;function ym(){return lp===void 0&&(lp=new pl),lp}var xt=class{},va=class extends xt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mp(e,s=>this.processProvider(s)),this.records.set(c0,bo(void 0,this)),i.has("environment")&&this.records.set(xt,bo(void 0,this));let o=this.records.get(Vl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(u0,Gt,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Fr(this),r=Rt(void 0),i;try{return e()}finally{Fr(t),Rt(r)}}get(e,t=ga,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gE))return e[gE](this);r=Ll(r);let i,o=Fr(this),s=Rt(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Nx(e)&&Fl(e);l&&this.injectableDefInScope(l)?u=bo(Ap(e),sl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ue.Self?ym():this.parent;return t=r&ue.Optional&&t===ga?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[hl]=a[hl]||[]).unshift(Et(e)),o)throw a;return nx(a,e,"R3InjectorError",this.source)}else throw a}finally{Rt(s),Fr(o)}}resolveInjectorInitializers(){let e=_e(null),t=Fr(this),r=Rt(void 0),i;try{let o=this.get(Mo,Gt,ue.Self);for(let s of o)s()}finally{Fr(t),Rt(r),_e(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=wt(e);let t=Ro(e)?e:wt(e&&e.provide),r=Mx(e);if(!Ro(e)&&e.multi===!0){let i=this.records.get(t);i||(i=bo(void 0,sl,!0),i.factory=()=>Dp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=_e(null);try{return t.value===sl&&(t.value=Sx,t.value=t.factory()),typeof t.value=="object"&&t.value&&xx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=wt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ap(n){let e=Fl(n),t=e!==null?e.factory:Ci(n);if(t!==null)return t;if(n instanceof z)throw new W(204,!1);if(n instanceof Function)return Ax(n);throw new W(204,!1)}function Ax(n){if(n.length>0)throw new W(204,!1);let t=BR(n);return t!==null?()=>t.factory(n):()=>new n}function Mx(n){if(w0(n))return bo(void 0,n.useValue);{let e=E0(n);return bo(e,sl)}}function E0(n,e,t){let r;if(Ro(n)){let i=wt(n);return Ci(i)||Ap(i)}else if(w0(n))r=()=>wt(n.useValue);else if(Dx(n))r=()=>n.useFactory(...Dp(n.deps||[]));else if(Cx(n))r=()=>K(wt(n.useExisting));else{let i=wt(n&&(n.useClass||n.provide));if(Rx(n))r=()=>new i(...Dp(n.deps));else return Ci(i)||Ap(i)}return r}function bo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Rx(n){return!!n.deps}function xx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Nx(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function Mp(n,e){for(let t of n)Array.isArray(t)?Mp(t,e):t&&n0(t)?Mp(t.\u0275providers,e):e(t)}function ln(n,e){n instanceof va&&n.assertNotDestroyed();let t,r=Fr(n),i=Rt(void 0);try{return e()}finally{Fr(r),Rt(i)}}function Px(){return r0()!==void 0||XR()!=null}function Ox(n){return typeof n=="function"}var er=0,de=1,re=2,bt=3,sn=4,dn=5,ml=6,gl=7,an=8,xo=9,Kn=10,ze=11,_a=12,EE=13,jo=14,En=15,No=16,Co=17,Po=18,Ul=19,b0=20,Lr=21,dp=22,Wt=23,cn=25,C0=1;var Ti=7,yl=8,vl=9,Kt=10,_l=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(_l||{});function Vr(n){return Array.isArray(n)&&typeof n[C0]=="object"}function tr(n){return Array.isArray(n)&&n[C0]===!0}function vm(n){return(n.flags&4)!==0}function jl(n){return n.componentOffset>-1}function Bl(n){return(n.flags&1)===1}function jr(n){return!!n.template}function Rp(n){return(n[re]&512)!==0}var xp=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function D0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function nr(){return T0}function T0(n){return n.type.prototype.ngOnChanges&&(n.setInput=Fx),kx}nr.ngInherit=!0;function kx(){let n=A0(this),e=n?.current;if(e){let t=n.previous;if(t===Ao)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Fx(n,e,t,r,i){let o=this.declaredInputs[r],s=A0(n)||Lx(n,{previous:Ao,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new xp(l&&l.currentValue,t,u===Ao),D0(n,e,i,t)}var S0="__ngSimpleChanges__";function A0(n){return n[S0]||null}function Lx(n,e){return n[S0]=e}var bE=null;var _n=function(n,e,t){bE?.(n,e,t)},Vx="svg",Ux="math";function bn(n){for(;Array.isArray(n);)n=n[er];return n}function M0(n,e){return bn(e[n])}function Qt(n,e){return bn(e[n.index])}function R0(n,e){return n.data[e]}function jx(n,e){return n[e]}function zr(n,e){let t=e[n];return Vr(t)?t:t[er]}function _m(n){return(n[re]&128)===128}function Bx(n){return tr(n[bt])}function Oo(n,e){return e==null?null:n[e]}function x0(n){n[Co]=0}function N0(n){n[re]&1024||(n[re]|=1024,_m(n)&&Hl(n))}function $x(n,e){for(;n>0;)e=e[jo],n--;return e}function $l(n){return!!(n[re]&9216||n[Wt]?.dirty)}function Np(n){n[Kn].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),$l(n)&&Hl(n)}function Hl(n){n[Kn].changeDetectionScheduler?.notify(0);let e=Si(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!_m(e)));)e=Si(e)}function P0(n,e){if((n[re]&256)===256)throw new W(911,!1);n[Lr]===null&&(n[Lr]=[]),n[Lr].push(e)}function Hx(n,e){if(n[Lr]===null)return;let t=n[Lr].indexOf(e);t!==-1&&n[Lr].splice(t,1)}function Si(n){let e=n[bt];return tr(e)?e[bt]:e}var he={lFrame:H0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var O0=!1;function zx(){return he.lFrame.elementDepthCount}function qx(){he.lFrame.elementDepthCount++}function Gx(){he.lFrame.elementDepthCount--}function k0(){return he.bindingsEnabled}function Wx(){return he.skipHydrationRootTNode!==null}function Kx(n){return he.skipHydrationRootTNode===n}function Qx(){he.skipHydrationRootTNode=null}function Te(){return he.lFrame.lView}function ht(){return he.lFrame.tView}function Da(n){return he.lFrame.contextLView=n,n[an]}function Ta(n){return he.lFrame.contextLView=null,n}function Dt(){let n=F0();for(;n!==null&&n.type===64;)n=n.parent;return n}function F0(){return he.lFrame.currentTNode}function Yx(){let n=he.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ni(n,e){let t=he.lFrame;t.currentTNode=n,t.isParent=e}function Im(){return he.lFrame.isParent}function L0(){he.lFrame.isParent=!1}function V0(){return O0}function CE(n){O0=n}function U0(){let n=he.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Jx(n){return he.lFrame.bindingIndex=n}function zl(){return he.lFrame.bindingIndex++}function Zx(n){let e=he.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Xx(){return he.lFrame.inI18n}function eN(n,e){let t=he.lFrame;t.bindingIndex=t.bindingRootIndex=n,Pp(e)}function tN(){return he.lFrame.currentDirectiveIndex}function Pp(n){he.lFrame.currentDirectiveIndex=n}function nN(n){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function j0(n){he.lFrame.currentQueryIndex=n}function rN(n){let e=n[de];return e.type===2?e.declTNode:e.type===1?n[dn]:null}function B0(n,e,t){if(t&ue.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ue.Host);)if(i=rN(o),i===null||(o=o[jo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=he.lFrame=$0();return r.currentTNode=e,r.lView=n,!0}function wm(n){let e=$0(),t=n[de];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function $0(){let n=he.lFrame,e=n===null?null:n.child;return e===null?H0(n):e}function H0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function z0(){let n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var q0=z0;function Em(){let n=z0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function iN(n){return(he.lFrame.contextLView=$x(n,he.lFrame.contextLView))[an]}function Bo(){return he.lFrame.selectedIndex}function Ai(n){he.lFrame.selectedIndex=n}function bm(){let n=he.lFrame;return R0(n.tView,n.selectedIndex)}function oN(){return he.lFrame.currentNamespace}var G0=!0;function ql(){return G0}function Gl(n){G0=n}function sN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=T0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Wl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function al(n,e,t){W0(n,e,3,t)}function cl(n,e,t,r){(n[re]&3)===t&&W0(n,e,t,r)}function hp(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function W0(n,e,t,r){let i=r!==void 0?n[Co]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Co]+=65536),(a<o||o==-1)&&(aN(n,t,e,u),n[Co]=(n[Co]&4294901760)+u+2),u++}function DE(n,e){_n(4,n,e);let t=_e(null);try{e.call(n)}finally{_e(t),_n(5,n,e)}}function aN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[re]>>14<n[Co]>>16&&(n[re]&3)===e&&(n[re]+=16384,DE(a,o)):DE(a,o)}var So=-1,Mi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function cN(n){return n instanceof Mi}function uN(n){return(n.flags&8)!==0}function lN(n){return(n.flags&16)!==0}var fp={},Op=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ll(r);let i=this.injector.get(e,fp,r);return i!==fp||t===fp?i:this.parentInjector.get(e,t,r)}};function K0(n){return n!==So}function Il(n){return n&32767}function dN(n){return n>>16}function wl(n,e){let t=dN(n),r=e;for(;t>0;)r=r[jo],t--;return r}var kp=!0;function El(n){let e=kp;return kp=n,e}var hN=256,Q0=hN-1,Y0=5,fN=0,In={};function pN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ma)&&(r=t[ma]),r==null&&(r=t[ma]=fN++);let i=r&Q0,o=1<<i;e.data[n+(i>>Y0)]|=o}function bl(n,e){let t=J0(n,e);if(t!==-1)return t;let r=e[de];r.firstCreatePass&&(n.injectorIndex=e.length,pp(r.data,n),pp(e,null),pp(r.blueprint,null));let i=Cm(n,e),o=n.injectorIndex;if(K0(i)){let s=Il(i),a=wl(i,e),u=a[de].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function pp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function J0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Cm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=nb(i),r===null)return So;if(t++,i=i[jo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return So}function Fp(n,e,t){pN(n,e,t)}function Z0(n,e,t){if(t&ue.Optional||n!==void 0)return n;hm(e,"NodeInjector")}function X0(n,e,t,r){if(t&ue.Optional&&r===void 0&&(r=null),!(t&(ue.Self|ue.Host))){let i=n[xo],o=Rt(void 0);try{return i?i.get(e,r,t&ue.Optional):i0(e,r,t&ue.Optional)}finally{Rt(o)}}return Z0(r,e,t)}function eb(n,e,t,r=ue.Default,i){if(n!==null){if(e[re]&2048&&!(r&ue.Self)){let s=_N(n,e,t,r,In);if(s!==In)return s}let o=tb(n,e,t,r,In);if(o!==In)return o}return X0(e,t,r,i)}function tb(n,e,t,r,i){let o=yN(t);if(typeof o=="function"){if(!B0(e,n,r))return r&ue.Host?Z0(i,t,r):X0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ue.Optional))hm(t);else return s}finally{q0()}}else if(typeof o=="number"){let s=null,a=J0(n,e),u=So,l=r&ue.Host?e[En][dn]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?Cm(n,e):e[a+8],u===So||!SE(r,!1)?a=-1:(s=e[de],a=Il(u),e=wl(u,e)));a!==-1;){let h=e[de];if(TE(o,a,h.data)){let p=mN(a,e,t,s,r,l);if(p!==In)return p}u=e[a+8],u!==So&&SE(r,e[de].data[a+8]===l)&&TE(o,a,e)?(s=h,a=Il(u),e=wl(u,e)):a=-1}}return i}function mN(n,e,t,r,i,o){let s=e[de],a=s.data[n+8],u=r==null?jl(a)&&kp:r!=s&&(a.type&3)!==0,l=i&ue.Host&&o===a,h=gN(a,s,t,u,l);return h!==null?ko(e,s,h,a):In}function gN(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,v=i?a+h:l;for(let g=p;g<v;g++){let S=s[g];if(g<u&&t===S||g>=u&&S.type===t)return g}if(i){let g=s[u];if(g&&jr(g)&&g.type===t)return u}return null}function ko(n,e,t,r){let i=n[t],o=e.data;if(cN(i)){let s=i;s.resolving&&KR(WR(o[t]));let a=El(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Rt(s.injectImpl):null,h=B0(n,r,ue.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&sN(t,o[t],e)}finally{l!==null&&Rt(l),El(a),s.resolving=!1,q0()}}return i}function yN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ma)?n[ma]:void 0;return typeof e=="number"?e>=0?e&Q0:vN:e}function TE(n,e,t){let r=1<<n;return!!(t[e+(n>>Y0)]&r)}function SE(n,e){return!(n&ue.Self)&&!(n&ue.Host&&e)}var bi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return eb(this._tNode,this._lView,e,Ll(r),t)}};function vN(){return new bi(Dt(),Te())}function Cn(n){return ba(()=>{let e=n.prototype.constructor,t=e[dl]||Lp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[dl]||Lp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lp(n){return ZE(n)?()=>{let e=Lp(wt(n));return e&&e()}:Ci(n)}function _N(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let a=tb(o,s,t,r|ue.Self,In);if(a!==In)return a;let u=o.parent;if(!u){let l=s[b0];if(l){let h=l.get(t,In,r);if(h!==In)return h}u=nb(s),s=s[jo]}o=u}return i}function nb(n){let e=n[de],t=e.type;return t===2?e.declTNode:t===1?n[dn]:null}function AE(n,e=null,t=null,r){let i=rb(n,e,t,r);return i.resolveInjectorInitializers(),i}function rb(n,e=null,t=null,r,i=new Set){let o=[t||Gt,mm(n)];return r=r||(typeof n=="object"?void 0:Et(n)),new va(o,e||ym(),r||null,i)}var Nt=class n{static{this.THROW_IF_NOT_FOUND=ga}static{this.NULL=new pl}static create(e,t){if(Array.isArray(e))return AE({name:""},t,e,"");{let r=e.name??"";return AE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=H({token:n,providedIn:"any",factory:()=>K(c0)})}static{this.__NG_ELEMENT_ID__=-1}};var IN=new z("");IN.__NG_ELEMENT_ID__=n=>{let e=Dt();if(e===null)throw new W(204,!1);if(e.type&2)return e.value;if(n&ue.Optional)return null;throw new W(204,!1)};var wN="ngOriginalError";function mp(n){return n[wN]}var ib=!0,ob=(()=>{class n{static{this.__NG_ELEMENT_ID__=EN}static{this.__NG_ENV_ID__=t=>t}}return n})(),Vp=class extends ob{constructor(e){super(),this._lView=e}onDestroy(e){return P0(this._lView,e),()=>Hx(this._lView,e)}};function EN(){return new Vp(Te())}var rr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Up=class extends it{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Px()&&(this.destroyRef=O(ob,{optional:!0})??void 0,this.pendingTasks=O(rr,{optional:!0})??void 0)}emit(e){let t=_e(null);try{super.next(e)}finally{_e(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Re=Up;function Cl(...n){}function sb(n){let e,t;function r(){n=Cl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function ME(n){return queueMicrotask(()=>n()),()=>{n=Cl}}var Dm="isAngularZone",Dl=Dm+"_ID",bN=0,De=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ib}=e;if(typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,TN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Dm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new W(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,CN,Cl,Cl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},CN={};function Tm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function DN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){sb(()=>{n.callbackScheduled=!1,jp(n),n.isCheckStableRunning=!0,Tm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),jp(n)}function TN(n){let e=()=>{DN(n)},t=bN++;n._inner=n._inner.fork({name:"angular",properties:{[Dm]:!0,[Dl]:t,[Dl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(SN(u))return r.invokeTask(o,s,a,u);try{return RE(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),xE(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return RE(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!AN(u)&&e(),xE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,jp(n),Tm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function jp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function RE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xE(n){n._nesting--,Tm(n)}var Bp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function SN(n){return ab(n,"__ignore_ng_zone__")}function AN(n){return ab(n,"__scheduler_tick__")}function ab(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Qn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&mp(e);for(;t&&mp(t);)t=mp(t);return t||null}},MN=new z("",{providedIn:"root",factory:()=>{let n=O(De),e=O(Qn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function RN(){return Kl(Dt(),Te())}function Kl(n,e){return new Dn(Qt(n,e))}var Dn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=RN}}return n})();function cb(n){return(n.flags&128)===128}var ub=new Map,xN=0;function NN(){return xN++}function PN(n){ub.set(n[Ul],n)}function $p(n){ub.delete(n[Ul])}var NE="__ngContext__";function Br(n,e){Vr(e)?(n[NE]=e[Ul],PN(e)):n[NE]=e}function lb(n){return hb(n[_a])}function db(n){return hb(n[sn])}function hb(n){for(;n!==null&&!tr(n);)n=n[sn];return n}var Hp;function fb(n){Hp=n}function ON(){if(Hp!==void 0)return Hp;if(typeof document<"u")return document;throw new W(210,!1)}var Sm=new z("",{providedIn:"root",factory:()=>kN}),kN="ng",Am=new z(""),Tn=new z("",{providedIn:"platform",factory:()=>"unknown"});var Mm=new z("",{providedIn:"root",factory:()=>ON().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var FN="h",LN="b";var VN=()=>null;function Rm(n,e,t=!1){return VN(n,e,t)}var pb=!1,UN=new z("",{providedIn:"root",factory:()=>pb});var zp=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${LR})`}};function xm(n){return n instanceof zp?n.changingThisBreaksApplicationSecurity:n}var jN=/^>|^->|<!--|-->|--!>|<!-$/g,BN=/(<|>)/g,$N="\u200B$1\u200B";function HN(n){return n.replace(jN,e=>e.replace(BN,$N))}function mb(n){return n instanceof Function?n():n}var Yn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Yn||{}),zN;function Nm(n,e){return zN(n,e)}function Do(n,e,t,r,i){if(r!=null){let o,s=!1;tr(r)?o=r:Vr(r)&&(s=!0,r=r[er]);let a=bn(r);n===0&&t!==null?i==null?Ib(e,t,a):Tl(e,t,a,i||null,!0):n===1&&t!==null?Tl(e,t,a,i||null,!0):n===2?sP(e,a,s):n===3&&e.destroyNode(a),o!=null&&cP(e,n,o,t,i)}}function qN(n,e){return n.createText(e)}function GN(n,e,t){n.setValue(e,t)}function WN(n,e){return n.createComment(HN(e))}function gb(n,e,t){return n.createElement(e,t)}function KN(n,e){yb(n,e),e[er]=null,e[dn]=null}function QN(n,e,t,r,i,o){r[er]=i,r[dn]=e,Yl(n,r,t,1,i,o)}function yb(n,e){e[Kn].changeDetectionScheduler?.notify(9),Yl(n,e,e[ze],2,null,null)}function YN(n){let e=n[_a];if(!e)return gp(n[de],n);for(;e;){let t=null;if(Vr(e))t=e[_a];else{let r=e[Kt];r&&(t=r)}if(!t){for(;e&&!e[sn]&&e!==n;)Vr(e)&&gp(e[de],e),e=e[bt];e===null&&(e=n),Vr(e)&&gp(e[de],e),t=e&&e[sn]}e=t}}function JN(n,e,t,r){let i=Kt+r,o=t.length;r>0&&(t[i-1][sn]=e),r<o-Kt?(e[sn]=t[i],a0(t,Kt+r,e)):(t.push(e),e[sn]=null),e[bt]=t;let s=e[No];s!==null&&t!==s&&vb(s,e);let a=e[Po];a!==null&&a.insertView(n),Np(e),e[re]|=128}function vb(n,e){let t=n[vl],r=e[bt];if(Vr(r))n[re]|=_l.HasTransplantedViews;else{let i=r[bt][En];e[En]!==i&&(n[re]|=_l.HasTransplantedViews)}t===null?n[vl]=[e]:t.push(e)}function Pm(n,e){let t=n[vl],r=t.indexOf(e);t.splice(r,1)}function qp(n,e){if(n.length<=Kt)return;let t=Kt+e,r=n[t];if(r){let i=r[No];i!==null&&i!==n&&Pm(i,r),e>0&&(n[t-1][sn]=r[sn]);let o=fl(n,Kt+e);KN(r[de],r);let s=o[Po];s!==null&&s.detachView(o[de]),r[bt]=null,r[sn]=null,r[re]&=-129}return r}function _b(n,e){if(!(e[re]&256)){let t=e[ze];t.destroyNode&&Yl(n,e,t,3,null,null),YN(e)}}function gp(n,e){if(e[re]&256)return;let t=_e(null);try{e[re]&=-129,e[re]|=256,e[Wt]&&Hf(e[Wt]),XN(n,e),ZN(n,e),e[de].type===1&&e[ze].destroy();let r=e[No];if(r!==null&&tr(e[bt])){r!==e[bt]&&Pm(r,e);let i=e[Po];i!==null&&i.detachView(n)}$p(e)}finally{_e(t)}}function ZN(n,e){let t=n.cleanup,r=e[gl];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[gl]=null);let i=e[Lr];if(i!==null){e[Lr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function XN(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Mi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];_n(4,a,u);try{u.call(a)}finally{_n(5,a,u)}}else{_n(4,i,o);try{o.call(i)}finally{_n(5,i,o)}}}}}function eP(n,e,t){return tP(n,e.parent,t)}function tP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[er];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===wn.None||o===wn.Emulated)return null}return Qt(r,t)}}function Tl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Ib(n,e,t){n.appendChild(e,t)}function PE(n,e,t,r,i){r!==null?Tl(n,e,t,r,i):Ib(n,e,t)}function wb(n,e){return n.parentNode(e)}function nP(n,e){return n.nextSibling(e)}function rP(n,e,t){return oP(n,e,t)}function iP(n,e,t){return n.type&40?Qt(n,t):null}var oP=iP,OE;function Ql(n,e,t,r){let i=eP(n,r,e),o=e[ze],s=r.parent||e[dn],a=rP(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)PE(o,i,t[u],a,!1);else PE(o,i,t,a,!1);OE!==void 0&&OE(o,r,e,t,i)}function fa(n,e){if(e!==null){let t=e.type;if(t&3)return Qt(e,n);if(t&4)return Gp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return fa(n,r);{let i=n[e.index];return tr(i)?Gp(-1,i):bn(i)}}else{if(t&128)return fa(n,e.next);if(t&32)return Nm(e,n)()||bn(n[e.index]);{let r=Eb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Si(n[En]);return fa(i,r)}else return fa(n,e.next)}}}return null}function Eb(n,e){if(e!==null){let r=n[En][dn],i=e.projection;return r.projection[i]}return null}function Gp(n,e){let t=Kt+n+1;if(t<e.length){let r=e[t],i=r[de].firstChild;if(i!==null)return fa(r,i)}return e[Ti]}function sP(n,e,t){n.removeChild(null,e,t)}function Om(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Br(bn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Om(n,e,t.child,r,i,o,!1),Do(e,n,i,a,o);else if(u&32){let l=Nm(t,r),h;for(;h=l();)Do(e,n,i,h,o);Do(e,n,i,a,o)}else u&16?aP(n,e,r,t,i,o):Do(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Yl(n,e,t,r,i,o){Om(t,r,n.firstChild,e,i,o,!1)}function aP(n,e,t,r,i,o){let s=t[En],u=s[dn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Do(e,n,i,h,o)}else{let l=u,h=s[bt];cb(r)&&(l.flags|=128),Om(n,e,l,h,i,o,!0)}}function cP(n,e,t,r,i){let o=t[Ti],s=bn(t);o!==s&&Do(e,n,r,o,i);for(let a=Kt;a<t.length;a++){let u=t[a];Yl(u[de],u,n,e,r,o)}}function uP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Yn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yn.Important),n.setStyle(t,r,i,o))}}function lP(n,e,t){n.setAttribute(e,"style",t)}function bb(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Cb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Tp(n,e,r),i!==null&&bb(n,e,i),o!==null&&lP(n,e,o)}var Pi={};function j(n=1){Db(ht(),Te(),Bo()+n,!1)}function Db(n,e,t,r){if(!r)if((e[re]&3)===3){let o=n.preOrderCheckHooks;o!==null&&al(e,o,t)}else{let o=n.preOrderHooks;o!==null&&cl(e,o,0,t)}Ai(t)}function $(n,e=ue.Default){let t=Te();if(t===null)return K(n,e);let r=Dt();return eb(r,t,wt(n),e)}function Tb(n,e,t,r,i,o){let s=_e(null);try{let a=null;i&Ur.SignalBased&&(a=e[r][qn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ur.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):D0(e,a,r,o)}finally{_e(s)}}function dP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ai(~i);else{let o=i,s=t[++r],a=t[++r];eN(s,o);let u=e[o];a(2,u)}}}finally{Ai(-1)}}function Jl(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[er]=i,p[re]=r|4|128|8|64,(l!==null||n&&n[re]&2048)&&(p[re]|=2048),x0(p),p[bt]=p[jo]=n,p[an]=t,p[Kn]=s||n&&n[Kn],p[ze]=a||n&&n[ze],p[xo]=u||n&&n[xo]||null,p[dn]=o,p[Ul]=NN(),p[ml]=h,p[b0]=l,p[En]=e.type==2?n[En]:p,p}function Sa(n,e,t,r,i){let o=n.data[e];if(o===null)o=hP(n,e,t,r,i),Xx()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Yx();o.injectorIndex=s===null?-1:s.injectorIndex}return Ni(o,!0),o}function hP(n,e,t,r,i){let o=F0(),s=Im(),a=s?o:o&&o.parent,u=n.data[e]=yP(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Sb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ab(n,e,t,r,i){let o=Bo(),s=r&2;try{Ai(-1),s&&e.length>cn&&Db(n,e,cn,!1),_n(s?2:0,i),t(r,i)}finally{Ai(o),_n(s?3:1,i)}}function km(n,e,t){if(vm(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{_e(r)}}}function Fm(n,e,t){k0()&&(bP(n,e,t,Qt(t,e)),(t.flags&64)===64&&Nb(n,e,t))}function Lm(n,e,t=Qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Mb(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Vm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Vm(n,e,t,r,i,o,s,a,u,l,h){let p=cn+r,v=p+i,g=fP(p,v),S=typeof l=="function"?l():l;return g[de]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function fP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Pi);return t}function pP(n,e,t,r){let o=r.get(UN,pb)||t===wn.ShadowDom,s=n.selectRootElement(e,o);return mP(s),s}function mP(n){gP(n)}var gP=()=>null;function yP(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Wx()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kE(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Ur.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?FE(r,t,l,a,u):FE(r,t,l,a)}return r}function FE(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function vP(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],v=t?t.get(p):null,g=v?v.inputs:null,S=v?v.outputs:null;u=kE(0,p.inputs,h,u,g),l=kE(1,p.outputs,h,l,S);let x=u!==null&&s!==null&&!pm(e)?OP(u,h,s):null;a.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function _P(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Rb(n,e,t,r,i,o,s,a){let u=Qt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(jm(n,t,h,r,i),jl(e)&&IP(t,e.index)):e.type&3?(r=_P(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function IP(n,e){let t=zr(e,n);t[re]&16||(t[re]|=64)}function Um(n,e,t,r){if(k0()){let i=r===null?null:{"":-1},o=DP(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&xb(n,e,t,s,i,a),i&&TP(t,r,i)}t.mergedAttrs=ya(t.mergedAttrs,t.attrs)}function xb(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Fp(bl(t,e),n,r[l].type);AP(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Sb(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=ya(t.mergedAttrs,h.hostAttrs),MP(n,t,e,u,h),SP(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}vP(n,t,o)}function wP(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;EP(s)!=a&&s.push(a),s.push(t,r,o)}}function EP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function bP(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;jl(t)&&RP(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||bl(t,e),Br(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=ko(e,n,a,t);if(Br(l,e),s!==null&&PP(e,a-i,l,u,t,s),jr(u)){let h=zr(t.index,e);h[an]=ko(e,n,a,t)}}}function Nb(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=tN();try{Ai(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Pp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&CP(u,l)}}finally{Ai(-1),Pp(s)}}function CP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function DP(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(px(e,s.selectors,!1))if(r||(r=[]),jr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Wp(n,e,u)}else r.unshift(s),Wp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Wp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function TP(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}}function SP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;jr(e)&&(t[""]=n)}}function AP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function MP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ci(i.type,!0)),s=new Mi(o,jr(i),$);n.blueprint[r]=s,t[r]=s,wP(n,e,r,Sb(n,t,i.hostVars,Pi),i)}function RP(n,e,t){let r=Qt(e,n),i=Mb(t),o=n[Kn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Zl(n,Jl(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function xP(n,e,t,r,i,o){let s=Qt(n,e);NP(e[ze],s,o,n.value,t,r,i)}function NP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?dm(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function PP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Tb(r,t,u,l,h,p)}}function OP(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function Pb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Ob(n,e){let t=n.contentQueries;if(t!==null){let r=_e(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];j0(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function Zl(n,e){return n[_a]?n[EE][sn]=e:n[_a]=e,n[EE]=e,e}function Kp(n,e,t){j0(0);let r=_e(null);try{e(n,t)}finally{_e(r)}}function kP(n){return n[gl]??=[]}function FP(n){return n.cleanup??=[]}function kb(n,e){let t=n[xo],r=t?t.get(Qn,null):null;r&&r.handleError(e)}function jm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];Tb(h,l,r,a,u,i)}}function LP(n,e,t){let r=M0(e,n);GN(n[ze],r,t)}function VP(n,e){let t=zr(e,n),r=t[de];UP(r,t);let i=t[er];i!==null&&t[ml]===null&&(t[ml]=Rm(i,t[xo])),Bm(r,t,t[an])}function UP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Bm(n,e,t){wm(e);try{let r=n.viewQuery;r!==null&&Kp(1,r,t);let i=n.template;i!==null&&Ab(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Po]?.finishViewCreation(n),n.staticContentQueries&&Ob(n,e),n.staticViewQueries&&Kp(2,n.viewQuery,t);let o=n.components;o!==null&&jP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,Em()}}function jP(n,e){for(let t=0;t<e.length;t++)VP(n,e[t])}function BP(n,e,t,r){let i=_e(null);try{let o=e.tView,a=n[re]&4096?4096:16,u=Jl(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[No]=l;let h=n[Po];return h!==null&&(u[Po]=h.createEmbeddedView(o)),Bm(o,u,t),u}finally{_e(i)}}function LE(n,e){return!e||e.firstChild===null||cb(n)}function $P(n,e,t,r=!0){let i=e[de];if(JN(i,e,n,t),r){let s=Gp(t,n),a=e[ze],u=wb(a,n[Ti]);u!==null&&QN(i,n[dn],a,e,u,s)}let o=e[ml];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Sl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(bn(o)),tr(o)&&HP(o,r);let s=t.type;if(s&8)Sl(n,e,t.child,r);else if(s&32){let a=Nm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Eb(e,t);if(Array.isArray(a))r.push(...a);else{let u=Si(e[En]);Sl(u[de],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function HP(n,e){for(let t=Kt;t<n.length;t++){let r=n[t],i=r[de].firstChild;i!==null&&Sl(r[de],r,i,e)}n[Ti]!==n[er]&&e.push(n[Ti])}var Fb=[];function zP(n){return n[Wt]??qP(n)}function qP(n){let e=Fb.pop()??Object.create(WP);return e.lView=n,e}function GP(n){n.lView[Wt]!==n&&(n.lView=null,Fb.push(n))}var WP=le(L({},ua),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Hl(n.lView)},consumerOnSignalRead(){this.lView[Wt]=this}});function KP(n){let e=n[Wt]??Object.create(QP);return e.lView=n,e}var QP=le(L({},ua),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Si(n.lView);for(;e&&!Lb(e[de]);)e=Si(e);e&&N0(e)},consumerOnSignalRead(){this.lView[Wt]=this}});function Lb(n){return n.type!==2}var YP=100;function Vb(n,e=!0,t=0){let r=n[Kn],i=r.rendererFactory,o=!1;o||i.begin?.();try{JP(n,t)}catch(s){throw e&&kb(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function JP(n,e){let t=V0();try{CE(!0),Qp(n,e);let r=0;for(;$l(n);){if(r===YP)throw new W(103,!1);r++,Qp(n,1)}}finally{CE(t)}}function ZP(n,e,t,r){let i=e[re];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Kn].inlineEffectRunner?.flush(),wm(e);let a=!0,u=null,l=null;o||(Lb(n)?(l=zP(e),u=Du(l)):Aw()===null?(a=!1,l=KP(e),u=Du(l)):e[Wt]&&(Hf(e[Wt]),e[Wt]=null));try{x0(e),Jx(n.bindingStartIndex),t!==null&&Ab(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let g=n.preOrderCheckHooks;g!==null&&al(e,g,null)}else{let g=n.preOrderHooks;g!==null&&cl(e,g,0,null),hp(e,0)}if(s||XP(e),Ub(e,0),n.contentQueries!==null&&Ob(n,e),!o)if(h){let g=n.contentCheckHooks;g!==null&&al(e,g)}else{let g=n.contentHooks;g!==null&&cl(e,g,1),hp(e,1)}dP(n,e);let p=n.components;p!==null&&Bb(e,p,0);let v=n.viewQuery;if(v!==null&&Kp(2,v,r),!o)if(h){let g=n.viewCheckHooks;g!==null&&al(e,g)}else{let g=n.viewHooks;g!==null&&cl(e,g,2),hp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[dp]){for(let g of e[dp])g();e[dp]=null}o||(e[re]&=-73)}catch(h){throw o||Hl(e),h}finally{l!==null&&(Bf(l,u),a&&GP(l)),Em()}}function Ub(n,e){for(let t=lb(n);t!==null;t=db(t))for(let r=Kt;r<t.length;r++){let i=t[r];jb(i,e)}}function XP(n){for(let e=lb(n);e!==null;e=db(e)){if(!(e[re]&_l.HasTransplantedViews))continue;let t=e[vl];for(let r=0;r<t.length;r++){let i=t[r];N0(i)}}}function eO(n,e,t){let r=zr(e,n);jb(r,t)}function jb(n,e){_m(n)&&Qp(n,e)}function Qp(n,e){let r=n[de],i=n[re],o=n[Wt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&$f(o)),s||=!1,o&&(o.dirty=!1),n[re]&=-9217,s)ZP(r,n,r.template,n[an]);else if(i&8192){Ub(n,1);let a=r.components;a!==null&&Bb(n,a,1)}}function Bb(n,e,t){for(let r=0;r<e.length;r++)eO(n,e[r],t)}function $m(n,e){let t=V0()?64:1088;for(n[Kn].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=Si(n);if(Rp(n)&&!r)return n;n=r}return null}var Ri=class{get rootNodes(){let e=this._lView,t=e[de];return Sl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[an]}set context(e){this._lView[an]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bt];if(tr(e)){let t=e[yl],r=t?t.indexOf(this):-1;r>-1&&(qp(e,r),fl(t,r))}this._attachedToViewContainer=!1}_b(this._lView[de],this._lView)}onDestroy(e){P0(this._lView,e)}markForCheck(){$m(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Np(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,Vb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Rp(this._lView),t=this._lView[No];t!==null&&!e&&Pm(t,this._lView),yb(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e;let t=Rp(this._lView),r=this._lView[No];r!==null&&!t&&vb(r,this._lView),Np(this._lView)}},Xl=(()=>{class n{static{this.__NG_ELEMENT_ID__=rO}}return n})(),tO=Xl,nO=class extends tO{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=BP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ri(i)}};function rO(){return iO(Dt(),Te())}function iO(n,e){return n.type&4?new nO(e,n,Kl(n,e)):null}var f9=new RegExp(`^(\\d+)*(${LN}|${FN})*(.*)`);var oO=()=>null;function VE(n,e){return oO(n,e)}var Fo=class{},Hm=new z("",{providedIn:"root",factory:()=>!1});var $b=new z(""),Hb=new z(""),Yp=class{},Al=class{};function sO(n){let e=Error(`No component factory found for ${Et(n)}.`);return e[aO]=n,e}var aO="ngComponent";var Jp=class{resolveComponentFactory(e){throw sO(e)}},Lo=class{static{this.NULL=new Jp}},Vo=class{},ir=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>cO()}}return n})();function cO(){let n=Te(),e=Dt(),t=zr(e.index,n);return(Vr(t)?t:n)[ze]}var uO=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>null})}}return n})();function Ml(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=hE(i,a);else if(o==2){let u=a,l=e[++s];r=hE(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Rl=class extends Lo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Di(e);return new Ia(t,this.ngModule)}};function UE(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Ur.None;e?t.push({propName:s,templateName:r,isSignal:(a&Ur.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function lO(n){let e=n.toLowerCase();return e==="svg"?Vx:e==="math"?Ux:null}var Ia=class extends Al{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=UE(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return UE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=vx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof xt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Op(e,s):e,u=a.get(Vo,null);if(u===null)throw new W(407,!1);let l=a.get(uO,null),h=a.get(Fo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},v=u.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",S=r?pP(v,r,this.componentDef.encapsulation,a):gb(v,g,lO(g)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let M=null;S!==null&&(M=Rm(S,a,!0));let V=Vm(0,null,null,1,0,null,null,null,null,null,null),G=Jl(null,V,null,x,null,null,p,v,a,null,M);wm(G);let B,Z,ve=null;try{let Y=this.componentDef,E,y=null;Y.findHostDirectiveDefs?(E=[],y=new Map,Y.findHostDirectiveDefs(Y,E,y),E.push(Y)):E=[Y];let _=dO(G,S);ve=hO(_,S,Y,E,G,p,v),Z=R0(V,cn),S&&mO(v,Y,S,r),t!==void 0&&gO(Z,this.ngContentSelectors,t),B=pO(ve,Y,E,y,G,[yO]),Bm(V,G,null)}catch(Y){throw ve!==null&&$p(ve),$p(G),Y}finally{Em()}return new Zp(this.componentType,B,Kl(Z,G),G,Z)}finally{_e(o)}}},Zp=class extends Yp{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ri(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;jm(o[de],o,i,e,t),this.previousInputValues.set(e,t);let s=zr(this._tNode.index,o);$m(s,1)}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dO(n,e){let t=n[de],r=cn;return n[r]=e,Sa(t,r,2,"#host",null)}function hO(n,e,t,r,i,o,s){let a=i[de];fO(r,n,e,s);let u=null;e!==null&&(u=Rm(e,i[xo]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Jl(i,Mb(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&Wp(a,n,r.length-1),Zl(i,p),i[n.index]=p}function fO(n,e,t,r){for(let i of n)e.mergedAttrs=ya(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ml(e,e.mergedAttrs,!0),t!==null&&Cb(r,t,e))}function pO(n,e,t,r,i,o){let s=Dt(),a=i[de],u=Qt(s,i);xb(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,v=ko(i,a,p,s);Br(v,i)}Nb(a,i,s),u&&Br(u,i);let l=ko(i,a,s.directiveStart+s.componentOffset,s);if(n[an]=i[an]=l,o!==null)for(let h of o)h(l,e);return km(a,s,i),l}function mO(n,e,t,r){if(r)Tp(n,t,["ng-version","18.2.8"]);else{let{attrs:i,classes:o}=_x(e.selectors[0]);i&&Tp(n,t,i),o&&o.length>0&&bb(n,t,o.join(" "))}}function gO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function yO(){let n=Dt();Wl(Te()[de],n)}var $o=(()=>{class n{static{this.__NG_ELEMENT_ID__=vO}}return n})();function vO(){let n=Dt();return IO(n,Te())}var _O=$o,zb=class extends _O{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Kl(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cm(this._hostTNode,this._hostLView);if(K0(e)){let t=wl(e,this._hostLView),r=Il(e),i=t[de].data[r+8];return new bi(i,t)}else return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=jE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=VE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,LE(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Ox(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Ia(Di(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?l:this.parentInjector).get(xt,null);x&&(o=x)}let h=Di(u.componentType??{}),p=VE(this._lContainer,h?.id??null),v=p?.firstChild??null,g=u.create(l,i,v,o);return this.insertImpl(g.hostView,a,LE(this._hostTNode,p)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Bx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[bt],l=new zb(u,u[dn],u[bt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return $P(s,i,o,r),e.attachToViewContainerRef(),a0(yp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=jE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=qp(this._lContainer,t);r&&(fl(yp(this._lContainer),t),_b(r[de],r))}detach(e){let t=this._adjustIndex(e,-1),r=qp(this._lContainer,t);return r&&fl(yp(this._lContainer),t)!=null?new Ri(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function jE(n){return n[yl]}function yp(n){return n[yl]||(n[yl]=[])}function IO(n,e){let t,r=e[n.index];return tr(r)?t=r:(t=Pb(r,e,null,n),e[n.index]=t,Zl(e,t)),EO(t,e,n,r),new zb(t,n,e)}function wO(n,e){let t=n[ze],r=t.createComment(""),i=Qt(e,n),o=wb(t,i);return Tl(t,o,r,nP(t,i),!1),r}var EO=DO,bO=()=>!1;function CO(n,e,t){return bO(n,e,t)}function DO(n,e,t,r){if(n[Ti])return;let i;t.type&8?i=bn(r):i=wO(e,t),n[Ti]=i}var BE=new Set;function Aa(n){BE.has(n)||(BE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function TO(n){return typeof n=="function"&&n[qn]!==void 0}function Ho(n,e){Aa("NgSignals");let t=Uw(n),r=t[qn];return e?.equal&&(r.equal=e.equal),t.set=i=>zf(r,i),t.update=i=>jw(r,i),t.asReadonly=SO.bind(t),t}function SO(){let n=this[qn];if(n.readonlyFn===void 0){let e=()=>this();e[qn]=n,n.readonlyFn=e}return n.readonlyFn}function qb(n){return TO(n)&&typeof n.set=="function"}function AO(n){return Object.getPrototypeOf(n.prototype).constructor}function Tt(n){let e=AO(n.type),t=!0,r=[n];for(;e;){let i;if(jr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=rl(n.inputs),s.inputTransforms=rl(n.inputTransforms),s.declaredInputs=rl(n.declaredInputs),s.outputs=rl(n.outputs);let a=i.hostBindings;a&&PO(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&xO(n,u),l&&NO(n,l),MO(n,i),UR(n.outputs,i.outputs),jr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Tt&&(t=!1)}}e=Object.getPrototypeOf(e)}RO(r)}function MO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function RO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ya(i.hostAttrs,t=ya(t,i.hostAttrs))}}function rl(n){return n===Ao?{}:n===Gt?[]:n}function xO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function NO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function PO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var $r=class{},wa=class{};var Xp=class extends $r{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rl(this);let o=g0(e);this._bootstrapComponents=mb(o.bootstrap),this._r3Injector=rb(e,t,[{provide:$r,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver},...r],Et(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},em=class extends wa{constructor(e){super(),this.moduleType=e}create(e){return new Xp(this.moduleType,e,[])}};var xl=class extends $r{constructor(e){super(),this.componentFactoryResolver=new Rl(this),this.instance=null;let t=new va([...e.providers,{provide:$r,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver}],e.parent||ym(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zm(n,e,t=null){return new xl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function Gb(n){return kO(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function OO(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function kO(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Wb(n,e,t){return n[e]=t}function Hr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function FO(n,e,t,r){let i=Hr(n,e,t);return Hr(n,e+1,r)||i}function LO(n){return(n.flags&32)===32}function VO(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Sa(e,n,4,s||null,a||null);Um(e,t,h,Oo(l,u)),Wl(e,h);let p=h.tView=Vm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function UO(n,e,t,r,i,o,s,a,u,l){let h=t+cn,p=e.firstCreatePass?VO(h,e,n,r,i,o,s,a,u):e.data[h];Ni(p,!1);let v=jO(e,n,p,t);ql()&&Ql(e,n,v,p),Br(v,n);let g=Pb(v,n,v,p);return n[h]=g,Zl(n,g),CO(g,p,n),Bl(p)&&Fm(e,n,p),u!=null&&Lm(n,p,l),p}function xe(n,e,t,r,i,o,s,a){let u=Te(),l=ht(),h=Oo(l.consts,o);return UO(u,l,n,e,t,r,i,h,s,a),xe}var jO=BO;function BO(n,e,t,r){return Gl(!0),e[ze].createComment("")}var pa=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(pa||{}),$O=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})(),$E=class n{constructor(){this.ngZone=O(De),this.scheduler=O(Fo),this.errorHandler=O(Qn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[pa.EarlyRead,pa.Write,pa.MixedReadWrite,pa.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}};function Ma(n,e,t,r){let i=Te(),o=zl();if(Hr(i,o,e)){let s=ht(),a=bm();xP(a,i,n,e,t,r)}return Ma}function HO(n,e,t,r){return Hr(n,zl(),t)?e+dm(t)+r:Pi}function il(n,e){return n<<17|e<<2}function xi(n){return n>>17&32767}function zO(n){return(n&2)==2}function qO(n,e){return n&131071|e<<17}function tm(n){return n|2}function Uo(n){return(n&131068)>>2}function vp(n,e){return n&-131069|e<<2}function GO(n){return(n&1)===1}function nm(n){return n|1}function WO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=xi(s),u=Uo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ca(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let v=xi(n[a+1]);n[r+1]=il(v,a),v!==0&&(n[v+1]=vp(n[v+1],r)),n[a+1]=qO(n[a+1],r)}else n[r+1]=il(a,0),a!==0&&(n[a+1]=vp(n[a+1],r)),a=r;else n[r+1]=il(u,0),a===0?a=r:n[u+1]=vp(n[u+1],r),u=r;l&&(n[r+1]=tm(n[r+1])),HE(n,h,r,!0),HE(n,h,r,!1),KO(e,h,n,r,o),s=il(a,u),o?e.classBindings=s:e.styleBindings=s}function KO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ca(o,e)>=0&&(t[r+1]=nm(t[r+1]))}function HE(n,e,t,r){let i=n[t+1],o=e===null,s=r?xi(i):Uo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];QO(u,e)&&(a=!0,n[s+1]=r?nm(l):tm(l)),s=r?xi(l):Uo(l)}a&&(n[t+1]=r?tm(i):nm(i))}function QO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ca(n,e)>=0:!1}function J(n,e,t){let r=Te(),i=zl();if(Hr(r,i,e)){let o=ht(),s=bm();Rb(o,s,r,n,e,r[ze],t,!1)}return J}function zE(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";jm(n,t,o[s],s,r)}function ed(n,e){return YO(n,e,null,!0),ed}function YO(n,e,t,r){let i=Te(),o=ht(),s=Zx(2);if(o.firstUpdatePass&&ZO(o,n,s,r),e!==Pi&&Hr(i,s,e)){let a=o.data[Bo()];r1(o,a,i,i[ze],n,i[s+1]=i1(e,t),r,s)}}function JO(n,e){return e>=n.expandoStartIndex}function ZO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Bo()],s=JO(n,t);o1(o,r)&&e===null&&!s&&(e=!1),e=XO(i,o,e,r),WO(i,o,e,t,s,r)}}function XO(n,e,t,r){let i=nN(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=_p(null,n,e,t,r),t=Ea(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=_p(i,n,e,t,r),o===null){let u=e1(n,e,r);u!==void 0&&Array.isArray(u)&&(u=_p(null,n,e,u[1],r),u=Ea(u,e.attrs,r),t1(n,e,r,u))}else o=n1(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function e1(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Uo(r)!==0)return n[xi(r)]}function t1(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[xi(i)]=r}function n1(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ea(r,s,t)}return Ea(r,e.attrs,t)}function _p(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ea(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ea(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ox(n,s,t?!0:e[++o]))}return n===void 0?null:n}function r1(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=GO(l)?qE(u,e,t,i,Uo(l),s):void 0;if(!Nl(h)){Nl(o)||zO(l)&&(o=qE(u,null,t,i,a,s));let p=M0(Bo(),t);uP(r,s,p,i,o)}}function qE(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,v=t[i+1];v===Pi&&(v=p?Gt:void 0);let g=p?up(v,r):h===r?v:void 0;if(l&&!Nl(g)&&(g=up(u,r)),Nl(g)&&(a=g,s))return a;let S=n[i+1];i=s?xi(S):Uo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=up(u,r))}return a}function Nl(n){return n!==void 0}function i1(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Et(xm(n)))),n}function o1(n,e){return(n.flags&(e?8:16))!==0}function s1(n,e,t,r,i,o){let s=e.consts,a=Oo(s,i),u=Sa(e,n,2,r,a);return Um(e,t,u,Oo(s,o)),u.attrs!==null&&Ml(u,u.attrs,!1),u.mergedAttrs!==null&&Ml(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function N(n,e,t,r){let i=Te(),o=ht(),s=cn+n,a=i[ze],u=o.firstCreatePass?s1(s,o,i,e,t,r):o.data[s],l=a1(o,i,u,a,e,n);i[s]=l;let h=Bl(u);return Ni(u,!0),Cb(a,l,u),!LO(u)&&ql()&&Ql(o,i,l,u),zx()===0&&Br(l,i),qx(),h&&(Fm(o,i,u),km(o,u,i)),r!==null&&Lm(i,u),N}function R(){let n=Dt();Im()?L0():(n=n.parent,Ni(n,!1));let e=n;Kx(e)&&Qx(),Gx();let t=ht();return t.firstCreatePass&&(Wl(t,n),vm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&uN(e)&&zE(t,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&lN(e)&&zE(t,e,Te(),e.stylesWithoutHost,!1),R}function qe(n,e,t,r){return N(n,e,t,r),R(),qe}var a1=(n,e,t,r,i,o)=>(Gl(!0),gb(r,i,oN()));function c1(n,e,t,r,i){let o=e.consts,s=Oo(o,r),a=Sa(e,n,8,"ng-container",s);s!==null&&Ml(a,s,!0);let u=Oo(o,i);return Um(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function qr(n,e,t){let r=Te(),i=ht(),o=n+cn,s=i.firstCreatePass?c1(o,i,r,e,t):i.data[o];Ni(s,!0);let a=u1(i,r,s,n);return r[o]=a,ql()&&Ql(i,r,a,s),Br(a,r),Bl(s)&&(Fm(i,r,s),km(i,s,r)),t!=null&&Lm(r,s),qr}function Gr(){let n=Dt(),e=ht();return Im()?L0():(n=n.parent,Ni(n,!1)),e.firstCreatePass&&(Wl(e,n),vm(n)&&e.queries.elementEnd(n)),Gr}var u1=(n,e,t,r)=>(Gl(!0),WN(e[ze],""));function Ra(){return Te()}var Ei=void 0;function l1(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var d1=["en",[["a","p"],["AM","PM"],Ei],[["AM","PM"],Ei,Ei],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ei,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ei,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ei,"{1} 'at' {0}",Ei],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",l1],Ip={};function qm(n){let e=h1(n),t=GE(e);if(t)return t;let r=e.split("-")[0];if(t=GE(r),t)return t;if(r==="en")return d1;throw new W(701,!1)}function GE(n){return n in Ip||(Ip[n]=ha.ng&&ha.ng.common&&ha.ng.common.locales&&ha.ng.common.locales[n]),Ip[n]}var zo=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(zo||{});function h1(n){return n.toLowerCase().replace(/_/g,"-")}var Pl="en-US";var f1=Pl;function p1(n){typeof n=="string"&&(f1=n.toLowerCase().replace(/_/g,"-"))}var m1=(n,e,t)=>{};function Ee(n,e,t,r){let i=Te(),o=ht(),s=Dt();return Kb(o,i,i[ze],s,n,e,r),Ee}function g1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[gl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Kb(n,e,t,r,i,o,s){let a=Bl(r),l=n.firstCreatePass&&FP(n),h=e[an],p=kP(e),v=!0;if(r.type&3||s){let x=Qt(r,e),M=s?s(x):x,V=p.length,G=s?Z=>s(bn(Z[r.index])):r.index,B=null;if(!s&&a&&(B=g1(n,e,i,r.index)),B!==null){let Z=B.__ngLastListenerFn__||B;Z.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,v=!1}else{o=KE(r,e,h,o),m1(x,i,o);let Z=t.listen(M,i,o);p.push(o,Z),l&&l.push(i,G,V,V+1)}}else o=KE(r,e,h,o);let g=r.outputs,S;if(v&&g!==null&&(S=g[i])){let x=S.length;if(x)for(let M=0;M<x;M+=2){let V=S[M],G=S[M+1],ve=e[V][G].subscribe(o),Y=p.length;p.push(o,ve),l&&l.push(i,r.index,Y,-(Y+1))}}}function WE(n,e,t,r){let i=_e(null);try{return _n(6,e,t),t(r)!==!1}catch(o){return kb(n,o),!1}finally{_n(7,e,t),_e(i)}}function KE(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?zr(n.index,e):e;$m(s,5);let a=WE(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=WE(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Ze(n=1){return iN(n)}function y1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function P(n,e=""){let t=Te(),r=ht(),i=n+cn,o=r.firstCreatePass?Sa(r,i,1,e,null):r.data[i],s=v1(r,t,o,e,n);t[i]=s,ql()&&Ql(r,t,s,o),Ni(o,!1)}var v1=(n,e,t,r,i)=>(Gl(!0),qN(e[ze],r));function Yt(n){return Ge("",n,""),Yt}function Ge(n,e,t){let r=Te(),i=HO(r,n,e,t);return i!==Pi&&LP(r,Bo(),i),Ge}function ft(n,e,t){qb(e)&&(e=e());let r=Te(),i=zl();if(Hr(r,i,e)){let o=ht(),s=bm();Rb(o,s,r,n,e,r[ze],t,!1)}return ft}function St(n,e){let t=qb(n);return t&&n.set(e),t}function pt(n,e){let t=Te(),r=ht(),i=Dt();return Kb(r,t,t[ze],i,n,e),pt}function _1(n,e,t){let r=ht();if(r.firstCreatePass){let i=jr(n);rm(t,r.data,r.blueprint,i,!0),rm(e,r.data,r.blueprint,i,!1)}}function rm(n,e,t,r,i){if(n=wt(n),Array.isArray(n))for(let o=0;o<n.length;o++)rm(n[o],e,t,r,i);else{let o=ht(),s=Te(),a=Dt(),u=Ro(n)?n:wt(n.provide),l=E0(n),h=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(Ro(n)||!n.multi){let g=new Mi(l,i,$),S=Ep(u,e,i?h:h+v,p);S===-1?(Fp(bl(a,s),o,u),wp(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[S]=g,s[S]=g)}else{let g=Ep(u,e,h+v,p),S=Ep(u,e,h,h+v),x=g>=0&&t[g],M=S>=0&&t[S];if(i&&!M||!i&&!x){Fp(bl(a,s),o,u);let V=E1(i?w1:I1,t.length,i,r,l);!i&&M&&(t[S].providerFactory=V),wp(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=Qb(t[i?S:g],l,!i&&r);wp(o,n,g>-1?g:S,V)}!i&&r&&M&&t[S].componentProviders++}}}function wp(n,e,t,r){let i=Ro(e),o=Tx(e);if(i||o){let u=(o?wt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function Qb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ep(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function I1(n,e,t,r){return im(this.multi,[])}function w1(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ko(t,t[de],this.providerFactory.index,r);o=a.slice(0,s),im(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],im(i,o);return o}function im(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function E1(n,e,t,r,i){let o=new Mi(n,t,$);return o.multi=[],o.index=e,o.componentProviders=0,Qb(o,i,r&&!t),o}function $t(n,e=[]){return t=>{t.providersResolver=(r,i)=>_1(r,i?i(n):n,e)}}var b1=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=_0(!1,t.type),i=r.length>0?zm([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(K(xt))})}}return n})();function Ue(n){Aa("NgStandalone"),n.getStandaloneInjector=e=>e.get(b1).getOrCreateStandaloneInjector(n)}function Gm(n,e,t,r){return C1(Te(),U0(),n,e,t,r)}function Yb(n,e){let t=n[e];return t===Pi?void 0:t}function C1(n,e,t,r,i,o){let s=e+t;return Hr(n,s,i)?Wb(n,s+1,o?r.call(o,i):r(i)):Yb(n,s+1)}function D1(n,e,t,r,i,o,s){let a=e+t;return FO(n,a,i,o)?Wb(n,a+2,s?r.call(s,i,o):r(i,o)):Yb(n,a+2)}function Jb(n,e){let t=ht(),r,i=n+cn;t.firstCreatePass?(r=T1(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ci(r.type,!0)),s,a=Rt($);try{let u=El(!1),l=o();return El(u),y1(t,Te(),i,l),l}finally{Rt(a)}}function T1(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Zb(n,e,t,r){let i=n+cn,o=Te(),s=jx(o,i);return S1(o,i)?D1(o,U0(),e,s.transform,t,r,s):s.transform(t,r)}function S1(n,e){return n[de].data[e].pure}var Jn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Xb=new Jn("18.2.8");var td=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var eC=new z("");function Oi(n){return!!n&&typeof n.then=="function"}function tC(n){return!!n&&typeof n.subscribe=="function"}var nC=new z(""),rC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=O(nC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Oi(o))t.push(o);else if(tC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nd=new z("");function A1(){Vw(()=>{throw new W(600,!1)})}function M1(n){return n.isBoundToModule}var R1=10;function x1(n,e,t){try{let r=t();return Oi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Wr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(MN),this.afterRenderManager=O($O),this.zonelessEnabled=O(Hm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new it,this.afterTick=new it,this.componentTypes=[],this.components=[],this.isStable=O(rr).hasPendingTasks.pipe(ne(t=>!t)),this._injector=O(xt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Al;if(!this._injector.get(rC).done){let v=!i&&m0(t),g=!1;throw new W(405,g)}let s;i?s=t:s=this._injector.get(Lo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=M1(s)?void 0:this._injector.get($r),u=r||s.selector,l=s.create(Nt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(eC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),ul(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new W(101,!1);let t=_e(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,_e(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Vo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<R1;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)N1(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>$l(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ul(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(nd,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ul(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new W(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ul(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function N1(n,e,t,r){if(!t&&!$l(n))return;Vb(n,e,t&&!r?0:1)}var om=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Wm=(()=>{class n{compileModuleSync(t){return new em(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=g0(t),o=mb(i.declarations).reduce((s,a)=>{let u=Di(a);return u&&s.push(new Ia(u)),s},[]);return new om(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var P1=(()=>{class n{constructor(){this.zone=O(De),this.changeDetectionScheduler=O(Fo),this.applicationRef=O(Wr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function O1({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(le(L({},k1()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:Mo,multi:!0,useFactory:()=>{let r=O(P1,{optional:!0});return()=>r.initialize()}},{provide:Mo,multi:!0,useFactory:()=>{let r=O(F1);return()=>{r.initialize()}}},e===!0?{provide:$b,useValue:!0}:[],{provide:Hb,useValue:t??ib}]}function k1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var F1=(()=>{class n{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=O(De),this.pendingTasks=O(rr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var L1=(()=>{class n{constructor(){this.appRef=O(Wr),this.taskService=O(rr),this.ngZone=O(De),this.zonelessEnabled=O(Hm),this.disableScheduling=O($b,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Le,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Dl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(Hb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Bp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?ME:sb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Dl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ME(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function V1(){return typeof $localize<"u"&&$localize.locale||Pl}var rd=new z("",{providedIn:"root",factory:()=>O(rd,ue.Optional|ue.SkipSelf)||V1()});var sm=new z("");function ol(n){return!n.moduleRef}function U1(n){let e=ol(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{ol(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Qn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),ol(n)){let o=()=>e.destroy(),s=n.platformInjector.get(sm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(sm);s.add(o),n.moduleRef.onDestroy(()=>{ul(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return x1(r,t,()=>{let o=e.get(rC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(rd,Pl);if(p1(s||Pl),ol(n)){let a=e.get(Wr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return j1(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function j1(n,e){let t=n.injector.get(Wr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new W(-403,!1);e.push(n)}var ll=null;function B1(n=[],e){return Nt.create({name:e,providers:[{provide:Vl,useValue:"platform"},{provide:sm,useValue:new Set([()=>ll=null])},...n]})}function $1(n=[]){if(ll)return ll;let e=B1(n);return ll=e,A1(),H1(e),e}function H1(n){n.get(Am,null)?.forEach(t=>t())}var ki=(()=>{class n{static{this.__NG_ELEMENT_ID__=z1}}return n})();function z1(n){return q1(Dt(),Te(),(n&16)===16)}function q1(n,e,t){if(jl(n)&&!t){let r=zr(n.index,e);return new Ri(r,r)}else if(n.type&175){let r=e[En];return new Ri(r,e)}return null}var am=class{constructor(){}supports(e){return Gb(e)}create(e){return new cm(e)}},G1=(n,e)=>e,cm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||G1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<QE(r,i,o)?t:r,a=QE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let v=0;v<l;v++){let g=v<o.length?o[v]:o[v]=0,S=g+v;h<=S&&S<l&&(o[v]=g+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Gb(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,OO(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new um(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ol),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ol),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},um=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ol=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new lm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function QE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function YE(){return new Km([new am])}var Km=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:YE})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||YE()),deps:[[n,new s0,new Ct]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new W(901,!1)}}return n})();function iC(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=$1(r),o=[O1({}),{provide:Fo,useExisting:L1},...t||[]],s=new xl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return U1({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function xa(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function qo(n,e){Aa("NgSignals");let t=kw(n);return e?.equal&&(t[qn].equal=e.equal),t}function Sn(n){let e=_e(null);try{return n()}finally{_e(e)}}var dC=null;function sr(){return dC}function hC(n){dC??=n}var id=class{};var Pt=new z(""),fC=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>O(Y1),providedIn:"platform"})}}return n})();var Y1=(()=>{class n extends fC{constructor(){super(),this._doc=O(Pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sr().getBaseHref(this._doc)}onPopState(t){let r=sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function pC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function oC(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Fi(n){return n&&n[0]!=="?"?"?"+n:n}var sd=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>O(mC),providedIn:"root"})}}return n})(),J1=new z(""),mC=(()=>{class n extends sd{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(Pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return pC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Fi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Fi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Fi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(K(fC),K(J1,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Oa=(()=>{class n{constructor(t){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=ek(oC(sC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fi(r))}normalize(t){return n.stripTrailingSlash(X1(this._basePath,sC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Fi}static{this.joinWithSlash=pC}static{this.stripTrailingSlash=oC}static{this.\u0275fac=function(r){return new(r||n)(K(sd))}}static{this.\u0275prov=H({token:n,factory:()=>Z1(),providedIn:"root"})}}return n})();function Z1(){return new Oa(K(sd))}function X1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function sC(n){return n.replace(/\/index.html$/,"")}function ek(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var gC=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(gC||{});var or={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Na(n,e){let t=qm(n),r=t[zo.NumberSymbols][e];if(typeof r>"u"){if(e===or.CurrencyDecimal)return t[zo.NumberSymbols][or.Decimal];if(e===or.CurrencyGroup)return t[zo.NumberSymbols][or.Group]}return r}function tk(n,e){return qm(n)[zo.NumberFormats][e]}var nk=/^(\d+)?\.((\d+)(-(\d+))?)?$/,aC=22,od=".",Pa="0",rk=";",ik=",",Qm="#";function ok(n,e,t,r,i,o,s=!1){let a="",u=!1;if(!isFinite(n))a=Na(t,or.Infinity);else{let l=uk(n);s&&(l=ck(l));let h=e.minInt,p=e.minFrac,v=e.maxFrac;if(o){let G=o.match(nk);if(G===null)throw new Error(`${o} is not a valid digit info`);let B=G[1],Z=G[3],ve=G[5];B!=null&&(h=Ym(B)),Z!=null&&(p=Ym(Z)),ve!=null?v=Ym(ve):Z!=null&&p>v&&(v=p)}lk(l,p,v);let g=l.digits,S=l.integerLen,x=l.exponent,M=[];for(u=g.every(G=>!G);S<h;S++)g.unshift(0);for(;S<0;S++)g.unshift(0);S>0?M=g.splice(S,g.length):(M=g,g=[0]);let V=[];for(g.length>=e.lgSize&&V.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)V.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&V.unshift(g.join("")),a=V.join(Na(t,r)),M.length&&(a+=Na(t,i)+M.join("")),x&&(a+=Na(t,or.Exponential)+"+"+x)}return n<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function sk(n,e,t){let r=tk(e,gC.Decimal),i=ak(r,Na(e,or.MinusSign));return ok(n,i,e,or.Group,or.Decimal,t)}function ak(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(rk),i=r[0],o=r[1],s=i.indexOf(od)!==-1?i.split(od):[i.substring(0,i.lastIndexOf(Pa)+1),i.substring(i.lastIndexOf(Pa)+1)],a=s[0],u=s[1]||"";t.posPre=a.substring(0,a.indexOf(Qm));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Pa?t.minFrac=t.maxFrac=h+1:p===Qm?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(ik);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(Qm);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function ck(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function uk(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(od))>-1&&(e=e.replace(od,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Pa;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Pa;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>aC&&(r=r.splice(0,aC-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function lk(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,v,g,S){return v=v+p,S[g]=v<10?v:v-10,u&&(S[g]===0&&g>=l?S.pop():u=!1),v>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function Ym(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function ad(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Jm=/\s+/,cC=[],yC=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=cC,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Jm):cC}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Jm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Jm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)($(Dn),$(ir))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Zm=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cd=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Zm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),uC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);uC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)($($o),$(Xl),$(Km))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function uC(n,e){n.context.$implicit=e.item}var Ot=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Xm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)($($o),$(Xl))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Xm=class{constructor(){this.$implicit=null,this.ngIf=null}};function lC(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Et(e)}'.`)}function dk(n,e){return new W(2100,!1)}var vC=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!hk(t))return null;i||=this._locale;try{let o=fk(t);return sk(o,i,r)}catch(o){throw dk(n,o.message)}}static{this.\u0275fac=function(r){return new(r||n)($(rd,16))}}static{this.\u0275pipe=h0({name:"number",type:n,pure:!0,standalone:!0})}}return n})();function hk(n){return!(n==null||n===""||n!==n)}function fk(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var st=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Xn({type:n})}static{this.\u0275inj=Zn({})}}return n})(),_C="browser",pk="server";function ud(n){return n===pk}var Go=class{};var Fa=class{},La=class{},Jt=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var tg=class{encodeKey(e){return IC(e)}encodeValue(e){return IC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function mk(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var gk=/%(\d[a-f0-9])/gi,yk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IC(n){return encodeURIComponent(n).replace(gk,(e,t)=>yk[t]??e)}function ld(n){return`${n}`}var Yr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=mk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(ld):[ld(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(ld(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ld(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ng=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function vk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function EC(n){return typeof Blob<"u"&&n instanceof Blob}function bC(n){return typeof FormData<"u"&&n instanceof FormData}function _k(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ka=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(vk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Jt,this.context??=new ng,!this.params)this.params=new Yr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wC(this.body)||EC(this.body)||bC(this.body)||_k(this.body)?this.body:this.body instanceof Yr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bC(this.body)?null:EC(this.body)?this.body.type||null:wC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Yr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((v,g)=>v.set(g,e.setHeaders[g]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((v,g)=>v.set(g,e.setParams[g]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Jr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Jr||{}),Va=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Jt,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},dd=class n extends Va{constructor(e={}){super(e),this.type=Jr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ua=class n extends Va{constructor(e={}){super(e),this.type=Jr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Qr=class extends Va{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},AC=200,Ik=204;function eg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var sg=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ka)o=t;else{let u;i.headers instanceof Jt?u=i.headers:u=new Jt(i.headers);let l;i.params&&(i.params instanceof Yr?l=i.params:l=new Yr({fromObject:i.params})),o=new ka(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=te(o).pipe(Pr(u=>this.handler.handle(u)));if(t instanceof ka||i.observe==="events")return s;let a=s.pipe(Mt(u=>u instanceof Ua));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ne(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ne(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Yr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,eg(i,r))}post(t,r,i={}){return this.request("POST",t,eg(i,r))}put(t,r,i={}){return this.request("PUT",t,eg(i,r))}static{this.\u0275fac=function(r){return new(r||n)(K(Fa))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),wk=/^\)\]\}',?\n/,Ek="X-Request-URL";function CC(n){if(n.url)return n.url;let e=Ek.toLocaleLowerCase();return n.headers.get(e)}var rg=(()=>{class n{constructor(){this.fetchImpl=O(ig,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=O(De)}handle(t){return new ce(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(og,o=>r.error(new Qr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return w(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,L({signal:r},o)));bk(g),i.next({type:Jr.Sent}),s=yield g}catch(g){i.error(new Qr({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new Jt(s.headers),u=s.statusText,l=CC(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new dd({headers:a,status:h,statusText:u,url:l})),s.body){let g=s.headers.get("content-length"),S=[],x=s.body.getReader(),M=0,V,G,B=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:ve,value:Y}=yield x.read();if(ve)break;if(S.push(Y),M+=Y.length,t.reportProgress){G=t.responseType==="text"?(G??"")+(V??=new TextDecoder).decode(Y,{stream:!0}):void 0;let E=()=>i.next({type:Jr.DownloadProgress,total:g?+g:void 0,loaded:M,partialText:G});B?B.run(E):E()}}}));let Z=this.concatChunks(S,M);try{let ve=s.headers.get("Content-Type")??"";p=this.parseBody(t,Z,ve)}catch(ve){i.error(new Qr({error:ve,headers:new Jt(s.headers),status:s.status,statusText:s.statusText,url:CC(s)??t.urlWithParams}));return}}h===0&&(h=p?AC:0),h>=200&&h<300?(i.next(new Ua({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Qr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(wk,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),ig=class{};function og(){}function bk(n){n.then(og,og)}function MC(n,e){return e(n)}function Ck(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function Dk(n,e,t){return(r,i)=>ln(t,()=>e(r,o=>n(o,i)))}var Tk=new z(""),ag=new z(""),Sk=new z(""),RC=new z("",{providedIn:"root",factory:()=>!0});function Ak(){let n=null;return(e,t)=>{n===null&&(n=(O(Tk,{optional:!0})??[]).reduceRight(Ck,MC));let r=O(rr);if(O(RC)){let o=r.add();return n(e,t).pipe(kr(()=>r.remove(o)))}else return n(e,t)}}var DC=(()=>{class n extends Fa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=O(rr),this.contributeToStability=O(RC)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ag),...this.injector.get(Sk,[])]));this.chain=r.reduceRight((i,o)=>Dk(i,o,this.injector),MC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(kr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(K(La),K(xt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();var Mk=/^\)\]\}',?\n/;function Rk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var TC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new W(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ae(r.\u0275loadImpl()):te(null)).pipe(jt(()=>new ce(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,M)=>s.setRequestHeader(x,M.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let x=t.detectContentTypeHeader();x!==null&&s.setRequestHeader("Content-Type",x)}if(t.responseType){let x=t.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let x=s.statusText||"OK",M=new Jt(s.getAllResponseHeaders()),V=Rk(s)||t.url;return u=new dd({headers:M,status:s.status,statusText:x,url:V}),u},h=()=>{let{headers:x,status:M,statusText:V,url:G}=l(),B=null;M!==Ik&&(B=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=B?AC:0);let Z=M>=200&&M<300;if(t.responseType==="json"&&typeof B=="string"){let ve=B;B=B.replace(Mk,"");try{B=B!==""?JSON.parse(B):null}catch(Y){B=ve,Z&&(Z=!1,B={error:Y,text:B})}}Z?(o.next(new Ua({body:B,headers:x,status:M,statusText:V,url:G||void 0})),o.complete()):o.error(new Qr({error:B,headers:x,status:M,statusText:V,url:G||void 0}))},p=x=>{let{url:M}=l(),V=new Qr({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(V)},v=!1,g=x=>{v||(o.next(l()),v=!0);let M={type:Jr.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(M.total=x.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},S=x=>{let M={type:Jr.UploadProgress,loaded:x.loaded};x.lengthComputable&&(M.total=x.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:Jr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(K(Go))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),xC=new z(""),xk="XSRF-TOKEN",Nk=new z("",{providedIn:"root",factory:()=>xk}),Pk="X-XSRF-TOKEN",Ok=new z("",{providedIn:"root",factory:()=>Pk}),hd=class{},kk=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ad(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(K(Pt),K(Tn),K(Nk))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function Fk(n,e){let t=n.url.toLowerCase();if(!O(xC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=O(hd).getToken(),i=O(Ok);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var cg=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(cg||{});function NC(n,e){return{\u0275kind:n,\u0275providers:e}}function PC(...n){let e=[sg,TC,DC,{provide:Fa,useExisting:DC},{provide:La,useFactory:()=>O(rg,{optional:!0})??O(TC)},{provide:ag,useValue:Fk,multi:!0},{provide:xC,useValue:!0},{provide:hd,useClass:kk}];for(let t of n)e.push(...t.\u0275providers);return un(e)}var SC=new z("");function OC(){return NC(cg.LegacyInterceptors,[{provide:SC,useFactory:Ak},{provide:ag,useExisting:SC,multi:!0}])}function kC(){return NC(cg.Fetch,[rg,{provide:La,useExisting:rg}])}var dg=class extends id{constructor(){super(...arguments),this.supportsDOMEvents=!0}},hg=class n extends dg{static makeCurrent(){hC(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Vk();return t==null?null:Uk(t)}resetBaseElement(){ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ad(document.cookie,e)}},ja=null;function Vk(){return ja=ja||document.querySelector("base"),ja?ja.getAttribute("href"):null}function Uk(n){return new URL(n,document.baseURI).pathname}var jk=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),fg=new z(""),UC=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(K(fg),K(De))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),fd=class{constructor(e){this._doc=e}},ug="ng-app-id",jC=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ud(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${ug}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(ug),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(ug,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(K(Pt),K(Sm),K(Mm,8),K(Tn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),lg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mg=/%COMP%/g,BC="%COMP%",Bk=`_nghost-${BC}`,$k=`_ngcontent-${BC}`,Hk=!0,zk=new z("",{providedIn:"root",factory:()=>Hk});function qk(n){return $k.replace(mg,n)}function Gk(n){return Bk.replace(mg,n)}function $C(n,e){return e.map(t=>t.replace(mg,n))}var FC=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ud(a),this.defaultRenderer=new Ba(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===wn.ShadowDom&&(r=le(L({},r),{encapsulation:wn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof pd?i.applyToHost(t):i instanceof $a&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case wn.Emulated:o=new pd(u,l,r,this.appId,h,s,a,p);break;case wn.ShadowDom:return new pg(u,l,t,r,s,a,this.nonce,p);default:o=new $a(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(K(UC),K(jC),K(Sm),K(zk),K(Pt),K(Tn),K(De),K(Mm))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Ba=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(lg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(LC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(LC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=lg[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=lg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(t,r,i&Yn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Yn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=sr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function LC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var pg=class extends Ba{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=$C(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$a=class extends Ba{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?$C(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},pd=class extends $a{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=qk(l),this.hostAttr=Gk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Wk=(()=>{class n extends fd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(K(Pt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),VC=["alt","control","meta","shift"],Kk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Yk=(()=>{class n extends fd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),VC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Kk[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),VC.forEach(s=>{if(s!==i){let a=Qk[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(K(Pt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function HC(n,e){return iC(L({rootComponent:n},Jk(e)))}function Jk(n){return{appProviders:[...nF,...n?.providers??[]],platformProviders:tF}}function Zk(){hg.makeCurrent()}function Xk(){return new Qn}function eF(){return fb(document),document}var tF=[{provide:Tn,useValue:_C},{provide:Am,useValue:Zk,multi:!0},{provide:Pt,useFactory:eF,deps:[]}];var nF=[{provide:Vl,useValue:"root"},{provide:Qn,useFactory:Xk,deps:[]},{provide:fg,useClass:Wk,multi:!0,deps:[Pt,De,Tn]},{provide:fg,useClass:Yk,multi:!0,deps:[Pt]},FC,jC,UC,{provide:Vo,useExisting:FC},{provide:Go,useClass:jk,deps:[]},[]];var zC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(K(Pt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var se="primary",oc=Symbol("RouteTitle"),Ig=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Zo(n){return new Ig(n)}function iF(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function oF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!An(n[t],e[t]))return!1;return!0}function An(n,e){let t=n?wg(n):void 0,r=e?wg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!ZC(n[i],e[i]))return!1;return!0}function wg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ZC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function XC(n){return n.length>0?n[n.length-1]:null}function Zr(n){return rp(n)?n:Oi(n)?Ae(Promise.resolve(n)):te(n)}var sF={exact:tD,subset:nD},eD={exact:aF,subset:cF,ignored:()=>!0};function qC(n,e,t){return sF[t.paths](n.root,e.root,t.matrixParams)&&eD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function aF(n,e){return An(n,e)}function tD(n,e,t){if(!Vi(n.segments,e.segments)||!yd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!tD(n.children[r],e.children[r],t))return!1;return!0}function cF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ZC(n[t],e[t]))}function nD(n,e,t){return rD(n,e,e.segments,t)}function rD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Vi(i,t)||e.hasChildren()||!yd(i,t,r))}else if(n.segments.length===t.length){if(!Vi(n.segments,t)||!yd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!nD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Vi(n.segments,i)||!yd(n.segments,i,r)||!n.children[se]?!1:rD(n.children[se],e,o,r)}}function yd(n,e,t){return e.every((r,i)=>eD[t](n[i].parameters,r.parameters))}var cr=class{constructor(e=new Ce([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){return dF.serialize(this)}},Ce=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vd(this)}},Li=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Zo(this.parameters),this._parameterMap}toString(){return oD(this)}};function uF(n,e){return Vi(n,e)&&n.every((t,r)=>An(t.parameters,e[r].parameters))}function Vi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function lF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}var Wg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>new Qa,providedIn:"root"})}}return n})(),Qa=class{parse(e){let t=new bg(e);return new cr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ha(e.root,!0)}`,r=pF(e.queryParams),i=typeof e.fragment=="string"?`#${hF(e.fragment)}`:"";return`${t}${r}${i}`}},dF=new Qa;function vd(n){return n.segments.map(e=>oD(e)).join("/")}function Ha(n,e){if(!n.hasChildren())return vd(n);if(e){let t=n.children[se]?Ha(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Ha(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=lF(n,(r,i)=>i===se?[Ha(n.children[se],!1)]:[`${i}:${Ha(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${vd(n)}/${t[0]}`:`${vd(n)}/(${t.join("//")})`}}function iD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function md(n){return iD(n).replace(/%3B/gi,";")}function hF(n){return encodeURI(n)}function Eg(n){return iD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _d(n){return decodeURIComponent(n)}function GC(n){return _d(n.replace(/\+/g,"%20"))}function oD(n){return`${Eg(n.path)}${fF(n.parameters)}`}function fF(n){return Object.entries(n).map(([e,t])=>`;${Eg(e)}=${Eg(t)}`).join("")}function pF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${md(t)}=${md(i)}`).join("&"):`${md(t)}=${md(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var mF=/^[^\/()?;#]+/;function gg(n){let e=n.match(mF);return e?e[0]:""}var gF=/^[^\/()?;=#]+/;function yF(n){let e=n.match(gF);return e?e[0]:""}var vF=/^[^=?&#]+/;function _F(n){let e=n.match(vF);return e?e[0]:""}var IF=/^[^&#]+/;function wF(n){let e=n.match(IF);return e?e[0]:""}var bg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new Ce(e,t)),r}parseSegment(){let e=gg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new Li(_d(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=yF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=gg(this.remaining);i&&(r=i,this.capture(r))}e[_d(t)]=_d(r)}parseQueryParam(e){let t=_F(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=wF(this.remaining);s&&(r=s,this.capture(r))}let i=GC(t),o=GC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[se]:new Ce([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function sD(n){return n.segments.length>0?new Ce([],{[se]:n}):n}function aD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=aD(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ce(n.segments,e);return EF(t)}function EF(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new Ce(n.segments.concat(e.segments),e.children)}return n}function Ya(n){return n instanceof cr}function bF(n,e,t=null,r=null){let i=cD(n);return uD(i,e,t,r)}function cD(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ce(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=sD(r);return e??i}function uD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return yg(i,i,i,t,r);let o=CF(e);if(o.toRoot())return yg(i,i,new Ce([],{}),t,r);let s=DF(o,i,n),a=s.processChildren?Ga(s.segmentGroup,s.index,o.commands):dD(s.segmentGroup,s.index,o.commands);return yg(i,s.segmentGroup,a,t,r)}function Id(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ja(n){return typeof n=="object"&&n!=null&&n.outlets}function yg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=lD(n,e,t);let a=sD(aD(s));return new cr(a,o,i)}function lD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=lD(o,e,t)}),new Ce(n.segments,r)}var wd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Id(r[0]))throw new W(4003,!1);let i=r.find(Ja);if(i&&i!==XC(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new wd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new wd(t,e,r)}var Qo=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function DF(n,e,t){if(n.isAbsolute)return new Qo(e,!0,0);if(!t)return new Qo(e,!1,NaN);if(t.parent===null)return new Qo(t,!0,0);let r=Id(n.commands[0])?0:1,i=t.segments.length-1+r;return TF(t,i,n.numberOfDoubleDots)}function TF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new Qo(r,!1,i-o)}function SF(n){return Ja(n[0])?n[0].outlets:{[se]:n}}function dD(n,e,t){if(n??=new Ce([],{}),n.segments.length===0&&n.hasChildren())return Ga(n,e,t);let r=AF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ce(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new Ce(n.segments.slice(r.pathIndex),n.children),Ga(o,0,i)}else return r.match&&i.length===0?new Ce(n.segments,{}):r.match&&!n.hasChildren()?Cg(n,e,t):r.match?Ga(n,0,i):Cg(n,e,t)}function Ga(n,e,t){if(t.length===0)return new Ce(n.segments,{});{let r=SF(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=Ga(n.children[se],e,t);return new Ce(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=dD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ce(n.segments,i)}}function AF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ja(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!KC(u,l,s))return o;r+=2}else{if(!KC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Cg(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ja(o)){let u=MF(o.outlets);return new Ce(r,u)}if(i===0&&Id(t[0])){let u=n.segments[e];r.push(new Li(u.path,WC(t[0]))),i++;continue}let s=Ja(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Id(a)?(r.push(new Li(s,WC(a))),i+=2):(r.push(new Li(s,{})),i++)}return new Ce(r,{})}function MF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Cg(new Ce([],{}),0,r))}),e}function WC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function KC(n,e,t){return n==t.path&&An(e,t.parameters)}var Wa="imperative",at=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(at||{}),Zt=class{constructor(e,t){this.id=e,this.url=t}},Za=class extends Zt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=at.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ur=class extends Zt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=at.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(zt||{}),Dg=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Dg||{}),ar=class extends Zt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=at.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ui=class extends Zt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=at.NavigationSkipped}},Xa=class extends Zt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=at.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ed=class extends Zt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tg=class extends Zt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sg=class extends Zt{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=at.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ag=class extends Zt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mg=class extends Zt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rg=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xg=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ng=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pg=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Og=class{constructor(e){this.snapshot=e,this.type=at.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kg=class{constructor(e){this.snapshot=e,this.type=at.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ec=class{},Xo=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function RF(n,e){return n.providers&&!n._injector&&(n._injector=zm(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hn(n){return n.outlet||se}function xF(n,e){let t=n.filter(r=>hn(r)===e);return t.push(...n.filter(r=>hn(r)!==e)),t}function sc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Fg=class{get injector(){return sc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Md(this.rootInjector),this.attachRef=null}},Md=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Fg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(K(xt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Lg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Lg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Vg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vg(e,this._root).map(t=>t.value)}};function Lg(n,e){if(n===e.value)return e;for(let t of e.children){let r=Lg(n,t);if(r)return r}return null}function Vg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Vg(n,t);if(r.length)return r.unshift(e),r}return[]}var Ht=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ko(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Cd=class extends bd{constructor(e,t){super(e),this.snapshot=t,Kg(this,e)}toString(){return this.snapshot.toString()}};function hD(n){let e=NF(n),t=new ot([new Li("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new es(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new Cd(new Ht(a,[]),e)}function NF(n){let e={},t={},r={},i="",o=new Yo([],e,r,i,t,se,n,null,{});return new Td("",new Ht(o,[]))}var es=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[oc]))??te(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>Zo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>Zo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&pD(i)&&(r.resolve[oc]=i.title),r}var Yo=class{get title(){return this.data?.[oc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Td=class extends bd{constructor(e,t){super(t),this.url=e,Kg(this,t)}toString(){return fD(this._root)}};function Kg(n,e){e.value._routerState=n,e.children.forEach(t=>Kg(n,t))}function fD(n){let e=n.children.length>0?` { ${n.children.map(fD).join(", ")} } `:"";return`${n.value}${e}`}function vg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,An(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),An(e.params,t.params)||n.paramsSubject.next(t.params),oF(e.url,t.url)||n.urlSubject.next(t.url),An(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ug(n,e){let t=An(n.params,e.params)&&uF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ug(n.parent,e.parent))}function pD(n){return typeof n.title=="string"||n.title===null}var Qg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=O(Md),this.location=O($o),this.changeDetector=O(ki),this.inputBinder=O(Yg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new jg(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Pe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]})}}return n})(),jg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===es?this.route:e===Md?this.childContexts:this.parent.get(e,t)}},Yg=new z("");function PF(n,e,t){let r=tc(n,e._root,t?t._root:void 0);return new Cd(r,e)}function tc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=OF(n,e,t);return new Ht(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tc(n,a)),s}}let r=kF(e.value),i=e.children.map(o=>tc(n,o));return new Ht(r,i)}}function OF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return tc(n,r,i);return tc(n,r)})}function kF(n){return new es(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}var nc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},mD="ngNavigationCancelingError";function Sd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ya(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gD(!1,zt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function gD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[mD]=!0,t.cancellationCode=e,t}function FF(n){return yD(n)&&Ya(n.url)}function yD(n){return!!n&&n[mD]}var LF=(n,e,t,r)=>ne(i=>(new Bg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Bg=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ko(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ko(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Pg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(vg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ad=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Jo=class{constructor(e,t){this.component=e,this.route=t}};function VF(n,e,t){let r=n._root,i=e?e._root:null;return za(r,i,t,[r.value])}function UF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ns(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!XE(n)?n:e.get(n):r}function za(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ko(e);return n.children.forEach(s=>{jF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ka(a,t.getContext(s),i)),i}function jF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=BF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ad(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?za(n,e,a?a.children:null,r,i):za(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jo(a.outlet.component,s))}else s&&Ka(e,a,i),i.canActivateChecks.push(new Ad(r)),o.component?za(n,null,a?a.children:null,r,i):za(n,null,t,r,i);return i}function BF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Vi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vi(n.url,e.url)||!An(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ug(n,e)||!An(n.queryParams,e.queryParams);case"paramsChange":default:return!Ug(n,e)}}function Ka(n,e,t){let r=Ko(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ka(s,e.children.getContext(o),t):Ka(s,null,t):Ka(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Jo(e.outlet.component,i)):t.canDeactivateChecks.push(new Jo(null,i)):t.canDeactivateChecks.push(new Jo(null,i))}function ac(n){return typeof n=="function"}function $F(n){return typeof n=="boolean"}function HF(n){return n&&ac(n.canLoad)}function zF(n){return n&&ac(n.canActivate)}function qF(n){return n&&ac(n.canActivateChild)}function GF(n){return n&&ac(n.canDeactivate)}function WF(n){return n&&ac(n.canMatch)}function vD(n){return n instanceof Gn||n?.name==="EmptyError"}var gd=Symbol("INITIAL_VALUE");function ts(){return jt(n=>Ju(n.map(e=>e.pipe(Wn(1),tl(gd)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===gd)return gd;if(t===!1||KF(t))return t}return!0}),Mt(e=>e!==gd),Wn(1)))}function KF(n){return Ya(n)||n instanceof nc}function QF(n,e){return Je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?te(le(L({},t),{guardsResult:!0})):YF(s,r,i,n).pipe(Je(a=>a&&$F(a)?JF(r,o,n,e):te(a)),ne(a=>le(L({},t),{guardsResult:a})))})}function YF(n,e,t,r){return Ae(n).pipe(Je(i=>nL(i.component,i.route,t,e,r)),vn(i=>i!==!0,!0))}function JF(n,e,t,r){return Ae(e).pipe(Pr(i=>wo(XF(i.route.parent,r),ZF(i.route,r),tL(n,i.path,t),eL(n,i.route,t))),vn(i=>i!==!0,!0))}function ZF(n,e){return n!==null&&e&&e(new Og(n)),te(!0)}function XF(n,e){return n!==null&&e&&e(new Ng(n)),te(!0)}function eL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>Zu(()=>{let s=sc(e)??t,a=ns(o,s),u=zF(a)?a.canActivate(e,n):ln(s,()=>a(e,n));return Zr(u).pipe(vn())}));return te(i).pipe(ts())}function tL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>UF(s)).filter(s=>s!==null).map(s=>Zu(()=>{let a=s.guards.map(u=>{let l=sc(s.node)??t,h=ns(u,l),p=qF(h)?h.canActivateChild(r,n):ln(l,()=>h(r,n));return Zr(p).pipe(vn())});return te(a).pipe(ts())}));return te(o).pipe(ts())}function nL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let u=sc(e)??i,l=ns(a,u),h=GF(l)?l.canDeactivate(n,e,t,r):ln(u,()=>l(n,e,t,r));return Zr(h).pipe(vn())});return te(s).pipe(ts())}function rL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=ns(s,n),u=HF(a)?a.canLoad(e,t):ln(n,()=>a(e,t));return Zr(u)});return te(o).pipe(ts(),_D(r))}function _D(n){return Nu(ke(e=>{if(typeof e!="boolean")throw Sd(n,e)}),ne(e=>e===!0))}function iL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=ns(s,n),u=WF(a)?a.canMatch(e,t):ln(n,()=>a(e,t));return Zr(u)});return te(o).pipe(ts(),_D(r))}var rc=class{constructor(e){this.segmentGroup=e||null}},ic=class extends Error{constructor(e){super(),this.urlTree=e}};function Wo(n){return yn(new rc(n))}function oL(n){return yn(new W(4e3,!1))}function sL(n){return yn(gD(!1,zt.GuardRejected))}var $g=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[se])return oL(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:v,params:g,data:S,title:x}=i,M=ln(o,()=>a({params:g,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:v,title:x}));if(M instanceof cr)throw new ic(M);t=M}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ic(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new cr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ce(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Hg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aL(n,e,t,r,i){let o=ID(n,e,t);return o.matched?(r=RF(e,r),iL(r,e,t,i).pipe(ne(s=>s===!0?o:L({},Hg)))):te(o)}function ID(n,e,t){if(e.path==="**")return cL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Hg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iF)(t,n,e);if(!i)return L({},Hg);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function cL(n){return{matched:!0,parameters:n.length>0?XC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function QC(n,e,t,r){return t.length>0&&dL(n,t,r)?{segmentGroup:new Ce(e,lL(r,new Ce(t,n.children))),slicedSegments:[]}:t.length===0&&hL(n,t,r)?{segmentGroup:new Ce(n.segments,uL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ce(n.segments,n.children),slicedSegments:t}}function uL(n,e,t,r){let i={};for(let o of t)if(Rd(n,e,o)&&!r[hn(o)]){let s=new Ce([],{});i[hn(o)]=s}return L(L({},r),i)}function lL(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&hn(r)!==se){let i=new Ce([],{});t[hn(r)]=i}return t}function dL(n,e,t){return t.some(r=>Rd(n,e,r)&&hn(r)!==se)}function hL(n,e,t){return t.some(r=>Rd(n,e,r))}function Rd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function fL(n,e,t){return e.length===0&&!n.children[t]}var zg=class{};function pL(n,e,t,r,i,o,s="emptyOnly"){return new qg(n,e,t,r,i,s,o).recognize()}var mL=31,qg=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new $g(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=QC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:r})=>{let i=new Ht(r,t),o=new Td("",i),s=bF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Yo([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(ne(r=>({children:r,rootSnapshot:t})),Ut(r=>{if(r instanceof ic)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof Ht?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ae(o).pipe(Pr(s=>{let a=r.children[s],u=xF(t,s);return this.processSegmentGroup(e,u,a,s,i)}),el((s,a)=>(s.push(...a),s)),Or(null),ap(),Je(s=>{if(s===null)return Wo(r);let a=wD(s);return gL(a),te(a)}))}processSegment(e,t,r,i,o,s,a){return Ae(t).pipe(Pr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Ut(l=>{if(l instanceof rc)return te(null);throw l}))),vn(u=>!!u),Ut(u=>{if(vD(u))return fL(r,i,o)?te(new zg):Wo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return hn(r)!==s&&(s===se||!Rd(i,o,r))?Wo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Wo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:v}=ID(t,i,o);if(!u)return Wo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mL&&(this.allowRedirects=!1));let g=new Yo(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,YC(i),hn(i),i.component??i._loadedComponent??null,i,JC(i)),S=Dd(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(S.params),g.data=Object.freeze(S.data);let x=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,g,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Je(M=>this.processSegment(e,r,t,M.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=aL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(jt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:v,remainingSegments:g}=u,S=new Yo(v,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,YC(r),hn(r),r.component??r._loadedComponent??null,r,JC(r)),x=Dd(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(x.params),S.data=Object.freeze(x.data);let{segmentGroup:M,slicedSegments:V}=QC(t,v,g,l);if(V.length===0&&M.hasChildren())return this.processChildren(h,l,M,S).pipe(ne(B=>new Ht(S,B)));if(l.length===0&&V.length===0)return te(new Ht(S,[]));let G=hn(r)===o;return this.processSegment(h,l,M,V,G?se:o,!0,S).pipe(ne(B=>new Ht(S,B instanceof Ht?[B]:[])))}))):Wo(t)))}getChildConfig(e,t,r){return t.children?te({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?te({routes:t._loadedRoutes,injector:t._loadedInjector}):rL(e,t,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,t).pipe(ke(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):sL(t))):te({routes:[],injector:e})}};function gL(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function yL(n){let e=n.value.routeConfig;return e&&e.path===""}function wD(n){let e=[],t=new Set;for(let r of n){if(!yL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=wD(r.children);e.push(new Ht(r.value,i))}return e.filter(r=>!t.has(r))}function YC(n){return n.data||{}}function JC(n){return n.resolve||{}}function vL(n,e,t,r,i,o){return Je(s=>pL(n,e,t,r,s.extractedUrl,i,o).pipe(ne(({state:a,tree:u})=>le(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function _L(n,e){return Je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return te(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of ED(u))s.add(l);let a=0;return Ae(s).pipe(Pr(u=>o.has(u)?IL(u,r,n,e):(u.data=Dd(u,u.parent,n).resolve,te(void 0))),ke(()=>a++),Eo(1),Je(u=>a===s.size?te(t):Vt))})}function ED(n){let e=n.children.map(t=>ED(t)).flat();return[n,...e]}function IL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!pD(i)&&(o[oc]=i.title),wL(o,n,e,r).pipe(ne(s=>(n._resolvedData=s,n.data=Dd(n,n.parent,t).resolve,null)))}function wL(n,e,t,r){let i=wg(n);if(i.length===0)return te({});let o={};return Ae(i).pipe(Je(s=>EL(n[s],e,t,r).pipe(vn(),ke(a=>{if(a instanceof nc)throw Sd(new Qa,a);o[s]=a}))),Eo(1),sp(o),Ut(s=>vD(s)?Vt:yn(s)))}function EL(n,e,t,r){let i=sc(e)??r,o=ns(n,i),s=o.resolve?o.resolve(e,t):ln(i,()=>o(e,t));return Zr(s)}function _g(n){return jt(e=>{let t=n(e);return t?Ae(t).pipe(ne(()=>e)):te(e)})}var bD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[oc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>O(bL),providedIn:"root"})}}return n})(),bL=(()=>{class n extends bD{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(K(zC))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Jg=new z("",{providedIn:"root",factory:()=>({})}),CL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Ve({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ue],decls:1,vars:0,template:function(r,i){r&1&&qe(0,"router-outlet")},dependencies:[Qg],encapsulation:2})}}return n})();function Zg(n){let e=n.children&&n.children.map(Zg),t=e?le(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=CL),t}var Xg=new z(""),DL=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Wm)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return te(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Zr(t.loadComponent()).pipe(ne(CD),ke(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),kr(()=>{this.componentLoaders.delete(t)})),i=new yo(r,()=>new it).pipe(go());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=TL(r,this.compiler,t,this.onLoadEndListener).pipe(kr(()=>{this.childrenLoaders.delete(r)})),s=new yo(o,()=>new it).pipe(go());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function TL(n,e,t,r){return Zr(n.loadChildren()).pipe(ne(CD),Je(i=>i instanceof wa||Array.isArray(i)?te(i):Ae(e.compileModuleAsync(i))),ne(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Xg,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zg),injector:o}}))}function SL(n){return n&&typeof n=="object"&&"default"in n}function CD(n){return SL(n)?n.default:n}var ey=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>O(AL),providedIn:"root"})}}return n})(),AL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ML=new z("");var RL=new z(""),xL=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new it,this.transitionAbortSubject=new it,this.configLoader=O(DL),this.environmentInjector=O(xt),this.urlSerializer=O(Wg),this.rootContexts=O(Md),this.location=O(Oa),this.inputBindingEnabled=O(Yg,{optional:!0})!==null,this.titleStrategy=O(bD),this.options=O(Jg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(ey),this.createViewTransition=O(ML,{optional:!0}),this.navigationErrorHandler=O(RL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Rg(i)),r=i=>this.events.next(new xg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(le(L(L({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ot({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Wa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mt(o=>o.id!==0),ne(o=>le(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),jt(o=>{let s=!1,a=!1;return te(o).pipe(jt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",zt.SupersededByNewNavigation),Vt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Ui(u.id,this.urlSerializer.serialize(u.rawUrl),p,Dg.IgnoredSameUrlNavigation)),u.resolve(!1),Vt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return te(u).pipe(jt(p=>{let v=this.transitions?.getValue();return this.events.next(new Za(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?Vt:Promise.resolve(p)}),vL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ke(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=le(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new Ed(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:v,source:g,restoredState:S,extras:x}=u,M=new Za(p,this.urlSerializer.serialize(v),g,S);this.events.next(M);let V=hD(this.rootComponentType).snapshot;return this.currentTransition=o=le(L({},u),{targetSnapshot:V,urlAfterRedirects:v,extras:le(L({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,te(o)}else{let p="";return this.events.next(new Ui(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Dg.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Vt}}),ke(u=>{let l=new Tg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ne(u=>(this.currentTransition=o=le(L({},u),{guards:VF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),QF(this.environmentInjector,u=>this.events.next(u)),ke(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Sd(this.urlSerializer,u.guardsResult);let l=new Sg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Mt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",zt.GuardRejected),!1)),_g(u=>{if(u.guards.canActivateChecks.length)return te(u).pipe(ke(l=>{let h=new Ag(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),jt(l=>{let h=!1;return te(l).pipe(_L(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",zt.NoDataFromResolver)}}))}),ke(l=>{let h=new Mg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),_g(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ke(v=>{h.component=v}),ne(()=>{})));for(let v of h.children)p.push(...l(v));return p};return Ju(l(u.targetSnapshot.root)).pipe(Or(null),Wn(1))}),_g(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ae(h).pipe(ne(()=>o)):te(o)}),ne(u=>{let l=PF(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=le(L({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ke(()=>{this.events.next(new ec)}),LF(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Wn(1),ke({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ur(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),cp(this.transitionAbortSubject.pipe(ke(u=>{throw u}))),kr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",zt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ut(u=>{if(a=!0,yD(u))this.events.next(new ar(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),FF(u)?this.events.next(new Xo(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Xa(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=ln(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof nc){let{message:p,cancellationCode:v}=Sd(this.urlSerializer,h);this.events.next(new ar(o.id,this.urlSerializer.serialize(o.extractedUrl),p,v)),this.events.next(new Xo(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Vt}))}))}cancelNavigationTransition(t,r,i){let o=new ar(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function NL(n){return n!==Wa}var PL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>O(OL),providedIn:"root"})}}return n})(),Gg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},OL=(()=>{class n extends Gg{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),DD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>O(kL),providedIn:"root"})}}return n})(),kL=(()=>{class n extends DD{constructor(){super(...arguments),this.location=O(Oa),this.urlSerializer=O(Wg),this.options=O(Jg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(ey),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new cr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Za)this.stateMemento=this.createStateMemento();else if(t instanceof Ui)this.rawUrlTree=r.initialUrl;else if(t instanceof Ed){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof ec?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof ar&&(t.code===zt.GuardRejected||t.code===zt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Xa?this.restoreHistory(r,!0):t instanceof ur&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof cr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qa=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(qa||{});function FL(n,e){n.events.pipe(Mt(t=>t instanceof ur||t instanceof ar||t instanceof Xa||t instanceof Ui),ne(t=>t instanceof ur||t instanceof Ui?qa.COMPLETE:(t instanceof ar?t.code===zt.Redirect||t.code===zt.SupersededByNewNavigation:!1)?qa.REDIRECTING:qa.FAILED),Mt(t=>t!==qa.REDIRECTING),Wn(1)).subscribe(()=>{e()})}function LL(n){throw n}var VL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(td),this.stateManager=O(DD),this.options=O(Jg,{optional:!0})||{},this.pendingTasks=O(rr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(xL),this.urlSerializer=O(Wg),this.location=O(Oa),this.urlHandlingStrategy=O(ey),this._events=new it,this.errorHandler=this.options.errorHandler||LL,this.navigated=!1,this.routeReuseStrategy=O(PL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Xg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Yg,{optional:!0}),this.eventsSubscription=new Le,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ar&&r.code!==zt.Redirect&&r.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ur)this.navigated=!0;else if(r instanceof Xo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||NL(i.source)},s);this.scheduleNavigation(a,Wa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}BL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Zg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=cD(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return uD(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ya(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Wa,null,r)}navigate(t,r={skipLocationChange:!1}){return jL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},VL):r===!1?i=L({},UL):i=r,Ya(t))return qC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return qC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,v)=>{a=p,u=v});let h=this.pendingTasks.add();return FL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function jL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new W(4008,!1)}function BL(n){return!(n instanceof ec)&&!(n instanceof Xo)}var $L=new z("");function TD(n,...e){return un([{provide:Xg,multi:!0,useValue:n},[],{provide:es,useFactory:HL,deps:[kt]},{provide:nd,multi:!0,useFactory:zL},e.map(t=>t.\u0275providers)])}function HL(n){return n.routerState.root}function zL(){let n=O(Nt);return e=>{let t=n.get(Wr);if(e!==t.components[0])return;let r=n.get(kt),i=n.get(qL);n.get(GL)===1&&r.initialNavigation(),n.get(WL,null,ue.Optional)?.setUpPreloading(),n.get($L,null,ue.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qL=new z("",{factory:()=>new it}),GL=new z("",{providedIn:"root",factory:()=>1});var WL=new z("");var xd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-footer"]],standalone:!0,features:[Ue],decls:5,vars:0,consts:[[1,"footer","mt-4","py-3",2,"background-color","rgba(255, 0, 0, 0.49)"],[1,"container","text-black"],[1,"text-center","mt-3"]],template:function(t,r){t&1&&(N(0,"footer",0)(1,"div",1)(2,"div",2)(3,"span"),P(4,"\xA9 2024 Fitness. Todos los derechos reservados."),R()()()())}})};var AD=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},KL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},MD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,v=(a&15)<<2|l>>6,g=l&63;u||(g=64,s||(v=64)),r.push(t[h],t[p],t[v],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new ny;let v=o<<2|a>>4;if(r.push(v),l!==64){let g=a<<4&240|l>>2;if(r.push(g),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ny=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},QL=function(n){let e=AD(n);return MD.encodeByteArray(e,!0)},uc=function(n){return QL(n).replace(/\./g,"")},iy=function(n){try{return MD.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var JL=()=>YL().__FIREBASE_DEFAULTS__,ZL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&iy(n[1]);return e&&JSON.parse(e)},Pd=()=>{try{return JL()||ZL()||XL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oy=n=>{var e,t;return(t=(e=Pd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},RD=n=>{let e=oy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},sy=()=>{var n;return(n=Pd())===null||n===void 0?void 0:n.config},ay=n=>{var e;return(e=Pd())===null||e===void 0?void 0:e[`_${n}`]};var Nd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function xD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[uc(JSON.stringify(t)),uc(JSON.stringify(s)),""].join(".")}function tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ND(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function eV(){var n;let e=(n=Pd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OD(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FD(){let n=tt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function LD(){return!eV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cy(){try{return typeof indexedDB=="object"}catch{return!1}}function VD(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var tV="FirebaseError",qt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=tV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dr.prototype.create)}},dr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?nV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qt(i,a,r)}};function nV(n,e){return n.replace(rV,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var rV=/\{\$([^}]+)}/g;function UD(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ji(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(SD(o)&&SD(s)){if(!ji(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function SD(n){return n!==null&&typeof n=="object"}function lc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function is(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function jD(n,e){let t=new ry(n,e);return t.subscribe.bind(t)}var ry=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");iV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ty),i.error===void 0&&(i.error=ty),i.complete===void 0&&(i.complete=ty);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function iV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ty(){}var Z8=4*60*60*1e3;function fn(n){return n&&n._delegate?n._delegate:n}var Xt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Bi="[DEFAULT]";var uy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Nd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sV(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oV(n){return n===Bi?void 0:n}function sV(n){return n.instantiationMode==="EAGER"}var Od=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new uy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var aV=[],pe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(pe||{}),cV={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},uV=pe.INFO,lV={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},dV=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=lV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xr=class{constructor(e){this.name=e,this._logLevel=uV,this._logHandler=dV,this._userLogHandler=null,aV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var hV=(n,e)=>e.some(t=>n instanceof t),BD,$D;function fV(){return BD||(BD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pV(){return $D||($D=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var HD=new WeakMap,dy=new WeakMap,zD=new WeakMap,ly=new WeakMap,fy=new WeakMap;function mV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Mn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&HD.set(t,n)}).catch(()=>{}),fy.set(e,n),e}function gV(n){if(dy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});dy.set(n,e)}var hy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qD(n){hy=n(hy)}function yV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(kd(this),e,...t);return zD.set(r,e.sort?e.sort():[e]),Mn(r)}:pV().includes(n)?function(...e){return n.apply(kd(this),e),Mn(HD.get(this))}:function(...e){return Mn(n.apply(kd(this),e))}}function vV(n){return typeof n=="function"?yV(n):(n instanceof IDBTransaction&&gV(n),hV(n,fV())?new Proxy(n,hy):n)}function Mn(n){if(n instanceof IDBRequest)return mV(n);if(ly.has(n))return ly.get(n);let e=vV(n);return e!==n&&(ly.set(n,e),fy.set(e,n)),e}var kd=n=>fy.get(n);function WD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Mn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Mn(s.result),u.oldVersion,u.newVersion,Mn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var _V=["get","getKey","getAll","getAllKeys","count"],IV=["put","add","delete","clear"],py=new Map;function GD(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(py.get(e))return py.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=IV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_V.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return py.set(e,o),o}qD(n=>le(L({},n),{get:(e,t,r)=>GD(e,t)||n.get(e,t,r),has:(e,t)=>!!GD(e,t)||n.has(e,t)}));var gy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wV(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function wV(n){let e=n.getComponent();return e?.type==="VERSION"}var yy="@firebase/app",KD="0.10.13";var hr=new Xr("@firebase/app"),EV="@firebase/app-compat",bV="@firebase/analytics-compat",CV="@firebase/analytics",DV="@firebase/app-check-compat",TV="@firebase/app-check",SV="@firebase/auth",AV="@firebase/auth-compat",MV="@firebase/database",RV="@firebase/data-connect",xV="@firebase/database-compat",NV="@firebase/functions",PV="@firebase/functions-compat",OV="@firebase/installations",kV="@firebase/installations-compat",FV="@firebase/messaging",LV="@firebase/messaging-compat",VV="@firebase/performance",UV="@firebase/performance-compat",jV="@firebase/remote-config",BV="@firebase/remote-config-compat",$V="@firebase/storage",HV="@firebase/storage-compat",zV="@firebase/firestore",qV="@firebase/vertexai-preview",GV="@firebase/firestore-compat",WV="firebase",KV="10.14.1";var vy="[DEFAULT]",QV={[yy]:"fire-core",[EV]:"fire-core-compat",[CV]:"fire-analytics",[bV]:"fire-analytics-compat",[TV]:"fire-app-check",[DV]:"fire-app-check-compat",[SV]:"fire-auth",[AV]:"fire-auth-compat",[MV]:"fire-rtdb",[RV]:"fire-data-connect",[xV]:"fire-rtdb-compat",[NV]:"fire-fn",[PV]:"fire-fn-compat",[OV]:"fire-iid",[kV]:"fire-iid-compat",[FV]:"fire-fcm",[LV]:"fire-fcm-compat",[VV]:"fire-perf",[UV]:"fire-perf-compat",[jV]:"fire-rc",[BV]:"fire-rc-compat",[$V]:"fire-gcs",[HV]:"fire-gcs-compat",[zV]:"fire-fst",[GV]:"fire-fst-compat",[qV]:"fire-vertex","fire-js":"fire-js",[WV]:"fire-js-all"};var dc=new Map,YV=new Map,_y=new Map;function QD(n,e){try{n.container.addComponent(e)}catch(t){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ti(n){let e=n.name;if(_y.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;_y.set(e,n);for(let t of dc.values())QD(t,n);for(let t of YV.values())QD(t,n);return!0}function fc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pn(n){return n.settings!==void 0}var JV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new dr("app","Firebase",JV);var Iy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}};var ni=KV;function by(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(t||(t=sy()),!t)throw ei.create("no-options");let o=dc.get(i);if(o){if(ji(t,o.options)&&ji(r,o.config))return o;throw ei.create("duplicate-app",{appName:i})}let s=new Od(i);for(let u of _y.values())s.addComponent(u);let a=new Iy(t,r,s);return dc.set(i,a),a}function os(n=vy){let e=dc.get(n);if(!e&&n===vy&&sy())return by();if(!e)throw ei.create("no-app",{appName:n});return e}function Fd(){return Array.from(dc.values())}function Xe(n,e,t){var r;let i=(r=QV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(a.join(" "));return}ti(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ZV="firebase-heartbeat-database",XV=1,hc="firebase-heartbeat-store",my=null;function XD(){return my||(my=WD(ZV,XV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ei.create("idb-open",{originalErrorMessage:n.message})})),my}function e2(n){return w(this,null,function*(){try{let t=(yield XD()).transaction(hc),r=yield t.objectStore(hc).get(eT(n));return yield t.done,r}catch(e){if(e instanceof qt)hr.warn(e.message);else{let t=ei.create("idb-get",{originalErrorMessage:e?.message});hr.warn(t.message)}}})}function YD(n,e){return w(this,null,function*(){try{let r=(yield XD()).transaction(hc,"readwrite");yield r.objectStore(hc).put(e,eT(n)),yield r.done}catch(t){if(t instanceof qt)hr.warn(t.message);else{let r=ei.create("idb-set",{originalErrorMessage:t?.message});hr.warn(r.message)}}})}function eT(n){return`${n.name}!${n.options.appId}`}var t2=1024,n2=30*24*60*60*1e3,wy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ey(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=JD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=n2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hr.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=JD(),{heartbeatsToSend:r,unsentEntries:i}=r2(this._heartbeatsCache.heartbeats),o=uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hr.warn(t),""}})}};function JD(){return new Date().toISOString().substring(0,10)}function r2(n,e=t2){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ZD(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ZD(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ey=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return cy()?VD().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield e2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return YD(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return YD(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ZD(n){return uc(JSON.stringify({version:2,heartbeats:n})).length}function i2(n){ti(new Xt("platform-logger",e=>new gy(e),"PRIVATE")),ti(new Xt("heartbeat",e=>new wy(e),"PRIVATE")),Xe(yy,KD,n),Xe(yy,KD,"esm2017"),Xe("fire-js","")}i2("");var o2="firebase",s2="10.14.1";Xe(o2,s2,"app");var Hi=new Jn("ANGULARFIRE2_VERSION");function Vd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var pc=(n,e)=>{let t=e?[e]:Fd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},as=class{constructor(){return pc(a2)}},a2="app-check";function ss(){}var Ld=class{zone;delegate;constructor(e,t=tp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Cy=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)),t.pipe(ke({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},cs=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ld(Zone.current)),this.insideAngular=t.run(()=>new Ld(Zone.current,ep)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(K(De))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ud(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function c2(n){return Ud().ngZone.runOutsideAngular(()=>n())}function $i(n){return Ud().ngZone.run(()=>n())}function u2(n){return l2(Ud())(n)}function l2(n){return function(t){return t=t.lift(new Cy(n.ngZone)),t.pipe(Nr(n.outsideAngular),xr(n.insideAngular))}}var d2=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),$i(()=>n.apply(void 0,r))},Rn=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=$i(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss))),r[o]=d2(r[o],t));let i=c2(()=>n.apply(this,r));if(!e)if(i instanceof ce){let o=Ud();return i.pipe(Nr(o.outsideAngular),xr(o.insideAngular))}else return $i(()=>i);return i instanceof ce?i.pipe(u2):i instanceof Promise?$i(()=>new Promise((o,s)=>i.then(a=>$i(()=>o(a)),a=>$i(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:$i(()=>i)};var fr=class{constructor(e){return e}},zi=class{constructor(){return Fd()}};function h2(n){return n&&n.length===1?n[0]:new fr(os())}var Dy=new z("angularfire2._apps"),f2={provide:fr,useFactory:h2,deps:[[new Ct,Dy]]},p2={provide:zi,deps:[[new Ct,Dy]]};function m2(n){return(e,t)=>{let r=t.get(Tn);Xe("angularfire",Hi.full,"core"),Xe("angularfire",Hi.full,"app"),Xe("angular",Xb.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new fr(i)}}function tT(n,...e){return un([f2,p2,{provide:Dy,useFactory:m2(n),multi:!0,deps:[De,Nt,cs,...e]}])}var nT=Rn(by,!0);function _T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var IT=_T,wT=new dr("auth","Firebase",_T());var qd=new Xr("@firebase/auth");function g2(n,...e){qd.logLevel<=pe.WARN&&qd.warn(`Auth (${ni}): ${n}`,...e)}function Bd(n,...e){qd.logLevel<=pe.ERROR&&qd.error(`Auth (${ni}): ${n}`,...e)}function Nn(n,...e){throw Ky(n,...e)}function qi(n,...e){return Ky(n,...e)}function ET(n,e,t){let r=Object.assign(Object.assign({},IT()),{[e]:t});return new dr("auth","Firebase",r).create(e,{appName:n.name})}function gr(n){return ET(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ky(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return wT.create(n,...e)}function X(n,e,...t){if(!n)throw Ky(e,...t)}function pr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Bd(e),new Error(e)}function ii(n,e){n||pr(e)}function My(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function y2(){return rT()==="http:"||rT()==="https:"}function rT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y2()||OD()||"connection"in navigator)?navigator.onLine:!0}function _2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Gi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=ND()||kD()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Qy(n,e){ii(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Gd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var I2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var w2=new Gi(3e4,6e4);function oi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function si(o,s,a,u){return w(this,arguments,function*(n,e,t,r,i={}){return bT(n,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=lc(Object.assign({key:n.config.apiKey},h)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:v},l);return PD()||(g.referrerPolicy="no-referrer"),Gd.fetch()(CT(n,n.config.apiHost,t,p),g)}))})}function bT(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},I2),e);try{let i=new Ry(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw jd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw jd(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw jd(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ET(n,h,l);Nn(n,h)}}catch(i){if(i instanceof qt)throw i;Nn(n,"network-request-failed",{message:String(i)})}})}function Ec(o,s,a,u){return w(this,arguments,function*(n,e,t,r,i={}){let l=yield si(n,e,t,r,i);return"mfaPendingCredential"in l&&Nn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function CT(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Qy(n.config,i):`${n.config.apiScheme}://${i}`}function E2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ry=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),w2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function jd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=qi(n,e,r);return i.customData._tokenResponse=t,i}function iT(n){return n!==void 0&&n.enterprise!==void 0}var xy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return E2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function b2(n,e){return w(this,null,function*(){return si(n,"GET","/v2/recaptchaConfig",oi(n,e))})}function C2(n,e){return w(this,null,function*(){return si(n,"POST","/v1/accounts:delete",e)})}function DT(n,e){return w(this,null,function*(){return si(n,"POST","/v1/accounts:lookup",e)})}function mc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Yy(n,e=!1){return w(this,null,function*(){let t=fn(n),r=yield t.getIdToken(e),i=Jy(r);X(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:mc(Ty(i.auth_time)),issuedAtTime:mc(Ty(i.iat)),expirationTime:mc(Ty(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ty(n){return Number(n)*1e3}function Jy(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{let i=iy(t);return i?JSON.parse(i):(Bd("Failed to decode base64 JWT payload"),null)}catch(i){return Bd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oT(n){let e=Jy(n);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function yc(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof qt&&D2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function D2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Ny=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var vc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wd(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield yc(n,DT(t,{idToken:r}));X(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?TT(o.providerUserInfo):[],a=T2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Zy(n){return w(this,null,function*(){let e=fn(n);yield Wd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function T2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TT(n){return n.map(e=>{var{providerId:t}=e,r=np(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function S2(n,e){return w(this,null,function*(){let t=yield bT(n,{},()=>w(this,null,function*(){let r=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=CT(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function A2(n,e){return w(this,null,function*(){return si(n,"POST","/v2/accounts:revokeToken",oi(n,e))})}var gc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){X(e.length!==0,"internal-error");let t=oT(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield S2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return pr("not implemented")}};function ri(n,e){X(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var us=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ny(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield yc(this,this.stsTokenManager.getToken(this.auth,e));return X(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Yy(this,e)}reload(){return Zy(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Wd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(pn(this.auth.app))return Promise.reject(gr(this.auth));let e=yield this.getIdToken();return yield yc(this,C2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,G=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:B,emailVerified:Z,isAnonymous:ve,providerData:Y,stsTokenManager:E}=t;X(B&&E,e,"internal-error");let y=gc.fromJSON(this.name,E);X(typeof B=="string",e,"internal-error"),ri(p,e.name),ri(v,e.name),X(typeof Z=="boolean",e,"internal-error"),X(typeof ve=="boolean",e,"internal-error"),ri(g,e.name),ri(S,e.name),ri(x,e.name),ri(M,e.name),ri(V,e.name),ri(G,e.name);let _=new n({uid:B,auth:e,email:v,emailVerified:Z,displayName:p,isAnonymous:ve,photoURL:S,phoneNumber:g,tenantId:x,stsTokenManager:y,createdAt:V,lastLoginAt:G});return Y&&Array.isArray(Y)&&(_.providerData=Y.map(b=>Object.assign({},b))),M&&(_._redirectEventId=M),_}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new gc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wd(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?TT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new gc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var sT=new Map;function mr(n){ii(n instanceof Function,"Expected a class definition");let e=sT.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sT.set(n,e),e)}var M2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Py=M2;function $d(n,e,t){return`firebase:${n}:${e}:${t}`}var Kd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=$d(this.userKey,i.apiKey,o),this.fullPersistenceKey=$d("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?us._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(mr(Py),e,r);let i=(yield Promise.all(t.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||mr(Py),s=$d(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p=us._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function aT(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ST(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NT(e))return"Blackberry";if(PT(e))return"Webos";if(AT(e))return"Safari";if((e.includes("chrome/")||MT(e))&&!e.includes("edge/"))return"Chrome";if(xT(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ST(n=tt()){return/firefox\//i.test(n)}function AT(n=tt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MT(n=tt()){return/crios\//i.test(n)}function RT(n=tt()){return/iemobile/i.test(n)}function xT(n=tt()){return/android/i.test(n)}function NT(n=tt()){return/blackberry/i.test(n)}function PT(n=tt()){return/webos/i.test(n)}function Xy(n=tt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function R2(n=tt()){var e;return Xy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x2(){return FD()&&document.documentMode===10}function OT(n=tt()){return Xy(n)||xT(n)||PT(n)||NT(n)||/windows phone/i.test(n)||RT(n)}function kT(n,e=[]){let t;switch(n){case"Browser":t=aT(tt());break;case"Worker":t=`${aT(tt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ni}/${r}`}var Oy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function N2(t){return w(this,arguments,function*(n,e={}){return si(n,"GET","/v2/passwordPolicy",oi(n,e))})}var P2=6,ky=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:P2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Fy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qd(this),this.idTokenSubscription=new Qd(this),this.beforeStateQueue=new Oy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mr(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Kd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield DT(this,{idToken:e}),r=yield us._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(pn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Wd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_2()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(pn(this.app))return Promise.reject(gr(this));let t=e?fn(e):null;return t&&X(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return pn(this.app)?Promise.reject(gr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pn(this.app)?Promise.reject(gr(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield N2(this),t=new ky(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield A2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&mr(e)||this._popupRedirectResolver;X(t,this,"argument-error"),this.redirectPersistenceManager=yield Kd.create(this,[mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&g2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ki(n){return fn(n)}var Qd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=jD(t=>this.observer=t)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var nh={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O2(n){nh=n}function FT(n){return nh.loadJS(n)}function k2(){return nh.recaptchaEnterpriseScript}function F2(){return nh.gapiScript}function LT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var L2="recaptcha-enterprise",V2="NO_RECAPTCHA",Ly=class{constructor(e){this.type=L2,this.auth=Ki(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(this,null,function*(){b2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new xy(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;iT(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(V2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&iT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=k2();u.length!==0&&(u+=a),FT(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function cT(n,e,t,r=!1){return w(this,null,function*(){let i=new Ly(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Vy(n,e,t,r){return w(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield cT(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>w(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield cT(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function ev(n,e){let t=fc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ji(o,e??{}))return i;Nn(i,"already-initialized")}return t.initialize({options:e})}function U2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(mr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function tv(n,e,t){let r=Ki(n);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=VT(e),{host:s,port:a}=j2(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||B2()}function VT(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function j2(n){let e=VT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:uT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:uT(s)}}}function uT(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function B2(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var _c=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,t){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}};function $2(n,e){return w(this,null,function*(){return si(n,"POST","/v1/accounts:signUp",e)})}function H2(n,e){return w(this,null,function*(){return Ec(n,"POST","/v1/accounts:signInWithPassword",oi(n,e))})}function z2(n,e){return w(this,null,function*(){return Ec(n,"POST","/v1/accounts:signInWithEmailLink",oi(n,e))})}function q2(n,e){return w(this,null,function*(){return Ec(n,"POST","/v1/accounts:signInWithEmailLink",oi(n,e))})}var Ic=class n extends _c{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(e,t,"signInWithPassword",H2);case"emailLink":return z2(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(e,r,"signUpPassword",$2);case"emailLink":return q2(e,{idToken:t,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Sy(n,e){return w(this,null,function*(){return Ec(n,"POST","/v1/accounts:signInWithIdp",oi(n,e))})}function G2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W2(n){let e=rs(is(n)).link,t=e?rs(is(e)).deep_link_id:null,r=rs(is(n)).deep_link_id;return(r?rs(is(r)).link:null)||r||t||e||n}var Yd=class n{constructor(e){var t,r,i,o,s,a;let u=rs(is(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=G2((i=u.mode)!==null&&i!==void 0?i:null);X(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=W2(e);try{return new n(t)}catch{return null}}};var UT=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ic._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Yd.parseLink(r);return X(i,"argument-error"),Ic._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Jd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Uy=class extends Jd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function K2(n,e){return w(this,null,function*(){return Ec(n,"POST","/v1/accounts:signUp",oi(n,e))})}var ls=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield us._fromIdTokenResponse(e,r,i),s=lT(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=lT(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function lT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var jy=class n extends qt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function jT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jy._fromErrorAndOperation(n,o,e,r):o})}function Q2(n,e,t=!1){return w(this,null,function*(){let r=yield yc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ls._forOperation(n,"link",r)})}function Y2(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(pn(r.app))return Promise.reject(gr(r));let i="reauthenticate";try{let o=yield yc(n,jT(r,i,e,n),t);X(o.idToken,r,"internal-error");let s=Jy(o.idToken);X(s,r,"internal-error");let{sub:a}=s;return X(n.uid===a,r,"user-mismatch"),ls._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nn(r,"user-mismatch"),o}})}function BT(n,e,t=!1){return w(this,null,function*(){if(pn(n.app))return Promise.reject(gr(n));let r="signIn",i=yield jT(n,r,e),o=yield ls._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function nv(n,e){return w(this,null,function*(){return BT(Ki(n),e)})}function $T(n){return w(this,null,function*(){let e=Ki(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function rv(n,e,t){return w(this,null,function*(){if(pn(n.app))return Promise.reject(gr(n));let r=Ki(n),s=yield Vy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K2).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&$T(n),u}),a=yield ls._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function iv(n,e,t){return pn(n.app)?Promise.reject(gr(n)):nv(fn(n),UT.credential(e,t)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&$T(n),r}))}function ov(n,e,t,r){return fn(n).onIdTokenChanged(e,t,r)}function sv(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}var Zd="__sak";var Xd=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var J2=1e3,Z2=10,X2=(()=>{class n extends Xd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);x2()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Z2):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield Mr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield Mr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield Mr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),HT=X2;var eU=(()=>{class n extends Xd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),av=eU;function tU(n){return Promise.all(n.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var nU=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,s)})),l=yield tU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function zT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var By=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=zT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let v=p;if(v.data.eventId===l)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function xn(){return window}function rU(n){xn().location.href=n}function qT(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}function iU(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function oU(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sU(){return qT()?self:null}var GT="firebaseLocalStorageDb",aU=1,eh="firebaseLocalStorage",WT="fbase_key",Wi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function rh(n,e){return n.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function cU(){let n=indexedDB.deleteDatabase(GT);return new Wi(n).toPromise()}function $y(){let n=indexedDB.open(GT,aU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(eh,{keyPath:WT})}catch(i){t(i)}}),n.addEventListener("success",()=>w(this,null,function*(){let r=n.result;r.objectStoreNames.contains(eh)?e(r):(r.close(),yield cU(),e(yield $y()))}))})}function dT(n,e,t){return w(this,null,function*(){let r=rh(n,!0).put({[WT]:e,value:t});return new Wi(r).toPromise()})}function uU(n,e){return w(this,null,function*(){let t=rh(n,!1).get(e),r=yield new Wi(t).toPromise();return r===void 0?null:r.value})}function hT(n,e){let t=rh(n,!0).delete(e);return new Wi(t).toPromise()}var lU=800,dU=3,hU=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield $y(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>dU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return qT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=nU._getInstance(sU()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield iU(),!this.activeServiceWorker)return;this.sender=new By(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||oU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield $y();return yield dT(t,Zd,"1"),yield hT(t,Zd),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>dT(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>uU(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>hT(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=rh(o,!1).getAll();return new Wi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),lU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),KT=hU;var q5=LT("rcb"),G5=new Gi(3e4,6e4);function fU(n,e){return e?mr(e):(X(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var wc=class extends _c{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function pU(n){return BT(n.auth,new wc(n),n.bypassAuthState)}function mU(n){let{auth:e,user:t}=n;return X(t,e,"internal-error"),Y2(t,new wc(n),n.bypassAuthState)}function gU(n){return w(this,null,function*(){let{auth:e,user:t}=n;return X(t,e,"internal-error"),Q2(t,new wc(n),n.bypassAuthState)})}var Hy=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pU;case"linkViaPopup":case"linkViaRedirect":return gU;case"reauthViaPopup":case"reauthViaRedirect":return mU;default:Nn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var W5=new Gi(2e3,1e4);var yU="pendingRedirect",Hd=new Map,zy=class n extends Hy{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Hd.get(this.auth._key());if(!e){try{let r=(yield vU(this.resolver,this.auth))?yield Mr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hd.set(this.auth._key(),e)}return this.bypassAuthState||Hd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Mr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Mr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function vU(n,e){return w(this,null,function*(){let t=wU(e),r=IU(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function _U(n,e){Hd.set(n._key(),e)}function IU(n){return mr(n._redirectPersistence)}function wU(n){return $d(yU,n.config.apiKey,n.name)}function EU(n,e,t=!1){return w(this,null,function*(){if(pn(n.app))return Promise.reject(gr(n));let r=Ki(n),i=fU(r,e),s=yield new zy(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var bU=10*60*1e3,qy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!QT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(qi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bU&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(e))}saveEventToCache(e){this.cachedEventUids.add(fT(e)),this.lastProcessedEventTime=Date.now()}};function fT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function QT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function CU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(n);default:return!1}}function DU(t){return w(this,arguments,function*(n,e={}){return si(n,"GET","/v1/projects",e)})}var TU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SU=/^https?/;function AU(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield DU(n);for(let t of e)try{if(MU(t))return}catch{}Nn(n,"unauthorized-domain")})}function MU(n){let e=My(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!SU.test(t))return!1;if(TU.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var RU=new Gi(3e4,6e4);function pT(){let n=xn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xU(n){return new Promise((e,t)=>{var r,i,o;function s(){pT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pT(),t(qi(n,"network-request-failed"))},timeout:RU.get()})}if(!((i=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=xn().gapi)===null||o===void 0)&&o.load)s();else{let a=LT("iframefcb");return xn()[a]=()=>{gapi.load?s():t(qi(n,"network-request-failed"))},FT(`${F2()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw zd=null,e})}var zd=null;function NU(n){return zd=zd||xU(n),zd}var PU=new Gi(5e3,15e3),OU="__/auth/iframe",kU="emulator/auth/iframe",FU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VU(n){let e=n.config;X(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Qy(e,kU):`https://${n.config.authDomain}/${OU}`,r={apiKey:e.apiKey,appName:n.name,v:ni},i=LU.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${lc(r).slice(1)}`}function UU(n){return w(this,null,function*(){let e=yield NU(n),t=xn().gapi;return X(t,n,"internal-error"),e.open({where:document.body,url:VU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FU,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=qi(n,"network-request-failed"),a=xn().setTimeout(()=>{o(s)},PU.get());function u(){xn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var jU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BU=500,$U=600,HU="_blank",zU="http://localhost",th=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function qU(n,e,t,r=BU,i=$U){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},jU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=tt().toLowerCase();t&&(a=MT(l)?HU:t),ST(l)&&(e=e||zU,u.scrollbars="yes");let h=Object.entries(u).reduce((v,[g,S])=>`${v}${g}=${S},`,"");if(R2(l)&&a!=="_self")return GU(e||"",a),new th(null);let p=window.open(e||"",a,h);X(p,n,"popup-blocked");try{p.focus()}catch{}return new th(p)}function GU(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var WU="__/auth/handler",KU="emulator/auth/handler",QU=encodeURIComponent("fac");function mT(n,e,t,r,i,o){return w(this,null,function*(){X(n.config.authDomain,n,"auth-domain-config-required"),X(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ni,eventId:i};if(e instanceof Jd){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",UD(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Uy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${QU}=${encodeURIComponent(u)}`:"";return`${YU(n)}?${lc(a).slice(1)}${l}`})}function YU({config:n}){return n.emulator?Qy(n,KU):`https://${n.authDomain}/${WU}`}var Ay="webStorageSupport",Gy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=av,this._completeRedirectFn=EU,this._overrideRedirectResult=_U}_openPopup(e,t,r,i){return w(this,null,function*(){var o;ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield mT(e,t,r,My(),i);return qU(e,s,zT())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield mT(e,t,r,My(),i);return rU(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ii(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield UU(e),r=new qy(e);return t.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ay,{type:Ay},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ay];s!==void 0&&t(!!s),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OT()||AT()||Xy()}},YT=Gy;var gT="@firebase/auth",yT="1.7.9";var Wy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function JU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZU(n){ti(new Xt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kT(n)},l=new Fy(r,i,o,u);return U2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ti(new Xt("auth-internal",e=>{let t=Ki(e.getProvider("auth").getImmediate());return(r=>new Wy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xe(gT,yT,JU(n)),Xe(gT,yT,"esm2017")}var XU=5*60,ej=ay("authIdTokenMaxAge")||XU,vT=null,tj=n=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ej)return;let i=t?.token;vT!==i&&(vT=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function cv(n=os()){let e=fc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ev(n,{popupRedirectResolver:YT,persistence:[KT,HT,av]}),r=ay("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=tj(o.toString());sv(t,s,()=>s(t.currentUser)),ov(t,a=>s(a))}}let i=oy("auth");return i&&tv(t,`http://${i}`),t}function nj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}O2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=qi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",nj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZU("Browser");var JT="auth",yr=class{constructor(e){return e}},bc=class{constructor(){return pc(JT)}};var uv=new z("angularfire2.auth-instances");function Wj(n,e){let t=Vd(JT,n,e);return t&&new yr(t)}function Kj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new yr(r)}}var Qj={provide:bc,deps:[[new Ct,uv]]},Yj={provide:yr,useFactory:Wj,deps:[[new Ct,uv],fr]};function ZT(n,...e){return Xe("angularfire",Hi.full,"auth"),un([Yj,Qj,{provide:uv,useFactory:Kj(n),multi:!0,deps:[De,Nt,cs,zi,[new Ct,as],...e]}])}var ih=Rn(rv,!0);var XT=Rn(cv,!0);var eS=Rn(iv,!0);var en=class n{constructor(e,t){this.auth=e;this.router=t;let r=localStorage.getItem("userId");this.userId=r||null}userId=null;login(e,t){return Ae(eS(this.auth,e,t)).pipe(ke(r=>{this.userId=r.user.uid,localStorage.setItem("userId",this.userId)}))}register(e,t){return Ae(ih(this.auth,e,t)).pipe(ke(r=>{this.userId=r.user.uid,localStorage.setItem("userId",this.userId)}))}getUserId(){return this.userId}logout(){this.auth.signOut().then(()=>{this.userId=null,localStorage.removeItem("userId"),this.router.navigate(["/login"])})}isAuthenticated(){return this.userId!==null||localStorage.getItem("userId")!==null}static \u0275fac=function(t){return new(t||n)(K(yr),K(kt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var oh=class n{constructor(e,t){this.authService=e;this.router=t}onLogout(){this.authService.logout()}isAuthenticated(){return this.authService.isAuthenticated()}static \u0275fac=function(t){return new(t||n)($(en),$(kt))};static \u0275cmp=Ve({type:n,selectors:[["app-navbar"]],standalone:!0,features:[Ue],decls:27,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top"],[1,"container-fluid"],["href","#",1,"navbar-brand","fitness-tracking-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-end"],["href","#routine-creation",1,"dropdown-item"],["href","#saved-routines",1,"dropdown-item"],[1,"nav-item"],["href","#imc-calculator",1,"nav-link"],["href","#motivational-phrases",1,"nav-link"],[1,"btn","btn-danger","ms-3",3,"click"]],template:function(t,r){t&1&&(N(0,"nav",0)(1,"div",1)(2,"a",2),P(3,"Fitness Tracking"),R(),N(4,"button",3),qe(5,"span",4),R(),N(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),P(10," Rutinas "),R(),N(11,"ul",9)(12,"li")(13,"a",10),P(14,"Crear Rutinas"),R()(),N(15,"li")(16,"a",11),P(17,"Rutinas Guardadas"),R()()()(),N(18,"li",12)(19,"a",13),P(20,"Calculadora IMC"),R()(),N(21,"li",12)(22,"a",14),P(23,"Frases Motivacionales"),R()(),N(24,"li",12)(25,"button",15),Ee("click",function(){return r.onLogout()}),P(26,"Cerrar Sesi\xF3n"),R()()()()()())},dependencies:[st],styles:[".navbar[_ngcontent-%COMP%]{background-color:#000!important}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff!important}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:tomato!important}.navbar[_ngcontent-%COMP%]   .fitness-tracking-brand[_ngcontent-%COMP%]{font-family:Impact,sans-serif;font-size:1.5rem;text-transform:uppercase}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{background-color:#000}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:tomato;color:#fff}.navbar[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{color:#fff;background-color:red;border-color:red}.navbar[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#c00;border-color:#c00}#motivational-phrases[_ngcontent-%COMP%], #imc-calculator[_ngcontent-%COMP%]{transition:transform .3s,box-shadow .3s}#motivational-phrases[_ngcontent-%COMP%]:hover, #imc-calculator[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.navbar-nav[_ngcontent-%COMP%]{text-align:center}.btn-danger[_ngcontent-%COMP%]{margin-top:10px}}"]})};var lS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)($(ir),$(Dn))}}static{this.\u0275dir=Pe({type:n})}}return n})(),mh=(()=>{class n extends lS{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=Pe({type:n,features:[Tt]})}}return n})(),ms=new z("");var Zj={provide:ms,useExisting:Bt(()=>Pn),multi:!0};function Xj(){let n=sr()?sr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var eB=new z(""),Pn=(()=>{class n extends lS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Xj())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)($(ir),$(Dn),$(eB,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ee("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[$t([Zj]),Tt]})}}return n})();function ai(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function dS(n){return n!=null&&typeof n.length=="number"}var gs=new z(""),gh=new z(""),tB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,xc=class{static min(e){return nB(e)}static max(e){return rB(e)}static required(e){return hS(e)}static requiredTrue(e){return iB(e)}static email(e){return oB(e)}static minLength(e){return fS(e)}static maxLength(e){return sB(e)}static pattern(e){return aB(e)}static nullValidator(e){return ah(e)}static compose(e){return _S(e)}static composeAsync(e){return IS(e)}};function nB(n){return e=>{if(ai(e.value)||ai(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function rB(n){return e=>{if(ai(e.value)||ai(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function hS(n){return ai(n.value)?{required:!0}:null}function iB(n){return n.value===!0?null:{required:!0}}function oB(n){return ai(n.value)||tB.test(n.value)?null:{email:!0}}function fS(n){return e=>ai(e.value)||!dS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function sB(n){return e=>dS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function aB(n){if(!n)return ah;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ai(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function ah(n){return null}function pS(n){return n!=null}function mS(n){return Oi(n)?Ae(n):n}function gS(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function yS(n,e){return e.map(t=>t(n))}function cB(n){return!n.validate}function vS(n){return n.map(e=>cB(e)?e:t=>e.validate(t))}function _S(n){if(!n)return null;let e=n.filter(pS);return e.length==0?null:function(t){return gS(yS(t,e))}}function mv(n){return n!=null?_S(vS(n)):null}function IS(n){if(!n)return null;let e=n.filter(pS);return e.length==0?null:function(t){let r=yS(t,e).map(mS);return op(r).pipe(ne(gS))}}function gv(n){return n!=null?IS(vS(n)):null}function tS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wS(n){return n._rawValidators}function ES(n){return n._rawAsyncValidators}function lv(n){return n?Array.isArray(n)?n:[n]:[]}function ch(n,e){return Array.isArray(n)?n.includes(e):n===e}function nS(n,e){let t=lv(e);return lv(n).forEach(i=>{ch(t,i)||t.push(i)}),t}function rS(n,e){return lv(e).filter(t=>!ch(n,t))}var uh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},vr=class extends uh{get formDirective(){return null}get path(){return null}},Qi=class extends uh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},lh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},uB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},X6=le(L({},uB),{"[class.ng-submitted]":"isSubmitted"}),On=(()=>{class n extends lh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)($(Qi,2))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ed("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Tt]})}}return n})(),kn=(()=>{class n extends lh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)($(vr,10))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ed("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Tt]})}}return n})();var Dc="VALID",sh="INVALID",ds="PENDING",Tc="DISABLED",ci=class{},dh=class extends ci{constructor(e,t){super(),this.value=e,this.source=t}},Ac=class extends ci{constructor(e,t){super(),this.pristine=e,this.source=t}},Mc=class extends ci{constructor(e,t){super(),this.touched=e,this.source=t}},hs=class extends ci{constructor(e,t){super(),this.status=e,this.source=t}},dv=class extends ci{constructor(e){super(),this.source=e}},hv=class extends ci{constructor(e){super(),this.source=e}};function yv(n){return(yh(n)?n.validators:n)||null}function lB(n){return Array.isArray(n)?mv(n):n||null}function vv(n,e){return(yh(e)?e.asyncValidators:n)||null}function dB(n){return Array.isArray(n)?gv(n):n||null}function yh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function bS(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[t])throw new W(1001,"")}function CS(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new W(1002,"")})}var fs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=qo(()=>this.statusReactive()),this.statusReactive=Ho(void 0),this._pristine=qo(()=>this.pristineReactive()),this.pristineReactive=Ho(!0),this._touched=qo(()=>this.touchedReactive()),this.touchedReactive=Ho(!1),this._events=new it,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Sn(this.statusReactive)}set status(e){Sn(()=>this.statusReactive.set(e))}get valid(){return this.status===Dc}get invalid(){return this.status===sh}get pending(){return this.status==ds}get disabled(){return this.status===Tc}get enabled(){return this.status!==Tc}get pristine(){return Sn(this.pristineReactive)}set pristine(e){Sn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Sn(this.touchedReactive)}set touched(e){Sn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rS(e,this._rawAsyncValidators))}hasValidator(e){return ch(this._rawValidators,e)}hasAsyncValidator(e){return ch(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Mc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Mc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ac(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ac(!0,r))}markAsPending(e={}){this.status=ds;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this.errors=null,this._forEachChild(i=>{i.disable(le(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dh(this.value,r)),this._events.next(new hs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Dc,this._forEachChild(r=>{r.enable(le(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dc||this.status===ds)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dh(this.value,t)),this._events.next(new hs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tc:Dc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ds,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=mS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new hs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Tc:this.errors?sh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ds)?ds:this._anyControlsHaveStatus(sh)?sh:Dc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ac(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Mc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=dB(this._rawAsyncValidators)}},ps=class extends fs{constructor(e,t,r){super(yv(t),vv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){CS(this,!0,e),Object.keys(e).forEach(r=>{bS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var fv=class extends ps{};var Nc=new z("CallSetDisabledState",{providedIn:"root",factory:()=>vh}),vh="always";function DS(n,e){return[...e.path,n]}function hh(n,e,t=vh){_v(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),fB(n,e),mB(n,e),pB(n,e),hB(n,e)}function iS(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ph(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function fh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hB(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function _v(n,e){let t=wS(n);e.validator!==null?n.setValidators(tS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=ES(n);e.asyncValidator!==null?n.setAsyncValidators(tS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();fh(e._rawValidators,i),fh(e._rawAsyncValidators,i)}function ph(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=wS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=ES(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return fh(e._rawValidators,r),fh(e._rawAsyncValidators,r),t}function fB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&TS(n,e)})}function pB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&TS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function TS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mB(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function SS(n,e){n==null,_v(n,e)}function gB(n,e){return ph(n,e)}function AS(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function yB(n){return Object.getPrototypeOf(n.constructor)===mh}function MS(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function RS(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Pn?t=o:yB(o)?r=o:i=o}),i||r||t||null}function vB(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var _B={provide:vr,useExisting:Bt(()=>_r)},Sc=Promise.resolve(),_r=(()=>{class n extends vr{get submitted(){return Sn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=qo(()=>this.submittedReactive()),this.submittedReactive=Ho(!1),this._directives=new Set,this.ngSubmit=new Re,this.form=new ps({},mv(t),gv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Sc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),hh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Sc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Sc.then(()=>{let r=this._findContainer(t.path),i=new ps({});SS(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Sc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Sc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),MS(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)($(gs,10),$(gh,10),$(Nc,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ee("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([_B]),Tt]})}}return n})();function oS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function sS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Rc=class extends fs{constructor(e=null,t,r){super(yv(t),vv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(sS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){sS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var IB=n=>n instanceof Rc;var wB={provide:Qi,useExisting:Bt(()=>Ir)},aS=Promise.resolve(),Ir=(()=>{class n extends Qi{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Rc,this._registered=!1,this.name="",this.update=new Re,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=RS(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),AS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){hh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){aS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&xa(r);aS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?DS(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)($(vr,9),$(gs,10),$(gh,10),$(ms,10),$(ki,8),$(Nc,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([wB]),Tt,nr]})}}return n})(),Fn=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Pe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),EB={provide:ms,useExisting:Bt(()=>Pc),multi:!0},Pc=(()=>{class n extends mh{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ee("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[$t([EB]),Tt]})}}return n})();var xS=new z("");var bB={provide:vr,useExisting:Bt(()=>Iv)},Iv=(()=>{class n extends vr{get submitted(){return Sn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=qo(()=>this._submittedReactive()),this._submittedReactive=Ho(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ph(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return hh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){iS(t.control||null,t,!1),vB(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),MS(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new dv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new hv(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(iS(r||null,t),IB(i)&&(hh(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);SS(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&gB(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_v(this.form,this),this._oldForm&&ph(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)($(gs,10),$(gh,10),$(Nc,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ee("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([bB]),Tt,nr]})}}return n})();var CB={provide:Qi,useExisting:Bt(()=>wv)},wv=(()=>{class n extends Qi{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Re,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=RS(this,o)}ngOnChanges(t){this._added||this._setUpControl(),AS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return DS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)($(vr,13),$(gs,10),$(gh,10),$(ms,10),$(xS,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[$t([CB]),Tt,nr]})}}return n})(),DB={provide:ms,useExisting:Bt(()=>_h),multi:!0};function NS(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function TB(n){return n.split(":")[0]}var _h=(()=>{class n extends mh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=NS(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=TB(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ee("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$t([DB]),Tt]})}}return n})(),PS=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(NS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)($(Dn),$(ir),$(_h,9))}}static{this.\u0275dir=Pe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),SB={provide:ms,useExisting:Bt(()=>OS),multi:!0};function cS(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function AB(n){return n.split(":")[0]}var OS=(()=>{class n extends mh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=AB(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ee("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$t([SB]),Tt]})}}return n})(),kS=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(cS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(cS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)($(Dn),$(ir),$(OS,9))}}static{this.\u0275dir=Pe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function MB(n){return typeof n=="number"?n:parseInt(n,10)}var FS=(()=>{class n{constructor(){this._validator=ah}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ah,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Pe({type:n,features:[nr]})}}return n})();var RB={provide:gs,useExisting:Bt(()=>Yi),multi:!0};var Yi=(()=>{class n extends FS{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xa,this.createValidator=t=>hS}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ma("required",i._enabled?"":null)},inputs:{required:"required"},features:[$t([RB]),Tt]})}}return n})();var xB={provide:gs,useExisting:Bt(()=>Ev),multi:!0},Ev=(()=>{class n extends FS{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>MB(t),this.createValidator=t=>fS(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ma("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[$t([xB]),Tt]})}}return n})();var LS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Xn({type:n})}static{this.\u0275inj=Zn({})}}return n})(),pv=class extends fs{constructor(e,t,r){super(yv(t),vv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){CS(this,!1,e),e.forEach((r,i)=>{bS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function uS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var VS=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return uS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ps(i,o)}record(t,r=null){let i=this._reduceControls(t);return new fv(i,r)}control(t,r,i){let o={};return this.useNonNullable?(uS(r)?o=r:(o.validators=r,o.asyncValidators=i),new Rc(t,le(L({},o),{nonNullable:!0}))):new Rc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new pv(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Rc)return t;if(t instanceof fs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Nc,useValue:t.callSetDisabledState??vh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Xn({type:n})}static{this.\u0275inj=Zn({imports:[LS]})}}return n})(),US=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xS,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Nc,useValue:t.callSetDisabledState??vh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Xn({type:n})}static{this.\u0275inj=Zn({imports:[LS]})}}return n})();function NB(n,e){n&1&&qe(0,"app-navbar")}function PB(n,e){n&1&&qe(0,"app-footer")}var Ih=class n{constructor(e){this.router=e;this.router.events.subscribe(t=>{t instanceof ur&&(this.router.routerState.root.firstChild?.snapshot.data.hideNavbarFooter?this.showNavbarFooter=!1:this.showNavbarFooter=!0)})}title="Fitness Tracking";showNavbarFooter=!0;static \u0275fac=function(t){return new(t||n)($(kt))};static \u0275cmp=Ve({type:n,selectors:[["app-root"]],standalone:!0,features:[Ue],decls:3,vars:2,consts:[[4,"ngIf"]],template:function(t,r){t&1&&(xe(0,NB,1,0,"app-navbar",0),qe(1,"router-outlet"),xe(2,PB,1,0,"app-footer",0)),t&2&&(J("ngIf",r.showNavbarFooter),j(2),J("ngIf",r.showNavbarFooter))},dependencies:[Qg,st,Ot,xd,oh,mt]})};var jS={production:!1,firebase:{apiKey:"AIzaSyAHY2y9I2ixhWGi0Ia-VR_rhs-rCo7PJg8",authDomain:"fitness-b85e4.firebaseapp.com",projectId:"fitness-b85e4",storageBucket:"fitness-b85e4.appspot.com",messagingSenderId:"676598192780",appId:"1:676598192780:web:a11801150f472850ee79a9",measurementId:"G-TCE3S1ZEH3"}};function OB(n,e){if(n&1&&(N(0,"div",15),P(1),R()),n&2){let t=Ze();j(),Ge(" ",t.loginError," ")}}function kB(n,e){if(n&1&&(N(0,"div",16),P(1),R()),n&2){let t=Ze();j(),Ge(" ",t.loginSuccess," ")}}var wh=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";loginError=null;loginSuccess=null;onLogin(){if(this.clearMessages(),this.isPasswordInvalid()){this.loginError="La contrase\xF1a debe tener al menos 6 caracteres.";return}this.authService.login(this.email,this.password).subscribe({next:e=>this.handleLoginSuccess(e),error:e=>this.handleLoginError(e)})}loginN(){this.router.navigate(["/register"])}clearMessages(){this.loginError=null,this.loginSuccess=null}isPasswordInvalid(){return this.password.length<6}handleLoginSuccess(e){this.loginSuccess="\xA1Inicio de sesi\xF3n exitoso!",console.log("Usuario autenticado con UID:",this.authService.getUserId()),this.router.navigate(["/home"])}handleLoginError(e){switch(e.code){case"auth/wrong-password":this.loginError="Contrase\xF1a incorrecta. Int\xE9ntalo nuevamente.";break;case"auth/user-not-found":this.loginError="Usuario no encontrado. Verifica tu correo.";break;case"auth/invalid-email":this.loginError="Formato de correo inv\xE1lido.";break;case"auth/too-many-requests":this.loginError="Demasiados intentos fallidos. Int\xE9ntalo m\xE1s tarde.";break;default:this.loginError="Error al iniciar sesi\xF3n. Int\xE9ntalo nuevamente."}console.error("Error de inicio de sesi\xF3n:",e)}static \u0275fac=function(t){return new(t||n)($(en),$(kt))};static \u0275cmp=Ve({type:n,selectors:[["app-login"]],standalone:!0,features:[Ue],decls:21,vars:5,consts:[[1,"container","d-flex","align-items-center","justify-content-center","vh-100"],[1,"card","p-4","shadow-lg","animate__animated","animate__fadeIn",2,"max-width","400px","width","100%"],[1,"text-center","mb-4"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label",2,"color","red"],["type","email","name","email","id","email","placeholder","Ingrese su correo","required","","autocomplete","email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label",2,"color","red"],["type","password","name","password","id","password","placeholder","Ingrese su contrase\xF1a","required","","minlength","6","autocomplete","current-password",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),P(3,"Iniciar Sesi\xF3n"),R(),N(4,"form",3),Ee("ngSubmit",function(){return r.onLogin()}),N(5,"div",4)(6,"label",5),P(7,"Correo Electr\xF3nico"),R(),N(8,"input",6),pt("ngModelChange",function(o){return St(r.email,o)||(r.email=o),o}),R()(),N(9,"div",4)(10,"label",7),P(11,"Contrase\xF1a"),R(),N(12,"input",8),pt("ngModelChange",function(o){return St(r.password,o)||(r.password=o),o}),R()(),xe(13,OB,2,1,"div",9)(14,kB,2,1,"div",10),N(15,"div",11)(16,"button",12),P(17," Iniciar Sesi\xF3n "),R()()(),N(18,"p",13)(19,"button",14),Ee("click",function(){return r.loginN()}),P(20,"Registrarse"),R()()()()),t&2&&(j(8),ft("ngModel",r.email),j(4),ft("ngModel",r.password),j(),J("ngIf",r.loginError),j(),J("ngIf",r.loginSuccess),j(2),J("disabled",r.password.length<6))},dependencies:[mt,Fn,Pn,On,kn,Yi,Ev,Ir,_r,st,Ot],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css";.container[_ngcontent-%COMP%]{max-width:500px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-family:Arial Black,Gadget,sans-serif}.card[_ngcontent-%COMP%]{background-color:#ff00007d;color:#000;border-radius:15px;box-shadow:0 4px 8px #0003}.card-body[_ngcontent-%COMP%]{padding:2rem}.btn-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}']})};function FB(n,e){if(n&1&&(N(0,"div",16),P(1),R()),n&2){let t=Ze();j(),Ge(" ",t.passwordError," ")}}function LB(n,e){if(n&1&&(N(0,"div",17),P(1),R()),n&2){let t=Ze();j(),Ge(" ",t.registrationError," ")}}function VB(n,e){if(n&1&&(N(0,"div",18),P(1),R()),n&2){let t=Ze();j(),Ge(" ",t.registrationSuccess," ")}}var Eh=class n{email="";password="";registrationError=null;registrationSuccess=null;passwordError="";isPasswordValid=!1;auth=O(yr);router=O(kt);constructor(){}registerN(){this.router.navigate(["/login"])}validatePassword(){let e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/;this.password.includes(" ")?(this.passwordError="La contrase\xF1a no debe contener espacios en blanco.",this.isPasswordValid=!1):e.test(this.password)?(this.passwordError="",this.isPasswordValid=!0):(this.passwordError="La contrase\xF1a debe tener al menos 8 caracteres, una letra may\xFAscula, una letra min\xFAscula, un n\xFAmero y un car\xE1cter especial.",this.isPasswordValid=!1)}onRegister(){if(this.validatePassword(),!this.isPasswordValid){this.registrationSuccess=null;return}ih(this.auth,this.email,this.password).then(e=>{this.registrationError=null,this.registrationSuccess="Registration successful!",console.log("User registered:",e)}).catch(e=>{this.registrationSuccess=null,e.code==="auth/email-already-in-use"?this.registrationError="This email is already in use. Please try another email.":e.code==="auth/invalid-email"?this.registrationError="The email address is not valid. Please check and try again.":e.code==="auth/weak-password"?this.registrationError="The password is too weak. Please enter a stronger password.":this.registrationError="Registration failed. Please try again later.",console.error("Registration error:",e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-register"]],standalone:!0,features:[Ue],decls:22,vars:6,consts:[[1,"container","d-flex","align-items-center","justify-content-center","vh-100"],[1,"card","p-4","shadow-lg","animate__animated","animate__fadeIn",2,"max-width","400px","width","100%"],[1,"text-center","mb-4"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label",2,"color","red"],["type","email","name","email","id","email","placeholder","Ingrese su correo","required","","autocomplete","email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label",2,"color","red"],["type","password","name","password","id","password","placeholder","Ingrese su contrase\xF1a","required","","autocomplete","new-password",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"text-danger"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),P(3,"Reg\xEDstrate"),R(),N(4,"form",3),Ee("ngSubmit",function(){return r.onRegister()}),N(5,"div",4)(6,"label",5),P(7,"Correo Electr\xF3nico"),R(),N(8,"input",6),pt("ngModelChange",function(o){return St(r.email,o)||(r.email=o),o}),R()(),N(9,"div",4)(10,"label",7),P(11,"Contrase\xF1a"),R(),N(12,"input",8),pt("ngModelChange",function(o){return St(r.password,o)||(r.password=o),o}),Ee("input",function(){return r.validatePassword()}),R()(),xe(13,FB,2,1,"div",9)(14,LB,2,1,"div",10)(15,VB,2,1,"div",11),N(16,"div",12)(17,"button",13),P(18," Registrarse "),R()()(),N(19,"p",14)(20,"button",15),Ee("click",function(){return r.registerN()}),P(21,"Iniciar Sesi\xF3n"),R()()()()),t&2&&(j(8),ft("ngModel",r.email),j(4),ft("ngModel",r.password),j(),J("ngIf",r.passwordError),j(),J("ngIf",r.registrationError),j(),J("ngIf",r.registrationSuccess),j(2),J("disabled",!r.isPasswordValid))},dependencies:[mt,Fn,Pn,On,kn,Yi,Ir,_r,st,Ot],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css";.container[_ngcontent-%COMP%]{max-width:500px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-family:Arial Black,Gadget,sans-serif}.card[_ngcontent-%COMP%]{background-color:#ff00007d;color:#000;border-radius:15px;box-shadow:0 4px 8px #0003}.card-body[_ngcontent-%COMP%]{padding:2rem}.btn-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}']})};function UB(n,e){if(n&1&&(N(0,"div",16)(1,"h3"),P(2),Jb(3,"number"),R(),N(4,"p"),P(5),R()()),n&2){let t=Ze();j(2),Ge("Tu IMC es: ",Zb(3,2,t.imc,"1.1-2"),""),j(3),Yt(t.imcMessage)}}function jB(n,e){n&1&&(N(0,"p"),P(1," Tu IMC indica que tienes bajo peso. Es recomendable que consultes con un nutricionista para un plan de alimentaci\xF3n que te ayude a alcanzar un peso saludable. Considera incluir m\xE1s prote\xEDnas y carbohidratos en tu dieta. "),R())}function BB(n,e){n&1&&(N(0,"p"),P(1," Tu IMC es normal. \xA1Genial! Mant\xE9n una dieta balanceada y un r\xE9gimen de ejercicio regular para mantener tu salud. "),R())}function $B(n,e){n&1&&(N(0,"p"),P(1," Tu IMC indica sobrepeso. Se recomienda una dieta saludable baja en grasas y az\xFAcares, y aumentar la actividad f\xEDsica diaria. Consultar a un profesional de salud puede ser una buena idea. "),R())}function HB(n,e){n&1&&(N(0,"p"),P(1," Tu IMC indica obesidad. Es importante buscar ayuda profesional para crear un plan de dieta y ejercicio adecuado a tus necesidades. La combinaci\xF3n de una alimentaci\xF3n balanceada y ejercicio regular ser\xE1 clave. "),R())}function zB(n,e){if(n&1&&(N(0,"div",17),xe(1,jB,2,0,"p",18)(2,BB,2,0,"p",18)(3,$B,2,0,"p",18)(4,HB,2,0,"p",18),R()),n&2){let t=Ze();j(),J("ngIf",t.imcMessage==="Bajo peso"),j(),J("ngIf",t.imcMessage==="Peso normal"),j(),J("ngIf",t.imcMessage==="Sobrepeso"),j(),J("ngIf",t.imcMessage==="Obesidad")}}var bh=class n{weight=0;height=0;imc=0;imcMessage="";calculateIMC(){this.weight&&this.height&&(this.imc=this.weight/(this.height/100*(this.height/100)),this.setIMCMessage())}setIMCMessage(){this.imc<18.5?this.imcMessage="Bajo peso":this.imc>=18.5&&this.imc<24.9?this.imcMessage="Peso normal":this.imc>=25&&this.imc<29.9?this.imcMessage="Sobrepeso":this.imcMessage="Obesidad"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-calculator-imc"]],standalone:!0,features:[Ue],decls:25,vars:4,consts:[[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"row","w-100"],[1,"col-md-6","mb-4"],[1,"card","text-center",2,"width","24rem"],[1,"card-body"],[1,"card-title","animate__animated","animate__fadeInDown"],[1,"animate__animated","animate__fadeInUp",3,"ngSubmit"],[1,"mb-3"],["for","weight",1,"form-label"],["type","number","id","weight","name","weight","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","height",1,"form-label"],["type","number","step","0.01","id","height","name","height","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","mt-4 animate__animated animate__zoomIn",4,"ngIf"],[1,"card","text-center"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"mt-4","animate__animated","animate__zoomIn"],[1,"animate__animated","animate__fadeInUp"],[4,"ngIf"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),P(6,"Calculadora de IMC"),R(),N(7,"form",6),Ee("ngSubmit",function(){return r.calculateIMC()}),N(8,"div",7)(9,"label",8),P(10,"Peso (kg):"),R(),N(11,"input",9),pt("ngModelChange",function(o){return St(r.weight,o)||(r.weight=o),o}),R()(),N(12,"div",7)(13,"label",10),P(14,"Altura (cm):"),R(),N(15,"input",11),pt("ngModelChange",function(o){return St(r.height,o)||(r.height=o),o}),R()(),N(16,"button",12),P(17,"Calcular IMC"),R()(),xe(18,UB,6,5,"div",13),R()()(),N(19,"div",2)(20,"div",14)(21,"div",4)(22,"h2",5),P(23,"Recomendaciones"),R(),xe(24,zB,5,4,"div",15),R()()()()()),t&2&&(j(11),ft("ngModel",r.weight),j(4),ft("ngModel",r.height),j(3),J("ngIf",r.imc),j(6),J("ngIf",r.imcMessage))},dependencies:[mt,Fn,Pn,Pc,On,kn,Yi,Ir,_r,st,Ot,vC],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css";.container[_ngcontent-%COMP%]{max-width:900px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;font-family:Arial Black,Gadget,sans-serif}.card[_ngcontent-%COMP%]{background-color:#ff00007d;color:#000;border-radius:15px;box-shadow:0 4px 8px #0003}.card-body[_ngcontent-%COMP%]{padding:2rem}.btn-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}']})};var BS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$S={};var ui,bv;(function(){var n;function e(E,y){function _(){}_.prototype=y.prototype,E.D=y.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(b,C,T){for(var I=Array(arguments.length-2),$n=2;$n<arguments.length;$n++)I[$n-2]=arguments[$n];return y.prototype[C].apply(b,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,_){_||(_=0);var b=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)b[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)b[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=E.g[0],_=E.g[1],C=E.g[2];var T=E.g[3],I=y+(T^_&(C^T))+b[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+b[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+b[2]+606105819&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+b[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+b[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+b[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+b[6]+2821735955&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+b[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+b[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+b[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+b[10]+4294925233&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+b[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+b[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+b[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+b[14]+2792965006&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+b[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(C^T&(_^C))+b[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+b[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+b[11]+643717713&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+b[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+b[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+b[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+b[15]+3634488961&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+b[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+b[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+b[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+b[3]+4107603335&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+b[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+b[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+b[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+b[7]+1735328473&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+b[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(_^C^T)+b[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+b[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+b[11]+1839030562&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+b[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+b[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+b[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+b[7]+4139469664&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+b[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+b[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+b[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+b[3]+3572445317&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+b[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+b[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+b[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+b[15]+530742520&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+b[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(C^(_|~T))+b[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+b[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+b[14]+2878612391&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+b[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+b[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+b[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+b[10]+4293915773&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+b[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+b[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+b[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+b[6]+2734768916&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+b[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+b[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+b[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+b[2]+718787259&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+T&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var _=y-this.blockSize,b=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=_;)i(this,E,T),T+=this.blockSize;if(typeof E=="string"){for(;T<y;)if(b[C++]=E.charCodeAt(T++),C==this.blockSize){i(this,b),C=0;break}}else for(;T<y;)if(b[C++]=E[T++],C==this.blockSize){i(this,b),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var _=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=_&255,_/=256;for(this.u(E),E=Array(16),y=_=0;4>y;++y)for(var b=0;32>b;b+=8)E[_++]=this.g[y]>>>b&255;return E};function o(E,y){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=y(E)}function s(E,y){this.h=y;for(var _=[],b=!0,C=E.length-1;0<=C;C--){var T=E[C]|0;b&&T==y||(_[C]=T,b=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return M(l(-E));for(var y=[],_=1,b=0;E>=_;b++)y[b]=E/_|0,_*=4294967296;return new s(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return M(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),b=p,C=0;C<E.length;C+=8){var T=Math.min(8,E.length-C),I=parseInt(E.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),b=b.j(T).add(l(I))):(b=b.j(_),b=b.add(l(I)))}return b}var p=u(0),v=u(1),g=u(16777216);n=s.prototype,n.m=function(){if(x(this))return-M(this).m();for(var E=0,y=1,_=0;_<this.g.length;_++){var b=this.i(_);E+=(0<=b?b:4294967296+b)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(x(this))return"-"+M(this).toString(E);for(var y=l(Math.pow(E,6)),_=this,b="";;){var C=Z(_,y).g;_=V(_,C.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=C,S(_))return T+b;for(;6>T.length;)T="0"+T;b=T+b}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function x(E){return E.h==-1}n.l=function(E){return E=V(this,E),x(E)?-1:S(E)?0:1};function M(E){for(var y=E.g.length,_=[],b=0;b<y;b++)_[b]=~E.g[b];return new s(_,~E.h).add(v)}n.abs=function(){return x(this)?M(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],b=0,C=0;C<=y;C++){var T=b+(this.i(C)&65535)+(E.i(C)&65535),I=(T>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);b=I>>>16,T&=65535,I&=65535,_[C]=I<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function V(E,y){return E.add(M(y))}n.j=function(E){if(S(this)||S(E))return p;if(x(this))return x(E)?M(this).j(M(E)):M(M(this).j(E));if(x(E))return M(this.j(M(E)));if(0>this.l(g)&&0>E.l(g))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,_=[],b=0;b<2*y;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<E.g.length;C++){var T=this.i(b)>>>16,I=this.i(b)&65535,$n=E.i(C)>>>16,Hs=E.i(C)&65535;_[2*b+2*C]+=I*Hs,G(_,2*b+2*C),_[2*b+2*C+1]+=T*Hs,G(_,2*b+2*C+1),_[2*b+2*C+1]+=I*$n,G(_,2*b+2*C+1),_[2*b+2*C+2]+=T*$n,G(_,2*b+2*C+2)}for(b=0;b<y;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=y;b<2*y;b++)_[b]=0;return new s(_,0)};function G(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function B(E,y){this.g=E,this.h=y}function Z(E,y){if(S(y))throw Error("division by zero");if(S(E))return new B(p,p);if(x(E))return y=Z(M(E),y),new B(M(y.g),M(y.h));if(x(y))return y=Z(E,M(y)),new B(M(y.g),y.h);if(30<E.g.length){if(x(E)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var _=v,b=y;0>=b.l(E);)_=ve(_),b=ve(b);var C=Y(_,1),T=Y(b,1);for(b=Y(b,2),_=Y(_,2);!S(b);){var I=T.add(b);0>=I.l(E)&&(C=C.add(_),T=I),b=Y(b,1),_=Y(_,1)}return y=V(E,C.j(y)),new B(C,y)}for(C=p;0<=E.l(y);){for(_=Math.max(1,Math.floor(E.m()/y.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),T=l(_),I=T.j(y);x(I)||0<I.l(E);)_-=b,T=l(_),I=T.j(y);S(T)&&(T=v),C=C.add(T),E=V(E,I)}return new B(C,E)}n.A=function(E){return Z(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)&E.i(b);return new s(_,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)|E.i(b);return new s(_,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)^E.i(b);return new s(_,this.h^E.h)};function ve(E){for(var y=E.g.length+1,_=[],b=0;b<y;b++)_[b]=E.i(b)<<1|E.i(b-1)>>>31;return new s(_,E.h)}function Y(E,y){var _=y>>5;y%=32;for(var b=E.g.length-_,C=[],T=0;T<b;T++)C[T]=0<y?E.i(T+_)>>>y|E.i(T+_+1)<<32-y:E.i(T+_);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bv=$S.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ui=$S.Integer=s}).apply(typeof BS<"u"?BS:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wr={};var Cv,qB,ys,Dv,kc,Dh,Tv,Sv,Av;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var D=c[m];if(!(D in f))break e;f=f[D]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,D={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,m),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function v(c,d,f){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,v.apply(null,arguments)}function g(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,D,A){for(var F=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)F[Se-2]=arguments[Se];return d.prototype[D].apply(m,F)}}function x(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let D=c.length||0,A=m.length||0;c.length=D+A;for(let F=0;F<A;F++)c[D+F]=m[F]}else c.push(m)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var ve=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Y(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,m;for(let D=1;D<arguments.length;D++){m=arguments[D];for(f in m)c[f]=m[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=ff;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class $n{constructor(){this.h=this.g=null}add(d,f){let m=Hs.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Hs=new V(()=>new bM,c=>c.reset());class bM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let zs,qs=!1,ff=new $n,CI=()=>{let c=a.Promise.resolve(void 0);zs=()=>{c.then(CM)}};var CM=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=Hs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}qs=!1};function Dr(){this.s=this.s,this.C=this.C}Dr.prototype.s=!1,Dr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var DM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Gs(c,d){if(ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ve){e:{try{Z(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:TM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Gs.aa.h.call(this)}}S(Gs,ct);var TM={2:"touch",3:"pen",4:"mouse"};Gs.prototype.h=function(){Gs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ws="closure_listenable_"+(1e6*Math.random()|0),SM=0;function AM(c,d,f,m,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=D,this.key=++SM,this.da=this.fa=!1}function ou(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function su(c){this.src=c,this.g={},this.h=0}su.prototype.add=function(c,d,f,m,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=mf(c,d,m,D);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new AM(d,this.src,A,!!m,D),d.fa=f,c.push(d)),d};function pf(c,d){var f=d.type;if(f in c.g){var m=c.g[f],D=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(m,D,1),A&&(ou(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function mf(c,d,f,m){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return D}return-1}var gf="closure_lm_"+(1e6*Math.random()|0),yf={};function DI(c,d,f,m,D){if(m&&m.once)return SI(c,d,f,m,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)DI(c,d[A],f,m,D);return null}return f=wf(f),c&&c[Ws]?c.K(d,f,l(m)?!!m.capture:!!m,D):TI(c,d,f,!1,m,D)}function TI(c,d,f,m,D,A){if(!d)throw Error("Invalid event type");var F=l(D)?!!D.capture:!!D,Se=_f(c);if(Se||(c[gf]=Se=new su(c)),f=Se.add(d,f,m,F,A),f.proxy)return f;if(m=MM(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)DM||(D=F),D===void 0&&(D=!1),c.addEventListener(d.toString(),m,D);else if(c.attachEvent)c.attachEvent(MI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function MM(){function c(f){return d.call(c.src,c.listener,f)}let d=RM;return c}function SI(c,d,f,m,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)SI(c,d[A],f,m,D);return null}return f=wf(f),c&&c[Ws]?c.L(d,f,l(m)?!!m.capture:!!m,D):TI(c,d,f,!0,m,D)}function AI(c,d,f,m,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)AI(c,d[A],f,m,D);else m=l(m)?!!m.capture:!!m,f=wf(f),c&&c[Ws]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=mf(A,f,m,D),-1<f&&(ou(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=_f(c))&&(d=c.g[d.toString()],c=-1,d&&(c=mf(d,f,m,D)),(f=-1<c?d[c]:null)&&vf(f))}function vf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ws])pf(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(MI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=_f(d))?(pf(f,c),f.h==0&&(f.src=null,d[gf]=null)):ou(c)}}}function MI(c){return c in yf?yf[c]:yf[c]="on"+c}function RM(c,d){if(c.da)c=!0;else{d=new Gs(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&vf(c),c=f.call(m,d)}return c}function _f(c){return c=c[gf],c instanceof su?c:null}var If="__closure_events_fn_"+(1e9*Math.random()>>>0);function wf(c){return typeof c=="function"?c:(c[If]||(c[If]=function(d){return c.handleEvent(d)}),c[If])}function ut(){Dr.call(this),this.i=new su(this),this.M=this,this.F=null}S(ut,Dr),ut.prototype[Ws]=!0,ut.prototype.removeEventListener=function(c,d,f,m){AI(this,c,d,f,m)};function _t(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ct(d,c);else if(d instanceof ct)d.target=d.target||c;else{var D=d;d=new ct(m,c),b(d,D)}if(D=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];D=au(F,m,!0,d)&&D}if(F=d.g=c,D=au(F,m,!0,d)&&D,D=au(F,m,!1,d)&&D,f)for(A=0;A<f.length;A++)F=d.g=f[A],D=au(F,m,!1,d)&&D}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)ou(f[m]);delete c.g[d],c.h--}}this.F=null},ut.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},ut.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function au(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var Se=F.listener,rt=F.ha||F.src;F.fa&&pf(c.i,F),D=Se.call(rt,m)!==!1&&D}}return D&&!m.defaultPrevented}function RI(c,d,f){if(typeof c=="function")f&&(c=v(c,f));else if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function xI(c){c.g=RI(()=>{c.g=null,c.i&&(c.i=!1,xI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class xM extends Dr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:xI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(c){Dr.call(this),this.h=c,this.g={}}S(Ks,Dr);var NI=[];function PI(c){Y(c.g,function(d,f){this.g.hasOwnProperty(f)&&vf(d)},c),c.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),PI(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ef=a.JSON.stringify,NM=a.JSON.parse,PM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function bf(){}bf.prototype.h=null;function OI(c){return c.h||(c.h=c.i())}function kI(){}var Qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cf(){ct.call(this,"d")}S(Cf,ct);function Df(){ct.call(this,"c")}S(Df,ct);var pi={},FI=null;function cu(){return FI=FI||new ut}pi.La="serverreachability";function LI(c){ct.call(this,pi.La,c)}S(LI,ct);function Ys(c){let d=cu();_t(d,new LI(d))}pi.STAT_EVENT="statevent";function VI(c,d){ct.call(this,pi.STAT_EVENT,c),this.stat=d}S(VI,ct);function It(c){let d=cu();_t(d,new VI(d,c))}pi.Ma="timingevent";function UI(c,d){ct.call(this,pi.Ma,c),this.size=d}S(UI,ct);function Js(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Zs(){this.g=!0}Zs.prototype.xa=function(){this.g=!1};function OM(c,d,f,m,D,A){c.info(function(){if(c.g)if(A)for(var F="",Se=A.split("&"),rt=0;rt<Se.length;rt++){var we=Se[rt].split("=");if(1<we.length){var lt=we[0];we=we[1];var dt=lt.split("_");F=2<=dt.length&&dt[1]=="type"?F+(lt+"="+we+"&"):F+(lt+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+m+") [attempt "+D+"]: "+d+`
`+f+`
`+F})}function kM(c,d,f,m,D,A,F){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+D+"]: "+d+`
`+f+`
`+A+" "+F})}function so(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+LM(c,f)+(m?" "+m:"")})}function FM(c,d){c.info(function(){return"TIMEOUT: "+d})}Zs.prototype.info=function(){};function LM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var D=m[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<D.length;F++)D[F]=""}}}}return Ef(f)}catch{return d}}var uu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tf;function lu(){}S(lu,bf),lu.prototype.g=function(){return new XMLHttpRequest},lu.prototype.i=function(){return{}},Tf=new lu;function Tr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new BI}function BI(){this.i=null,this.g="",this.h=!1}var $I={},Sf={};function Af(c,d,f){c.L=1,c.v=pu(Hn(d)),c.m=f,c.P=!0,HI(c,null)}function HI(c,d){c.F=Date.now(),du(c),c.A=Hn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),rw(f.i,"t",m),c.C=0,f=c.j.J,c.h=new BI,c.g=ww(c.j,f?d:null,!c.m),0<c.O&&(c.M=new xM(v(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(NI[0]=D.toString()),D=NI);for(var A=0;A<D.length;A++){var F=DI(f,D[A],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ys(),OM(c.i,c.u,c.A,c.l,c.R,c.m)}Tr.prototype.ca=function(c){c=c.target;let d=this.M;d&&zn(c)==3?d.j():this.Y(c)},Tr.prototype.Y=function(c){try{if(c==this.g)e:{let dt=zn(this.g);var d=this.g.Ba();let uo=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||lw(this.g)))){this.J||dt!=4||d==7||(d==8||0>=uo?Ys(3):Ys(2)),Mf(this);var f=this.g.Z();this.X=f;t:if(zI(this)){var m=lw(this.g);c="";var D=m.length,A=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Xs(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==D-1)});m.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,kM(this.i,this.u,this.A,this.l,this.R,dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,rt=this.g;if((Se=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Se)){var we=Se;break t}}we=null}if(f=we)so(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rf(this,f);else{this.o=!1,this.s=3,It(12),mi(this),Xs(this);break e}}if(this.P){f=!0;let nn;for(;!this.J&&this.C<F.length;)if(nn=VM(this,F),nn==Sf){dt==4&&(this.s=4,It(14),f=!1),so(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==$I){this.s=4,It(15),so(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else so(this.i,this.l,nn,null),Rf(this,nn);if(zI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||F.length!=0||this.h.h||(this.s=1,It(16),f=!1),this.o=this.o&&f,!f)so(this.i,this.l,F,"[Invalid Chunked Response]"),mi(this),Xs(this);else if(0<F.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Ff(lt),lt.M=!0,It(11))}}else so(this.i,this.l,F,null),Rf(this,F);dt==4&&mi(this),this.o&&!this.J&&(dt==4?yw(this.j,this):(this.o=!1,du(this)))}else tR(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),mi(this),Xs(this)}}}catch{}finally{}};function zI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function VM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Sf:(f=Number(d.substring(f,m)),isNaN(f)?$I:(m+=1,m+f>d.length?Sf:(d=d.slice(m,m+f),c.C=m+f,d)))}Tr.prototype.cancel=function(){this.J=!0,mi(this)};function du(c){c.S=Date.now()+c.I,qI(c,c.I)}function qI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Js(v(c.ba,c),d)}function Mf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Tr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(FM(this.i,this.A),this.L!=2&&(Ys(),It(17)),mi(this),this.s=2,Xs(this)):qI(this,this.S-c)};function Xs(c){c.j.G==0||c.J||yw(c.j,c)}function mi(c){Mf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,PI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Rf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||xf(f.h,c))){if(!c.K&&xf(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var D=m;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)_u(f),yu(f);else break e;kf(f),It(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Js(v(f.Za,f),6e3));if(1>=KI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else yi(f,11)}else if((c.K||f.g==c)&&_u(f),!G(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let we=D[d];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let lt=we[3];lt!=null&&(f.la=lt,f.j.info("VER="+f.la));let dt=we[4];dt!=null&&(f.Aa=dt,f.j.info("SVER="+f.Aa));let uo=we[5];uo!=null&&typeof uo=="number"&&0<uo&&(m=1.5*uo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let nn=c.g;if(nn){let wu=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wu){var A=m.h;A.g||wu.indexOf("spdy")==-1&&wu.indexOf("quic")==-1&&wu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Nf(A,A.h),A.h=null))}if(m.D){let Lf=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Lf&&(m.ya=Lf,Ne(m.I,m.D,Lf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=c;if(m.qa=Iw(m,m.J?m.ia:null,m.W),F.K){QI(m.h,F);var Se=F,rt=m.L;rt&&(Se.I=rt),Se.B&&(Mf(Se),du(Se)),m.g=F}else mw(m);0<f.i.length&&vu(f)}else we[0]!="stop"&&we[0]!="close"||yi(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?yi(f,7):Of(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}Ys(4)}catch{}}var UM=class{constructor(c,d){this.g=c,this.map=d}};function GI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function WI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function KI(c){return c.h?1:c.g?c.g.size:0}function xf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Nf(c,d){c.g?c.g.add(d):c.h=d}function QI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}GI.prototype.cancel=function(){if(this.i=YI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function YI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return x(c.i)}function jM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function BM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function JI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=BM(c),m=jM(c),D=m.length,A=0;A<D;A++)d.call(void 0,m[A],f&&f[A],c)}var ZI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $M(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),D=null;if(0<=m){var A=c[f].substring(0,m);D=c[f].substring(m+1)}else A=c[f];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function gi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gi){this.h=c.h,hu(this,c.j),this.o=c.o,this.g=c.g,fu(this,c.s),this.l=c.l;var d=c.i,f=new na;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),XI(this,f),this.m=c.m}else c&&(d=String(c).match(ZI))?(this.h=!1,hu(this,d[1]||"",!0),this.o=ea(d[2]||""),this.g=ea(d[3]||"",!0),fu(this,d[4]),this.l=ea(d[5]||"",!0),XI(this,d[6]||"",!0),this.m=ea(d[7]||"")):(this.h=!1,this.i=new na(null,this.h))}gi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ta(d,ew,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ta(d,ew,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ta(f,f.charAt(0)=="/"?qM:zM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ta(f,WM)),c.join("")};function Hn(c){return new gi(c)}function hu(c,d,f){c.j=f?ea(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function fu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function XI(c,d,f){d instanceof na?(c.i=d,KM(c.i,c.h)):(f||(d=ta(d,GM)),c.i=new na(d,c.h))}function Ne(c,d,f){c.i.set(d,f)}function pu(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ea(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ta(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,HM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function HM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ew=/[#\/\?@]/g,zM=/[#\?:]/g,qM=/[#\?]/g,GM=/[#\?@]/g,WM=/#/g;function na(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Sr(c){c.g||(c.g=new Map,c.h=0,c.i&&$M(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=na.prototype,n.add=function(c,d){Sr(this),this.i=null,c=ao(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function tw(c,d){Sr(c),d=ao(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function nw(c,d){return Sr(c),d=ao(c,d),c.g.has(d)}n.forEach=function(c,d){Sr(this),this.g.forEach(function(f,m){f.forEach(function(D){c.call(d,D,m,this)},this)},this)},n.na=function(){Sr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let D=c[m];for(let A=0;A<D.length;A++)f.push(d[m])}return f},n.V=function(c){Sr(this);let d=[];if(typeof c=="string")nw(this,c)&&(d=d.concat(this.g.get(ao(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Sr(this),this.i=null,c=ao(this,c),nw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function rw(c,d,f){tw(c,d),0<f.length&&(c.i=null,c.g.set(ao(c,d),x(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var D=A;F[m]!==""&&(D+="="+encodeURIComponent(String(F[m]))),c.push(D)}}return this.i=c.join("&")};function ao(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function KM(c,d){d&&!c.j&&(Sr(c),c.i=null,c.g.forEach(function(f,m){var D=m.toLowerCase();m!=D&&(tw(this,m),rw(this,D,f))},c)),c.j=d}function QM(c,d){let f=new Zs;if(a.Image){let m=new Image;m.onload=g(Ar,f,"TestLoadImage: loaded",!0,d,m),m.onerror=g(Ar,f,"TestLoadImage: error",!1,d,m),m.onabort=g(Ar,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=g(Ar,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function YM(c,d){let f=new Zs,m=new AbortController,D=setTimeout(()=>{m.abort(),Ar(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(D),A.ok?Ar(f,"TestPingServer: ok",!0,d):Ar(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Ar(f,"TestPingServer: error",!1,d)})}function Ar(c,d,f,m,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),m(f)}catch{}}function JM(){this.g=new PM}function ZM(c,d,f){let m=f||"";try{JI(c,function(D,A){let F=D;l(D)&&(F=Ef(D)),d.push(m+A+"="+encodeURIComponent(F))})}catch(D){throw d.push(m+"type="+encodeURIComponent("_badmap")),D}}function ra(c){this.l=c.Ub||null,this.j=c.eb||!1}S(ra,bf),ra.prototype.g=function(){return new mu(this.l,this.j)},ra.prototype.i=function(c){return function(){return c}}({});function mu(c,d){ut.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(mu,ut),n=mu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,oa(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ia(this):oa(this),this.readyState==3&&iw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ia(this))},n.Qa=function(c){this.g&&(this.response=c,ia(this))},n.ga=function(){this.g&&ia(this)};function ia(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oa(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function oa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ow(c){let d="";return Y(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Pf(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=ow(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ne(c,d,f))}function Fe(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Fe,ut);var XM=/^https?$/i,eR=["POST","PUT"];n=Fe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tf.g(),this.v=this.o?OI(this.o):OI(Tf),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){sw(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var D in m)f.set(D,m[D]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eR,d,void 0))||m||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){sw(this,A)}};function sw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,aw(c),gu(c)}function aw(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),gu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gu(this,!0)),Fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cw(this):this.bb())},n.bb=function(){cw(this)};function cw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)RI(c.Ea,0,c);else if(_t(c,"readystatechange"),zn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var D=String(c.D).match(ZI)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),m=!XM.test(D?D.toLowerCase():"")}f=m}if(f)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var A=2<zn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",aw(c)}}finally{gu(c)}}}}function gu(c,d){if(c.g){uw(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||_t(c,"ready");try{f.onreadystatechange=m}catch{}}}function uw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),NM(d)}};function lw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tR(c){let d={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(G(c[m]))continue;var f=C(c[m]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[D]||[];d[D]=A,A.push(f)}E(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function dw(c){this.Aa=0,this.i=[],this.j=new Zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,c),this.cb=sa("retryDelaySeedMs",1e4,c),this.Wa=sa("forwardChannelMaxRetries",2,c),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new GI(c&&c.concurrentRequestLimit),this.Da=new JM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=dw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){It(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Iw(this,null,this.W),vu(this)};function Of(c){if(hw(c),c.G==3){var d=c.U++,f=Hn(c.I);if(Ne(f,"SID",c.K),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),aa(c,f),d=new Tr(c,c.j,d),d.L=2,d.v=pu(Hn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=ww(d.j,null),d.g.ea(d.v)),d.F=Date.now(),du(d)}_w(c)}function yu(c){c.g&&(Ff(c),c.g.cancel(),c.g=null)}function hw(c){yu(c),c.u&&(a.clearTimeout(c.u),c.u=null),_u(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function vu(c){if(!WI(c.h)&&!c.s){c.s=!0;var d=c.Ga;zs||CI(),qs||(zs(),qs=!0),ff.add(d,c),c.B=0}}function nR(c,d){return KI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Js(v(c.Ga,c,d),vw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Tr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),b(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=pw(this,D,d),f=Hn(this.I),Ne(f,"RID",c),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),aa(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(ow(A)))+"&"+d:this.m&&Pf(f,this.m,A)),Nf(this.h,D),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",d),Ne(f,"SID","null"),D.T=!0,Af(D,f,null)):Af(D,f,d),this.G=2}}else this.G==3&&(c?fw(this,c):this.i.length==0||WI(this.h)||fw(this))};function fw(c,d){var f;d?f=d.l:f=c.U++;let m=Hn(c.I);Ne(m,"SID",c.K),Ne(m,"RID",f),Ne(m,"AID",c.T),aa(c,m),c.m&&c.o&&Pf(m,c.m,c.o),f=new Tr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=pw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Nf(c.h,f),Af(f,m,d)}function aa(c,d){c.H&&Y(c.H,function(f,m){Ne(d,m,f)}),c.l&&JI({},function(f,m){Ne(d,m,f)})}function pw(c,d,f){f=Math.min(c.i.length,f);var m=c.l?v(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=D[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let Se=!0;for(let rt=0;rt<f;rt++){let we=D[rt].g,lt=D[rt].map;if(we-=A,0>we)A=Math.max(0,D[rt].g-100),Se=!1;else try{ZM(lt,F,"req"+we+"_")}catch{m&&m(lt)}}if(Se){m=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function mw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;zs||CI(),qs||(zs(),qs=!0),ff.add(d,c),c.v=0}}function kf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Js(v(c.Fa,c),vw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,gw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Js(v(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),yu(this),gw(this))};function Ff(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function gw(c){c.g=new Tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Hn(c.qa);Ne(d,"RID","rpc"),Ne(d,"SID",c.K),Ne(d,"AID",c.T),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(d,"TO",c.ja),Ne(d,"TYPE","xmlhttp"),aa(c,d),c.m&&c.o&&Pf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=pu(Hn(d)),f.m=null,f.P=!0,HI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,yu(this),kf(this),It(19))};function _u(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function yw(c,d){var f=null;if(c.g==d){_u(c),Ff(c),c.g=null;var m=2}else if(xf(c.h,d))f=d.D,QI(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;m=cu(),_t(m,new UI(m,f)),vu(c)}else mw(c);else if(D=d.s,D==3||D==0&&0<d.X||!(m==1&&nR(c,d)||m==2&&kf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function vw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function yi(c,d){if(c.j.info("Error code "+d),d==2){var f=v(c.fb,c),m=c.Xa;let D=!m;m=new gi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hu(m,"https"),pu(m),D?QM(m.toString(),f):YM(m.toString(),f)}else It(2);c.G=0,c.l&&c.l.sa(d),_w(c),hw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function _w(c){if(c.G=0,c.ka=[],c.l){let d=YI(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function Iw(c,d,f){var m=f instanceof gi?Hn(f):new gi(f);if(m.g!="")d&&(m.g=d+"."+m.g),fu(m,m.s);else{var D=a.location;m=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new gi(null);m&&hu(A,m),d&&(A.g=d),D&&fu(A,D),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Ne(m,f,d),Ne(m,"VER",c.la),aa(c,m),m}function ww(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Fe(new ra({eb:f})):new Fe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ew(){}n=Ew.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Iu(){}Iu.prototype.g=function(c,d){return new Ft(c,d)};function Ft(c,d){ut.call(this),this.g=new dw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new co(this)}S(Ft,ut),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Of(this.g)},Ft.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Ef(c),c=f);d.i.push(new UM(d.Ya++,c)),d.G==3&&vu(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,Ft.aa.N.call(this)};function bw(c){Cf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(bw,Cf);function Cw(){Df.call(this),this.status=1}S(Cw,Df);function co(c){this.g=c}S(co,Ew),co.prototype.ua=function(){_t(this.g,"a")},co.prototype.ta=function(c){_t(this.g,new bw(c))},co.prototype.sa=function(c){_t(this.g,new Cw)},co.prototype.ra=function(){_t(this.g,"b")},Iu.prototype.createWebChannel=Iu.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Av=wr.createWebChannelTransport=function(){return new Iu},Sv=wr.getStatEventTarget=function(){return cu()},Tv=wr.Event=pi,Dh=wr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uu.NO_ERROR=0,uu.TIMEOUT=8,uu.HTTP_ERROR=6,kc=wr.ErrorCode=uu,jI.COMPLETE="complete",Dv=wr.EventType=jI,kI.EventType=Qs,Qs.OPEN="a",Qs.CLOSE="b",Qs.ERROR="c",Qs.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ys=wr.WebChannel=kI,qB=wr.FetchXmlHttpFactory=ra,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Cv=wr.XhrIo=Fe}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});var HS="@firebase/firestore";var nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");var Vs="10.14.0";var to=new Xr("@firebase/firestore");function Fc(){return to.logLevel}function q(n,...e){if(to.logLevel<=pe.DEBUG){let t=e.map(aI);to.debug(`Firestore (${Vs}): ${n}`,...t)}}function br(n,...e){if(to.logLevel<=pe.ERROR){let t=e.map(aI);to.error(`Firestore (${Vs}): ${n}`,...t)}}function Ts(n,...e){if(to.logLevel<=pe.WARN){let t=e.map(aI);to.warn(`Firestore (${Vs}): ${n}`,...t)}}function aI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function oe(n="Unexpected state"){let e=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: `+n;throw br(e),new Error(e)}function je(n,e){n||oe()}function ye(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends qt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var li=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Rh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ov=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nt.UNAUTHENTICATED))}shutdown(){}},kv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Fv=class{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new li;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new li,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new li)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Rh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new nt(e)}},Lv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Vv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Lv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Uv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){je(this.o===void 0);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je(typeof t.token=="string"),this.R=t.token,new Uv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function GB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Bv=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=GB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function be(n,e){return n<e?-1:n>e?1:0}function Ss(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var tn=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new tn(0,0))}static max(){return new n(new tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var xh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&oe(),r===void 0?r=e.length-t:r>e.length-t&&oe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Qe=class n extends xh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},WB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mn=class n extends xh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return WB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ee=class n{constructor(e){this.path=e}static fromPath(e){return new n(Qe.fromString(e))}static fromName(e){return new n(Qe.fromString(e).popFirst(5))}static empty(){return new n(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Qe(e.slice()))}};var $v=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};$v.UNKNOWN_ID=-1;function KB(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new tn(t+1,0):new tn(t,r));return new no(i,ee.empty(),e)}function QB(n){return new no(n.readTime,n.key,-1)}var no=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ae.min(),ee.empty(),-1)}static max(){return new n(ae.max(),ee.empty(),-1)}};function YB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ee.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}var JB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function cI(n){return w(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==JB)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function ZB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tu(n){return n.name==="IndexedDbTransactionError"}var bA=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function nf(n){return n==null}function Nh(n){return n===0&&1/n==-1/0}var XB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OK=[...XB,"documentOverlays"],e$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],t$=e$,n$=[...t$,"indexConfiguration","indexState","indexEntries"];var kK=[...n$,"globals"];function zS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rf(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function r$(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var $e=class n{constructor(e,t){this.comparator=e,this.root=t||Vn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ws(this.root,e,this.comparator,!0)}},ws=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Vn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class n{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ph(this.data.getIterator())}getIteratorFrom(e){return new Ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ph=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ji=class n{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new n([])}unionWith(e){let t=new yt(mn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Oh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Oh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var i$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(n){if(je(!!n),typeof n=="string"){let e=0,t=i$.exec(n);if(je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function di(n){return typeof n=="string"?vt.fromBase64String(n):vt.fromUint8Array(n)}function uI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function lI(n){let e=n.mapValue.fields.__previous_value__;return uI(e)?lI(e):e}function Hc(n){let e=Cr(n.mapValue.fields.__local_write_time__.timestampValue);return new tn(e.seconds,e.nanos)}var zv=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},kh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Th={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uI(n)?4:DA(n)?9007199254740991:CA(n)?10:11:oe()}function jn(n,e){if(n===e)return!0;let t=ro(n);if(t!==ro(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hc(n).isEqual(Hc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Cr(i.timestampValue),a=Cr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return di(i.bytesValue).isEqual(di(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?Nh(s)===Nh(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ss(n.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(zS(s)!==zS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!jn(s[u],a[u])))return!1;return!0}(n,e);default:return oe()}}function zc(n,e){return(n.values||[]).find(t=>jn(t,e))!==void 0}function As(n,e){if(n===e)return 0;let t=ro(n),r=ro(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return qS(n.timestampValue,e.timestampValue);case 4:return qS(Hc(n),Hc(e));case 5:return be(n.stringValue,e.stringValue);case 6:return function(o,s){let a=di(o),u=di(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=be(a[l],u[l]);if(h!==0)return h}return be(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=be(Oe(o.latitude),Oe(s.latitude));return a!==0?a:be(Oe(o.longitude),Oe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return GS(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},v=s.fields||{},g=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=v.value)===null||u===void 0?void 0:u.arrayValue,x=be(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:GS(g,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Th.mapValue&&s===Th.mapValue)return 0;if(o===Th.mapValue)return 1;if(s===Th.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let v=be(u[p],h[p]);if(v!==0)return v;let g=As(a[u[p]],l[h[p]]);if(g!==0)return g}return be(u.length,h.length)}(n.mapValue,e.mapValue);default:throw oe()}}function qS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);let t=Cr(n),r=Cr(e),i=be(t.seconds,r.seconds);return i!==0?i:be(t.nanos,r.nanos)}function GS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=As(t[i],r[i]);if(o)return o}return be(t.length,r.length)}function Ms(n){return qv(n)}function qv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Cr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return di(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=qv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${qv(t.fields[s])}`;return i+"}"}(n.mapValue):oe()}function Gv(n){return!!n&&"integerValue"in n}function dI(n){return!!n&&"arrayValue"in n}function WS(n){return!!n&&"nullValue"in n}function KS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mv(n){return!!n&&"mapValue"in n}function CA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return rf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Er=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(t)}setAll(e){let t=mn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Vc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Mv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Mv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rf(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Vc(this.value))}};var gn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),Er.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ae.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),Er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Rs=class{constructor(e,t){this.position=e,this.inclusive=t}};function QS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),t.key):r=As(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jn(n.position[t],e.position[t]))return!1;return!0}var xs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function o$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Fh=class{},et=class n extends Fh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Kv(e,t,r):t==="array-contains"?new Jv(e,r):t==="in"?new Zv(e,r):t==="not-in"?new Xv(e,r):t==="array-contains-any"?new e_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Qv(e,r):new Yv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(As(t,this.value)):t!==null&&ro(this.value)===ro(t)&&this.matchesComparison(As(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Bn=class n extends Fh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return TA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function TA(n){return n.op==="and"}function SA(n){return s$(n)&&TA(n)}function s$(n){for(let e of n.filters)if(e instanceof Bn)return!1;return!0}function Wv(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+Ms(n.value);if(SA(n))return n.filters.map(e=>Wv(e)).join(",");{let e=n.filters.map(t=>Wv(t)).join(",");return`${n.op}(${e})`}}function AA(n,e){return n instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(n,e):n instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&AA(s,i.filters[a]),!0):!1}(n,e):void oe()}function MA(n){return n instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${Ms(t.value)}`}(n):n instanceof Bn?function(t){return t.op.toString()+" {"+t.getFilters().map(MA).join(" ,")+"}"}(n):"Filter"}var Kv=class extends et{constructor(e,t,r){super(e,t,r),this.key=ee.fromName(r.referenceValue)}matches(e){let t=ee.comparator(e.key,this.key);return this.matchesComparison(t)}},Qv=class extends et{constructor(e,t){super(e,"in",t),this.keys=RA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Yv=class extends et{constructor(e,t){super(e,"not-in",t),this.keys=RA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function RA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ee.fromName(r.referenceValue))}var Jv=class extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return dI(t)&&zc(t.arrayValue,this.value)}},Zv=class extends et{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&zc(this.value.arrayValue,t)}},Xv=class extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!zc(this.value.arrayValue,t)}},e_=class extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!dI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zc(this.value.arrayValue,r))}};var t_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function JS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new t_(n,e,t,r,i,o,s)}function hI(n){let e=ye(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Wv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ms(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ms(r)).join(",")),e.ue=t}return e.ue}function fI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!o$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YS(n.startAt,e.startAt)&&YS(n.endAt,e.endAt)}function n_(n){return ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ns=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function a$(n,e,t,r,i,o,s,a){return new Ns(n,e,t,r,i,o,s,a)}function pI(n){return new Ns(n)}function ZS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function c$(n){return n.collectionGroup!==null}function Uc(n){let e=ye(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(mn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new xs(o,r))}),t.has(mn.keyField().canonicalString())||e.ce.push(new xs(mn.keyField(),r))}return e.ce}function Un(n){let e=ye(n);return e.le||(e.le=u$(e,Uc(n))),e.le}function u$(n,e){if(n.limitType==="F")return JS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xs(i.field,o)});let t=n.endAt?new Rs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rs(n.startAt.position,n.startAt.inclusive):null;return JS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function r_(n,e,t){return new Ns(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function of(n,e){return fI(Un(n),Un(e))&&n.limitType===e.limitType}function xA(n){return`${hI(Un(n))}|lt:${n.limitType}`}function vs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>MA(i)).join(", ")}]`),nf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ms(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ms(i)).join(",")),`Target(${r})`}(Un(n))}; limitType=${n.limitType})`}function sf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Uc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=QS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Uc(r),i)||r.endAt&&!function(s,a,u){let l=QS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Uc(r),i))}(n,e)}function l$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NA(n){return(e,t)=>{let r=!1;for(let i of Uc(n)){let o=d$(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function d$(n,e,t){let r=n.field.isKeyField()?ee.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?As(u,l):oe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var hi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rf(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return r$(this.inner)}size(){return this.innerSize}};var h$=new $e(ee.comparator);function fi(){return h$}var PA=new $e(ee.comparator);function Lc(...n){let e=PA;for(let t of n)e=e.insert(t.key,t);return e}function f$(n){let e=PA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zi(){return jc()}function OA(){return jc()}function jc(){return new hi(n=>n.toString(),(n,e)=>n.isEqual(e))}var LK=new $e(ee.comparator),p$=new yt(ee.comparator);function Ie(...n){let e=p$;for(let t of n)e=e.add(t);return e}var m$=new yt(be);function g$(){return m$}function y$(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function v$(n){return{integerValue:""+n}}var Ps=class{constructor(){this._=void 0}};function _$(n,e,t){return n instanceof qc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uI(o)&&(o=lI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Os?kA(n,e):n instanceof ks?FA(n,e):function(i,o){let s=w$(i,o),a=XS(s)+XS(i.Pe);return Gv(s)&&Gv(i.Pe)?v$(a):y$(i.serializer,a)}(n,e)}function I$(n,e,t){return n instanceof Os?kA(n,e):n instanceof ks?FA(n,e):t}function w$(n,e){return n instanceof Gc?function(r){return Gv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var qc=class extends Ps{},Os=class extends Ps{constructor(e){super(),this.elements=e}};function kA(n,e){let t=LA(e);for(let r of n.elements)t.some(i=>jn(i,r))||t.push(r);return{arrayValue:{values:t}}}var ks=class extends Ps{constructor(e){super(),this.elements=e}};function FA(n,e){let t=LA(e);for(let r of n.elements)t=t.filter(i=>!jn(i,r));return{arrayValue:{values:t}}}var Gc=class extends Ps{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function XS(n){return Oe(n.integerValue||n.doubleValue)}function LA(n){return dI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function E$(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Os&&i instanceof Os||r instanceof ks&&i instanceof ks?Ss(r.elements,i.elements,jn):r instanceof Gc&&i instanceof Gc?jn(r.Pe,i.Pe):r instanceof qc&&i instanceof qc}(n.transform,e.transform)}var Bc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ah(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Wc=class{};function VA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new i_(n.key,Bc.none()):new Kc(n.key,n.data,Bc.none());{let t=n.data,r=Er.empty(),i=new yt(mn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fs(n.key,r,new Ji(i.toArray()),Bc.none())}}function b$(n,e,t){n instanceof Kc?function(i,o,s){let a=i.value.clone(),u=tA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Fs?function(i,o,s){if(!Ah(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=tA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(UA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function $c(n,e,t,r){return n instanceof Kc?function(o,s,a,u){if(!Ah(o.precondition,s))return a;let l=o.value.clone(),h=nA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fs?function(o,s,a,u){if(!Ah(o.precondition,s))return a;let l=nA(o.fieldTransforms,u,s),h=s.data;return h.setAll(UA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Ah(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function eA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ss(r,i,(o,s)=>E$(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Kc=class extends Wc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Fs=class extends Wc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function UA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function tA(n,e,t){let r=new Map;je(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,I$(s,a,t[i]))}return r}function nA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,_$(o,s,e))}return r}var i_=class extends Wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var o_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&b$(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=$c(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=$c(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=OA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=VA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(t,r)=>eA(t,r))&&Ss(this.baseMutations,e.baseMutations,(t,r)=>eA(t,r))}};var s_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var a_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var We,ge;function jA(n){if(n===void 0)return br("GRPC error has no .code"),U.UNKNOWN;switch(n){case We.OK:return U.OK;case We.CANCELLED:return U.CANCELLED;case We.UNKNOWN:return U.UNKNOWN;case We.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case We.INTERNAL:return U.INTERNAL;case We.UNAVAILABLE:return U.UNAVAILABLE;case We.UNAUTHENTICATED:return U.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case We.NOT_FOUND:return U.NOT_FOUND;case We.ALREADY_EXISTS:return U.ALREADY_EXISTS;case We.PERMISSION_DENIED:return U.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case We.ABORTED:return U.ABORTED;case We.OUT_OF_RANGE:return U.OUT_OF_RANGE;case We.UNIMPLEMENTED:return U.UNIMPLEMENTED;case We.DATA_LOSS:return U.DATA_LOSS;default:return oe()}}(ge=We||(We={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var rA=null;function C$(){return new TextEncoder}var D$=new ui([4294967295,4294967295],0);function iA(n){let e=C$().encode(n),t=new bv;return t.update(e),new Uint8Array(t.digest())}function oA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ui([t,r],0),new ui([i,o],0)]}var c_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Xi(`Invalid padding: ${t}`);if(r<0)throw new Xi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Xi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ui.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ui.fromNumber(r)));return i.compare(D$)===1&&(i=new ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=iA(e),[r,i]=oA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=iA(e),[r,i]=oA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Xi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Lh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ae.min(),i,new $e(be),fi(),Ie())}},Qc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ie(),Ie(),Ie())}};var Es=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Vh=class{constructor(e,t){this.targetId=e,this.me=t}},Uh=class{constructor(e,t,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},jh=class{constructor(){this.fe=0,this.ge=aA(),this.pe=vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),t=Ie(),r=Ie();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Qc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=aA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},u_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=sA(),this.Qe=new $e(be)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(n_(o))if(r===0){let s=new ee(o.path);this.Ue(t,s,gn.newNoDocument(s,ae.min()))}else je(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}rA?.et(function(h,p,v,g,S){var x,M,V,G,B,Z;let ve={localCacheCount:h,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},Y=p.unchangedNames;return Y&&(ve.bloomFilter={applied:S===0,hashCount:(x=Y?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(G=(V=(M=Y?.bits)===null||M===void 0?void 0:M.bitmap)===null||V===void 0?void 0:V.length)!==null&&G!==void 0?G:0,padding:(Z=(B=Y?.bits)===null||B===void 0?void 0:B.padding)!==null&&Z!==void 0?Z:0,mightContain:E=>{var y;return(y=g?.mightContain(E))!==null&&y!==void 0&&y}}),ve}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=di(r).toUint8Array()}catch(u){if(u instanceof Oh)return Ts("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new c_(s,i,o)}catch(u){return Ts(u instanceof Xi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&n_(a.target)){let u=new ee(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,gn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Ie();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Lh(e,t,this.Qe,this.ke,r);return this.ke=fi(),this.qe=sA(),this.Qe=new $e(be),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new jh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new yt(be),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function sA(){return new $e(ee.comparator)}function aA(){return new $e(ee.comparator)}var T$={asc:"ASCENDING",desc:"DESCENDING"},S$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A$={and:"AND",or:"OR"},l_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function d_(n,e){return n.useProto3Json||nf(e)?e:{value:e}}function M$(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bs(n){return je(!!n),ae.fromTimestamp(function(t){let r=Cr(t);return new tn(r.seconds,r.nanos)}(n))}function x$(n,e){return h_(n,e).canonicalString()}function h_(n,e){let t=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function BA(n){let e=Qe.fromString(n);return je(GA(e)),e}function Rv(n,e){let t=BA(e);if(t.get(1)!==n.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ee(HA(t))}function $A(n,e){return x$(n.databaseId,e)}function N$(n){let e=BA(n);return e.length===4?Qe.emptyPath():HA(e)}function cA(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HA(n){return je(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function P$(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(je(h===void 0||typeof h=="string"),vt.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array),vt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?U.UNKNOWN:jA(l.code);return new Q(h,l.message||"")}(s);t=new Uh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Rv(n,r.document.name),o=bs(r.document.updateTime),s=r.document.createTime?bs(r.document.createTime):ae.min(),a=new Er({mapValue:{fields:r.document.fields}}),u=gn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Es(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Rv(n,r.document),o=r.readTime?bs(r.readTime):ae.min(),s=gn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Es([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Rv(n,r.document),o=r.removedTargetIds||[];t=new Es([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new a_(i,o),a=r.targetId;t=new Vh(a,s)}}return t}function O$(n,e){return{documents:[$A(n,e.path)]}}function k$(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$A(n,i);let o=function(l){if(l.length!==0)return qA(Bn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(v){return{field:_s(v.field),direction:V$(v.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=d_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function F$(n){let e=N$(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){je(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let v=zA(p);return v instanceof Bn&&SA(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(v=>function(S){return new xs(Is(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,nf(v)?null:v}(t.limit));let u=null;t.startAt&&(u=function(p){let v=!!p.before,g=p.values||[];return new Rs(g,v)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let v=!p.before,g=p.values||[];return new Rs(g,v)}(t.endAt)),a$(e,i,s,o,a,"F",u,l)}function L$(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Is(t.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Is(t.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Is(t.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Is(t.unaryFilter.field);return et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(n):n.fieldFilter!==void 0?function(t){return et.create(Is(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Bn.create(t.compositeFilter.filters.map(r=>zA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(t.compositeFilter.op))}(n):oe()}function V$(n){return T$[n]}function U$(n){return S$[n]}function j$(n){return A$[n]}function _s(n){return{fieldPath:n.canonicalString()}}function Is(n){return mn.fromServerFormat(n.fieldPath)}function qA(n){return n instanceof et?function(t){if(t.op==="=="){if(KS(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NAN"}};if(WS(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(KS(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NAN"}};if(WS(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(t.field),op:U$(t.op),value:t.value}}}(n):n instanceof Bn?function(t){let r=t.getFilters().map(i=>qA(i));return r.length===1?r[0]:{compositeFilter:{op:j$(t.op),filters:r}}}(n):oe()}function GA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Yc=class n{constructor(e,t,r,i,o=ae.min(),s=ae.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var f_=class{constructor(e){this.ct=e}};function B$(n){let e=F$({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?r_(e,e.limit,"L"):e}var Bh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Nh(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Cr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(di(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?DA(e)?this.dt(t,Number.MAX_SAFE_INTEGER):CA(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):oe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Oe(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ee.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Bh.vt=new Bh;var p_=class{constructor(){this.un=new m_}addToCollectionParentIndex(e,t){return this.un.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(no.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(no.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},m_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yt(Qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Qe.comparator)).toArray()}};var VK=new Uint8Array(0);var Ln=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(41943040,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);var Jc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var g_=class{constructor(){this.changes=new hi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var y_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var v_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&$c(r.mutation,i,Ji.empty(),tn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ie()){let i=Zi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Lc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Zi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ie()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=fi(),s=jc(),a=function(){return jc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Fs)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),$c(h.mutation,l,h.mutation.getFieldMask(),tn.now())):s.set(l.key,Ji.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new y_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=jc(),i=new $e((s,a)=>s-a),o=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Ji.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ie()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=OA();h.forEach(v=>{if(!o.has(v)){let g=VA(t.get(v),r.get(v));g!==null&&p.set(v,g),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):c$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(Zi()),a=-1,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{u=u.insert(h,v)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ie())).next(h=>({batchId:a,changes:f$(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ee(t)).next(r=>{let i=Lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Lc();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=function(p,v){return new Ns(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,gn.newInvalidDocument(h)))});let a=Lc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&$c(h.mutation,l,Ji.empty(),tn.now()),sf(t,l)&&(a=a.insert(u,l))}),a})}};var __=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return k.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:bs(i.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:B$(i.bundledQuery),readTime:bs(i.readTime)}}(t)),k.resolve()}};var I_=class{constructor(){this.overlays=new $e(ee.comparator),this.Ir=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Zi();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=Zi(),o=t.length+1,s=new ee(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new $e((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Zi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Zi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new s_(t,r));let o=this.Ir.get(t);o===void 0&&(o=Ie(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var w_=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var Zc=class{constructor(){this.Tr=new yt(Ke.Er),this.dr=new yt(Ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Ke(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ke(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ee(new Qe([])),r=new Ke(t,e),i=new Ke(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ee(new Qe([])),r=new Ke(t,e),i=new Ke(t,e+1),o=Ie();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ke(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ee.comparator(e.key,t.key)||be(e.wr,t.wr)}static Ar(e,t){return be(e.wr,t.wr)||ee.comparator(e.key,t.key)}};var E_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new yt(Ke.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new o_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ke(t,0),i=new Ke(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yt(be);return t.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),k.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new ee(o),0),a=new yt(be);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),k.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){je(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return k.forEach(t.mutations,i=>{let o=new Ke(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Ke(t,0),i=this.br.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var b_=class{constructor(e){this.Mr=e,this.docs=function(){return new $e(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let r=fi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=fi(),s=t.path,a=new ee(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||YB(QB(h),r)<=0||(i.has(h.key)||sf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){oe()}Or(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new C_(this)}getSize(e){return k.resolve(this.size)}},C_=class extends g_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var D_=class{constructor(e){this.persistence=e,this.Nr=new hi(t=>hI(t),fI),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zc,this.targetCount=0,this.kr=Jc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),k.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Jc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Kn(t),k.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.Br.containsKey(t))}};var T_=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new bA(0),this.Kr=!1,this.Kr=!0,this.$r=new w_,this.referenceDelegate=e(this),this.Ur=new D_(this),this.indexManager=new p_,this.remoteDocumentCache=function(i){return new b_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new f_(t),this.Gr=new __(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new E_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){q("MemoryPersistence","Starting transaction:",e);let i=new S_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return k.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},S_=class extends Hv{constructor(e){super(),this.currentSequenceNumber=e}},A_=class n{constructor(e){this.persistence=e,this.Jr=new Zc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,r=>{let i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return k.or([()=>k.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var M_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Ie(),i=Ie();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var R_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var x_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return LD()?8:ZB(tt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new R_;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Fc()<=pe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(Fc()<=pe.DEBUG&&q("QueryEngine","Query:",vs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Fc()<=pe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):k.resolve())}Yi(e,t){if(ZS(t))return k.resolve(null);let r=Un(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=r_(t,null,"F"),r=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ie(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,r_(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return ZS(t)||i.isEqual(ae.min())?k.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?k.resolve(null):(Fc()<=pe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vs(t)),this.rs(e,s,t,KB(i,-1)).next(a=>a))})}ts(e,t){let r=new yt(NA(e));return t.forEach((i,o)=>{sf(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Fc()<=pe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",vs(t)),this.Ji.getDocumentsMatchingQuery(e,t,no.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var N_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new $e(be),this._s=new hi(o=>hI(o),fI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function $$(n,e,t,r){return new N_(n,e,t,r)}function WA(n,e){return w(this,null,function*(){let t=ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ie();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function KA(n){let e=ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function H$(n,e){let t=ye(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let v=i.get(p);if(!v)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let g=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(vt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(p,g),function(x,M,V){return x.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(v,g,h)&&a.push(t.Ur.updateTargetData(o,g))});let u=fi(),l=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(z$(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ae.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function z$(n,e,t){let r=Ie(),i=Ie();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=fi();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function q$(n,e){let t=ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Yc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function P_(n,e,t){return w(this,null,function*(){let r=ye(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!tu(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function uA(n,e,t){let r=ye(n),i=ae.min(),o=Ie();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ye(u),v=p._s.get(h);return v!==void 0?k.resolve(p.os.get(v)):p.Ur.getTargetData(l,h)}(r,s,Un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ae.min(),t?o:Ie())).next(a=>(G$(r,l$(e),a),{documents:a,Ts:o})))}function G$(n,e,t){let r=n.us.get(e)||ae.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var $h=class{constructor(){this.activeTargetIds=g$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var O_=class{constructor(){this.so=new $h,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $h,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var k_=class{_o(e){}shutdown(){}};var Hh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sh=null;function xv(){return Sh===null?Sh=function(){return 268435456+Math.round(2147483648*Math.random())}():Sh++,"0x"+Sh.toString(16)}var W$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var F_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var gt="WebChannelConnection",L_=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=xv(),u=this.xo(t,r.toUriEncodedString());q("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(q("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Ts("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=W$[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=xv();return new Promise((s,a)=>{let u=new Cv;u.setWithCredentials(!0),u.listenOnce(Dv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kc.NO_ERROR:let h=u.getResponseJson();q(gt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case kc.TIMEOUT:q(gt,`RPC '${e}' ${o} timed out`),a(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:let p=u.getStatus();if(q(gt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let g=v?.error;if(g&&g.status&&g.message){let S=function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(V)>=0?V:U.UNKNOWN}(g.status);a(new Q(S,g.message))}else a(new Q(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Q(U.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{q(gt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);q(gt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=xv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Av(),a=Sv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");q(gt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),v=!1,g=!1,S=new F_({Io:M=>{g?q(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(v||(q(gt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),q(gt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),x=(M,V,G)=>{M.listen(V,B=>{try{G(B)}catch(Z){setTimeout(()=>{throw Z},0)}})};return x(p,ys.EventType.OPEN,()=>{g||(q(gt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),x(p,ys.EventType.CLOSE,()=>{g||(g=!0,q(gt,`RPC '${e}' stream ${i} transport closed`),S.So())}),x(p,ys.EventType.ERROR,M=>{g||(g=!0,Ts(gt,`RPC '${e}' stream ${i} transport errored:`,M),S.So(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),x(p,ys.EventType.MESSAGE,M=>{var V;if(!g){let G=M.data[0];je(!!G);let B=G,Z=B.error||((V=B[0])===null||V===void 0?void 0:V.error);if(Z){q(gt,`RPC '${e}' stream ${i} received error:`,Z);let ve=Z.status,Y=function(_){let b=We[_];if(b!==void 0)return jA(b)}(ve),E=Z.message;Y===void 0&&(Y=U.INTERNAL,E="Unknown error status: "+ve+" with message "+Z.message),g=!0,S.So(new Q(Y,E)),p.close()}else q(gt,`RPC '${e}' stream ${i} received:`,G),S.bo(G)}}),x(a,Tv.STAT_EVENT,M=>{M.stat===Dh.PROXY?q(gt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Dh.NOPROXY&&q(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Nv(){return typeof document<"u"?document:null}function QA(n){return new l_(n,!0)}var zh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var V_=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},U_=class extends V_{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=P$(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?bs(s.readTime):ae.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=cA(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=n_(u)?{documents:O$(o,u)}:{query:k$(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=R$(o,s.resumeToken);let l=d_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=M$(o,s.snapshotVersion.toTimestamp());let l=d_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=L$(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=cA(this.serializer),t.removeTarget=e,this.a_(t)}};var j_=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,h_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,h_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(U.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},B_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(br(t),this.D_=!1):q("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var $_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){ru(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=ye(u);l.L_.add(4),yield nu(l),l.q_.set("Unknown"),l.L_.delete(4),yield af(l)})}(this))}))}),this.q_=new B_(r,i)}};function af(n){return w(this,null,function*(){if(ru(n))for(let e of n.B_)yield e(!0)})}function nu(n){return w(this,null,function*(){for(let e of n.B_)yield e(!1)})}function YA(n,e){let t=ye(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),vI(t)?yI(t):Us(t).r_()&&gI(t,e))}function mI(n,e){let t=ye(n),r=Us(t);t.N_.delete(e),r.r_()&&JA(t,e),t.N_.size===0&&(r.r_()?r.o_():ru(t)&&t.q_.set("Unknown"))}function gI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Us(n).A_(e)}function JA(n,e){n.Q_.xe(e),Us(n).R_(e)}function yI(n){n.Q_=new u_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Us(n).start(),n.q_.v_()}function vI(n){return ru(n)&&!Us(n).n_()&&n.N_.size>0}function ru(n){return ye(n).L_.size===0}function ZA(n){n.Q_=void 0}function K$(n){return w(this,null,function*(){n.q_.set("Online")})}function Q$(n){return w(this,null,function*(){n.N_.forEach((e,t)=>{gI(n,e)})})}function Y$(n,e){return w(this,null,function*(){ZA(n),vI(n)?(n.q_.M_(e),yI(n)):n.q_.set("Unknown")})}function J$(n,e,t){return w(this,null,function*(){if(n.q_.set("Online"),e instanceof Uh&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lA(n,r)}else if(e instanceof Es?n.Q_.Ke(e):e instanceof Vh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ae.min()))try{let r=yield KA(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),JA(o,u);let p=new Yc(h.target,u,l,h.sequenceNumber);gI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield lA(n,r)}})}function lA(n,e,t){return w(this,null,function*(){if(!tu(e))throw e;n.L_.add(1),yield nu(n),n.q_.set("Offline"),t||(t=()=>KA(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield af(n)}))})}function dA(n,e){return w(this,null,function*(){let t=ye(n);t.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=ru(t);t.L_.add(3),yield nu(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield af(t)})}function Z$(n,e){return w(this,null,function*(){let t=ye(n);e?(t.L_.delete(2),yield af(t)):e||(t.L_.add(2),yield nu(t),t.q_.set("Unknown"))})}function Us(n){return n.K_||(n.K_=function(t,r,i){let o=ye(t);return o.w_(),new U_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:K$.bind(null,n),Ro:Q$.bind(null,n),mo:Y$.bind(null,n),d_:J$.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.K_.s_(),vI(n)?yI(n):n.q_.set("Unknown")):(yield n.K_.stop(),ZA(n))}))),n.K_}var H_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function XA(n,e){if(br("AsyncQueue",`${e}: ${n}`),tu(n))return new Q(U.UNAVAILABLE,`${e}: ${n}`);throw n}var qh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ee.comparator(t.key,r.key):(t,r)=>ee.comparator(t.key,r.key),this.keyedMap=Lc(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Gh=class{constructor(){this.W_=new $e(ee.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ls=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,qh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var z_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},q_=class{constructor(){this.queries=hA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ye(t),o=i.queries;i.queries=hA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}};function hA(){return new hi(n=>xA(n),of)}function X$(n,e){return w(this,null,function*(){let t=ye(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new z_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=XA(s,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&_I(t)})}function e4(n,e){return w(this,null,function*(){let t=ye(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function t4(n,e){let t=ye(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&_I(t)}function n4(n,e,t){let r=ye(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function _I(n){n.Y_.forEach(e=>{e.next()})}var G_,fA;(fA=G_||(G_={})).ea="default",fA.Cache="cache";var W_=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ls(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ls.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==G_.Cache}};var Wh=class{constructor(e){this.key=e}},Kh=class{constructor(e){this.key=e}},K_=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=NA(e),this.Ra=new qh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Gh,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let v=i.get(h),g=sf(this.query,p)?p:null,S=!!v&&this.mutatedKeys.has(v.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),M=!1;v&&g?v.data.isEqual(g.data)?S!==x&&(r.track({type:3,doc:g}),M=!0):this.ga(v,g)||(r.track({type:2,doc:g}),M=!0,(u&&this.Aa(g,u)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!v&&g?(r.track({type:0,doc:g}),M=!0):v&&!g&&(r.track({type:1,doc:v}),M=!0,(u||l)&&(a=!0)),M&&(g?(s=s.add(g),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(g,S){let x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return x(g)-x(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ls(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Gh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Kh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Wh(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ie();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ls.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Q_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Y_=class{constructor(e){this.key=e,this.va=!1}},J_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new hi(a=>xA(a),of),this.Ma=new Map,this.xa=new Set,this.Oa=new $e(ee.comparator),this.Na=new Map,this.La=new Zc,this.Ba={},this.ka=new Map,this.qa=Jc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function r4(n,e,t=!0){return w(this,null,function*(){let r=iM(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield eM(r,e,t,!0),i})}function i4(n,e){return w(this,null,function*(){let t=iM(n);yield eM(t,e,!0,!1)})}function eM(n,e,t,r){return w(this,null,function*(){let i=yield q$(n.localStore,Un(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield o4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&YA(n.remoteStore,i),a})}function o4(n,e,t,r,i){return w(this,null,function*(){n.Ka=(p,v,g)=>function(x,M,V,G){return w(this,null,function*(){let B=M.view.ma(V);B.ns&&(B=yield uA(x.localStore,M.query,!1).then(({documents:E})=>M.view.ma(E,B)));let Z=G&&G.targetChanges.get(M.targetId),ve=G&&G.targetMismatches.get(M.targetId)!=null,Y=M.view.applyChanges(B,x.isPrimaryClient,Z,ve);return mA(x,M.targetId,Y.wa),Y.snapshot})}(n,p,v,g);let o=yield uA(n.localStore,e,!0),s=new K_(e,o.Ts),a=s.ma(o.documents),u=Qc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);mA(n,t,l.wa);let h=new Q_(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function s4(n,e,t){return w(this,null,function*(){let r=ye(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!of(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield P_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&mI(r.remoteStore,i.targetId),Z_(r,i.targetId)}).catch(cI))):(Z_(r,i.targetId),yield P_(r.localStore,i.targetId,!0))})}function a4(n,e){return w(this,null,function*(){let t=ye(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),mI(t.remoteStore,r.targetId))})}function tM(n,e){return w(this,null,function*(){let t=ye(n);try{let r=yield H$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?je(s.va):i.removedDocuments.size>0&&(je(s.va),s.va=!1))}),yield rM(t,r,e)}catch(r){yield cI(r)}})}function pA(n,e,t){let r=ye(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ye(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let v of p.j_)v.Z_(a)&&(l=!0)}),l&&_I(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function c4(n,e,t){return w(this,null,function*(){let r=ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new $e(ee.comparator);s=s.insert(o,gn.newNoDocument(o,ae.min()));let a=Ie().add(o),u=new Lh(ae.min(),new Map,new $e(be),s,a);yield tM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),II(r)}else yield P_(r.localStore,e,!1).then(()=>Z_(r,e,t)).catch(cI)})}function Z_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||nM(n,r)})}function nM(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(mI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),II(n))}function mA(n,e,t){for(let r of t)r instanceof Wh?(n.La.addReference(r.key,e),u4(n,r)):r instanceof Kh?(q("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||nM(n,r.key)):oe()}function u4(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(q("SyncEngine","New document in limbo: "+t),n.xa.add(r),II(n))}function II(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ee(Qe.fromString(e)),r=n.qa.next();n.Na.set(r,new Y_(t)),n.Oa=n.Oa.insert(t,r),YA(n.remoteStore,new Yc(Un(pI(t.path)),r,"TargetPurposeLimboResolution",bA.oe))}}function rM(n,e,t){return w(this,null,function*(){let r=ye(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=M_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=ye(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,v=>k.forEach(v.$i,g=>h.persistence.referenceDelegate.addReference(p,v.targetId,g)).next(()=>k.forEach(v.Ui,g=>h.persistence.referenceDelegate.removeReference(p,v.targetId,g)))))}catch(p){if(!tu(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let v=p.targetId;if(!p.fromCache){let g=h.os.get(v),S=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(v,x)}}})}(r.localStore,o))})}function l4(n,e){return w(this,null,function*(){let t=ye(n);if(!t.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield WA(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Q(U.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield rM(t,r.hs)}})}function d4(n,e){let t=ye(n),r=t.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function iM(n){let e=ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c4.bind(null,e),e.Ca.d_=t4.bind(null,e.eventManager),e.Ca.$a=n4.bind(null,e.eventManager),e}var gA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=QA(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return $$(this.persistence,new x_,t.initialUser,this.serializer)}Ga(t){return new T_(A_.Zr,this.serializer)}Wa(t){return new O_}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var h4=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=l4.bind(null,this.syncEngine),yield Z$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new q_}()}createDatastore(t){let r=QA(t.databaseInfo.databaseId),i=function(s){return new L_(s)}(t.databaseInfo);return function(s,a,u,l){return new j_(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new $_(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>pA(this.syncEngine,r,0),function(){return Hh.D()?new Hh:new k_}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let v=new J_(o,s,a,u,l,h);return p&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(o){return w(this,null,function*(){let s=ye(o);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield nu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var X_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var eI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=Bv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=XA(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Pv(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield WA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function yA(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield f4(n);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>dA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>dA(e.remoteStore,i)),n._onlineComponents=e})}function f4(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Pv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ts("Error using user provided cache. Falling back to memory cache: "+t),yield Pv(n,new gA)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield Pv(n,new gA);return n._offlineComponents})}function p4(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield yA(n,n._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield yA(n,new h4))),n._onlineComponents})}function vA(n){return w(this,null,function*(){let e=yield p4(n),t=e.eventManager;return t.onListen=r4.bind(null,e.syncEngine),t.onUnlisten=s4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=i4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=a4.bind(null,e.syncEngine),t})}function oM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var _A=new Map;function m4(n,e,t){if(!t)throw new Q(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function g4(n,e,t,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IA(n){if(ee.isDocumentKey(n))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function y4(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":oe()}function Mh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=y4(n);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Qh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ov;switch(r.type){case"firstParty":return new Vv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=_A.get(t);r&&(q("ComponentProvider","Removing Datastore"),_A.delete(t),r.terminate())}(this),Promise.resolve()}};function sM(n,e,t,r={}){var i;let o=(n=Mh(n,Xc))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=nt.MOCK_USER;else{a=xD(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new nt(l)}n._authCredentials=new kv(new Rh(a,u))}}var Yh=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},io=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Cs=class n extends Yh{constructor(e,t,r){super(e,t,pI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new io(this.firestore,null,new ee(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function aM(n,e,...t){if(n=fn(n),m4("collection","path",e),n instanceof Xc){let r=Qe.fromString(e,...t);return IA(r),new Cs(n,null,r)}{if(!(n instanceof io||n instanceof Cs))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return IA(r),new Cs(n.firestore,null,r)}}var Jh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zh(this,"async_queue_retry"),this.Vu=()=>{let r=Nv();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Nv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Nv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new li;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!tu(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=H_.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function wA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var eu=class extends Xc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Jh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Jh(e),this._firestoreClient=void 0,yield e}})}};function cM(n,e){let t=typeof n=="object"?n:os(),r=typeof n=="string"?n:e||"(default)",i=fc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=RD("firestore");o&&sM(i,...o)}return i}function v4(n){if(n._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_4(n),n._firestoreClient}function _4(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new zv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,oM(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new eI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var tI=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(vt.fromBase64String(e))}catch(t){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Zh=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var nI=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}};var rI=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var I4=new RegExp("[~\\*/\\[\\]]");function w4(n,e,t){if(e.search(I4)>=0)throw EA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zh(...e.split("."))._internalPath}catch{throw EA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function EA(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Q(U.INVALID_ARGUMENT,a+n+u)}var Xh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new io(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new iI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(uM("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},iI=class extends Xh{data(){return super.data()}};function uM(n,e){return typeof e=="string"?w4(n,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}function E4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oI=class{convertValue(e,t="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return rf(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new rI(o)}convertGeoPoint(e){return new nI(Oe(e.latitude),Oe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=lI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){let t=Cr(e);return new tn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Qe.fromString(e);je(GA(r));let i=new kh(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(t)||br(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var eo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ef=class extends Xh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(uM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ds=class extends ef{data(e={}){return super.data(e)}},sI=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ds(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ds(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ds(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:b4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function b4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}var tf=class extends oI{constructor(e){super(),this.firestore=e}convertBytes(e){return new tI(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new io(this.firestore,null,t)}};function wI(n,...e){var t,r,i;n=fn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(wA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof io)l=Mh(n.firestore,eu),h=pI(n._key.path),u={next:p=>{e[s]&&e[s](C4(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Mh(n,Yh);l=Mh(p.firestore,eu),h=p._query;let v=new tf(l);u={next:g=>{e[s]&&e[s](new sI(l,v,p,g))},error:e[s+1],complete:e[s+2]},E4(n._query)}return function(v,g,S,x){let M=new X_(x),V=new W_(g,M,S);return v.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return X$(yield vA(v),V)})),()=>{M.Za(),v.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return e4(yield vA(v),V)}))}}(v4(l),h,a,u)}function C4(n,e,t){let r=t.docs.get(e._key),i=new tf(n);return new ef(n,i,e._key,r,new eo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Vs=i})(ni),ti(new Xt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new eu(new Fv(r.getProvider("auth-internal")),new jv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xe(HS,"4.7.3",e),Xe(HS,"4.7.3","esm2017")})();var cf=function(){return cf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cf.apply(this,arguments)};var S4={includeMetadataChanges:!1};function lM(n,e){return e===void 0&&(e=S4),new ce(function(t){var r=wI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function dM(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:cf(cf({},r),(t={},t[e.idField]=n.id,t))}function hM(n){return lM(n,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function fM(n,e){return e===void 0&&(e={}),hM(n).pipe(ne(function(t){return t.map(function(r){return dM(r,e)})}))}var oo=class{constructor(e){return e}},pM="firestore",EI=class{constructor(){return pc(pM)}};var bI=new z("angularfire2.firestore-instances");function A4(n,e){let t=Vd(pM,n,e);return t&&new oo(t)}function M4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new oo(r)}}var R4={provide:EI,deps:[[new Ct,bI]]},x4={provide:oo,useFactory:A4,deps:[[new Ct,bI],fr]};function mM(n,...e){return Xe("angularfire",Hi.full,"fst"),un([x4,R4,{provide:bI,useFactory:M4(n),multi:!0,deps:[De,Nt,cs,zi,[new Ct,bc],[new Ct,as],...e]}])}var gM=Rn(fM,!0);var yM=Rn(aM,!0);var vM=Rn(cM,!0);var js=class n{constructor(e){this.firestore=e}getPhrases(){let e=yM(this.firestore,"frases");return gM(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(K(oo))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var uf=class n{constructor(e){this.phrasesService=e}phrases=[];currentPhrase="";currentAuthor="";ngOnInit(){this.phrasesService.getPhrases().subscribe(e=>{this.phrases=e,this.selectRandomPhrase()})}selectRandomPhrase(){if(this.phrases.length>0){let e=Math.floor(Math.random()*this.phrases.length),t=this.phrases[e];this.currentPhrase=t.frase,this.currentAuthor=t.Autor}}static \u0275fac=function(t){return new(t||n)($(js))};static \u0275cmp=Ve({type:n,selectors:[["app-motivational-phrases"]],standalone:!0,features:[$t([js]),Ue],decls:11,vars:2,consts:[[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"card","text-center",2,"width","24rem"],[1,"card-body"],[1,"card-title","animate__animated","animate__fadeInDown"],[1,"card-text","animate__animated","animate__fadeInUp"],[1,"card-subtitle","text-muted","animate__animated","animate__fadeInUp"],[1,"btn","btn-primary","mt-3",3,"click"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),P(4,"Frase Motivacional"),R(),N(5,"p",4),P(6),R(),N(7,"p",5),P(8),R(),N(9,"button",6),Ee("click",function(){return r.selectRandomPhrase()}),P(10,"Cambiar Frase"),R()()()()),t&2&&(j(6),Yt(r.currentPhrase),j(2),Yt(r.currentAuthor))},styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css";.d-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}.card[_ngcontent-%COMP%]{width:24rem}.card-title[_ngcontent-%COMP%]{font-size:1.5rem}.btn-primary[_ngcontent-%COMP%]{margin-top:1rem}']})};var Bs=class n{constructor(e,t){this.http=e;this.router=t}apiUrl="https://backendfitnesstracking.onrender.com/api";get(e,t){return this.http.get(`${this.apiUrl}/${e}`,{params:t}).pipe(Ut(r=>this.handleError(r)))}post(e,t){let r=new Jt({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/${e}`,t,{headers:r}).pipe(Ut(i=>this.handleError(i)))}put(e,t){let r=new Jt({"Content-Type":"application/json"});return this.http.put(`${this.apiUrl}/${e}`,t,{headers:r}).pipe(Ut(i=>this.handleError(i)))}delete(e,t){return this.http.delete(`${this.apiUrl}/${e}`,{params:t}).pipe(Ut(r=>this.handleError(r)))}handleError(e){return console.error("Error en ApiService:",e),(e.status===401||e.status===403)&&(console.warn("No autorizado. Redirigiendo al login..."),this.router.navigate(["/login"])),yn(()=>new Error(e.message||"Error desconocido"))}static \u0275fac=function(t){return new(t||n)(K(sg),K(kt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var $s=class n{constructor(e){this.apiService=e}getRoutineTemplates(){return this.apiService.get("routines/template-routines")}getExercisesByRoutineTemplateId(e){return e?this.apiService.get(`routines/template-routines/${e}/exercises`):(console.error("routineTemplateId es inv\xE1lido o undefined."),yn(()=>new Error("routineTemplateId es requerido.")))}createUserRoutine(e,t,r){let i={userId:e,routineTemplateId:t,exerciseTemplateId:r};return this.apiService.post("routines/create-user-routine",i)}getUserRoutines(e){return this.apiService.get(`routines/user-routines?userId=${e}`)}editUserRoutine(e,t){return this.apiService.put(`routines/user-routines/${e}`,t)}deleteUserRoutine(e){return this.apiService.delete(`routines/user-routines/${e}`)}static \u0275fac=function(t){return new(t||n)(K(Bs))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var wM=n=>({"is-invalid":n});function O4(n,e){if(n&1&&(N(0,"option",14),P(1),R()),n&2){let t=e.$implicit;J("value",t.id),j(),Yt(t.name)}}function k4(n,e){n&1&&(N(0,"div",15),P(1," El grupo muscular es obligatorio. "),R())}function F4(n,e){if(n&1&&(N(0,"option",14),P(1),R()),n&2){let t=e.$implicit;J("value",t.id),j(),Yt(t.name)}}function L4(n,e){n&1&&(N(0,"div",15),P(1," El ejercicio es obligatorio. "),R())}function V4(n,e){n&1&&(N(0,"div",16)(1,"div",17)(2,"span",18),P(3,"Cargando..."),R()(),N(4,"p",19),P(5,"Creando rutina..."),R()())}function U4(n,e){n&1&&(N(0,"div",16)(1,"p",20),P(2,"\xA1Rutina creada exitosamente!"),R()())}var lf=class n{constructor(e,t,r){this.fb=e;this.routinesService=t;this.authService=r;this.routineForm=this.fb.group({muscleGroup:["",xc.required],exercise:["",xc.required]})}routineCreated=new Re;routineForm;muscleGroups=[];availableExercises=[];isLoading=!1;saveSuccessful=!1;ngOnInit(){this.loadMuscleGroups(),this.routineForm.get("muscleGroup")?.valueChanges.subscribe(e=>{e?this.loadExercisesForMuscleGroup(e):this.availableExercises=[]})}loadMuscleGroups(){this.isLoading=!0,this.routinesService.getRoutineTemplates().subscribe({next:e=>{this.muscleGroups=e.map(t=>({id:t.routineTemplateId,name:t.routineName})),this.isLoading=!1},error:e=>{console.error("Error cargando grupos musculares:",e),this.isLoading=!1}})}loadExercisesForMuscleGroup(e){this.isLoading=!0,this.routinesService.getExercisesByRoutineTemplateId(e).subscribe({next:t=>{this.availableExercises=t.map(r=>({id:r.exerciseTemplateId,name:r.exerciseName})),this.isLoading=!1},error:t=>{console.error("Error cargando ejercicios:",t),this.isLoading=!1}})}saveRoutine(){if(this.routineForm.invalid){this.routineForm.markAllAsTouched();return}let e=this.authService.getUserId();if(!e){console.error("Error: Usuario no autenticado.");return}let t=this.routineForm.value.muscleGroup,r=this.routineForm.value.exercise;this.isLoading=!0,this.saveSuccessful=!1,this.routinesService.createUserRoutine(e,t,r).subscribe({next:i=>{this.isLoading=!1,this.saveSuccessful=!0,this.routineCreated.emit(i),this.resetRoutineForm(),setTimeout(()=>(this.saveSuccessful=!1,window.location.reload()),3e3)},error:i=>{console.error("Error creando la rutina:",i),this.isLoading=!1}})}resetRoutineForm(){this.routineForm.reset({muscleGroup:"",exercise:""})}static \u0275fac=function(t){return new(t||n)($(VS),$($s),$(en))};static \u0275cmp=Ve({type:n,selectors:[["app-carbox"]],outputs:{routineCreated:"routineCreated"},standalone:!0,features:[Ue],decls:24,vars:14,consts:[[1,"container"],[1,"mb-3"],[1,"needs-validation",3,"ngSubmit","formGroup"],[1,"form-group","animate__animated","animate__fadeInLeft"],["for","muscleGroup"],["id","muscleGroup","formControlName","muscleGroup",1,"form-control","mb-2",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"form-group","animate__animated","animate__fadeInRight"],["for","exercise"],["id","exercise","formControlName","exercise",1,"form-control","mb-2",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-100","mt-3","animate__animated","animate__pulse",3,"disabled"],["class","text-center mt-3",4,"ngIf"],[3,"value"],[1,"text-danger"],[1,"text-center","mt-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-primary"],[1,"text-success","animate__animated","animate__fadeIn"]],template:function(t,r){if(t&1&&(N(0,"div",0)(1,"h3",1),P(2,"Crear Nueva Rutina"),R(),N(3,"form",2),Ee("ngSubmit",function(){return r.saveRoutine()}),N(4,"div",3)(5,"label",4),P(6,"Grupo Muscular:"),R(),N(7,"select",5)(8,"option",6),P(9,"Selecciona un grupo muscular"),R(),xe(10,O4,2,2,"option",7),R(),xe(11,k4,2,0,"div",8),R(),N(12,"div",9)(13,"label",10),P(14,"Ejercicio:"),R(),N(15,"select",11)(16,"option",6),P(17,"Selecciona un ejercicio"),R(),xe(18,F4,2,2,"option",7),R(),xe(19,L4,2,0,"div",8),R(),N(20,"button",12),P(21," Guardar "),R(),xe(22,V4,6,0,"div",13)(23,U4,3,0,"div",13),R()()),t&2){let i,o,s,a;j(3),J("formGroup",r.routineForm),j(4),J("ngClass",Gm(10,wM,((i=r.routineForm.get("muscleGroup"))==null?null:i.invalid)&&((i=r.routineForm.get("muscleGroup"))==null?null:i.touched))),j(3),J("ngForOf",r.muscleGroups),j(),J("ngIf",((o=r.routineForm.get("muscleGroup"))==null?null:o.invalid)&&((o=r.routineForm.get("muscleGroup"))==null?null:o.touched)),j(4),J("ngClass",Gm(12,wM,((s=r.routineForm.get("exercise"))==null?null:s.invalid)&&((s=r.routineForm.get("exercise"))==null?null:s.touched))),j(3),J("ngForOf",r.availableExercises),j(),J("ngIf",((a=r.routineForm.get("exercise"))==null?null:a.invalid)&&((a=r.routineForm.get("exercise"))==null?null:a.touched)),j(),J("disabled",r.isLoading||r.routineForm.invalid),j(2),J("ngIf",r.isLoading),j(),J("ngIf",r.saveSuccessful)}},dependencies:[st,yC,cd,Ot,mt,Fn,PS,kS,_h,On,kn,US,Iv,wv],styles:[".routine-form[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px}.routine-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.routine-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.routine-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.routine-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#444}.routine-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .routine-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:16px;background-color:#fff}.routine-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .routine-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.routine-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;font-weight:600;transition:background-color .2s}.routine-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.routine-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]{margin-top:30px}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;color:#333}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   .routine-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;background-color:#f8f9fa;border-radius:4px;margin-bottom:10px}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   .routine-item[_ngcontent-%COMP%]   .routine-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   .routine-item[_ngcontent-%COMP%]   .routine-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#444}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   .routine-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{padding:8px 16px;background-color:#dc3545;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .2s}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   .routine-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   .routine-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   .exercise-details[_ngcontent-%COMP%]{margin-top:20px;padding:15px;background-color:#f8f9fa;border-radius:4px}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   .routine-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   .exercise-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{margin-bottom:15px}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   .routine-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   .exercise-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:600;color:#444}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   .routine-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   .exercise-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;background-color:#e9ecef;cursor:not-allowed}.routine-form[_ngcontent-%COMP%]   .saved-routines[_ngcontent-%COMP%]   .routine-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   .exercise-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.7}"]})};function j4(n,e){if(n&1){let t=Ra();N(0,"div",6)(1,"div",7)(2,"h5"),P(3,"Grupo Muscular"),R(),N(4,"h5"),P(5),R(),N(6,"p")(7,"strong"),P(8,"Ejercicio:"),R(),P(9),qe(10,"br"),N(11,"strong"),P(12,"Repeticiones:"),R(),P(13),qe(14,"br"),N(15,"strong"),P(16,"Series:"),R(),P(17),qe(18,"br"),N(19,"strong"),P(20,"Descanso:"),R(),P(21),R(),N(22,"button",8),Ee("click",function(){Da(t);let i=Ze().$implicit,o=Ze();return Ta(o.deleteRoutine(i.userRoutineId))}),P(23,"Eliminar"),R()()()}if(n&2){let t=Ze().$implicit;j(5),Yt(t.routineName),j(4),Ge(" ",t.exerciseName,""),j(4),Ge(" ",t.repetitions,""),j(4),Ge(" ",t.series,""),j(4),Ge(" ",t.restTime," ")}}function B4(n,e){if(n&1&&(qr(0),xe(1,j4,24,5,"div",5),Gr()),n&2){let t=e.index;j(),J("ngIf",t%2===0)}}function $4(n,e){if(n&1){let t=Ra();N(0,"div",10)(1,"div",7)(2,"h5"),P(3,"Grupo Muscular"),R(),N(4,"h5"),P(5),R(),N(6,"p")(7,"strong"),P(8,"Ejercicio:"),R(),P(9),qe(10,"br"),N(11,"strong"),P(12,"Repeticiones:"),R(),P(13),qe(14,"br"),N(15,"strong"),P(16,"Series:"),R(),P(17),qe(18,"br"),N(19,"strong"),P(20,"Descanso:"),R(),P(21),R(),N(22,"button",8),Ee("click",function(){Da(t);let i=Ze().$implicit,o=Ze();return Ta(o.deleteRoutine(i.userRoutineId))}),P(23,"Eliminar"),R()()()}if(n&2){let t=Ze().$implicit;j(5),Yt(t.routineName),j(4),Ge(" ",t.exerciseName,""),j(4),Ge(" ",t.repetitions,""),j(4),Ge(" ",t.series,""),j(4),Ge(" ",t.restTime," ")}}function H4(n,e){if(n&1&&(qr(0),xe(1,$4,24,5,"div",9),Gr()),n&2){let t=e.index;j(),J("ngIf",t%2!==0)}}var df=class n{constructor(e,t){this.routinesService=e;this.authService=t}selectedRoutineId;routinesUpdated=new Re;savedRoutines=[];ngOnInit(){this.loadUserRoutines()}loadUserRoutines(){let e=this.authService.getUserId();if(!e){console.error("Error: Usuario no autenticado.");return}this.routinesService.getUserRoutines(e).subscribe({next:t=>w(this,null,function*(){this.savedRoutines=yield this.mapRoutinesWithNames(t)}),error:t=>{console.error("Error cargando las rutinas del usuario:",t)}})}mapRoutinesWithNames(e){return w(this,null,function*(){let t=yield this.routinesService.getRoutineTemplates().toPromise();if(!t||t.length===0)return console.error("No se encontraron plantillas de rutinas."),[];let r=[];for(let i of e){let s=t.find(u=>u.routineTemplateId===i.routineTemplateId)?.routineName||"Sin nombre",a=yield this.routinesService.getExercisesByRoutineTemplateId(i.routineTemplateId).toPromise();if(!a||a.length===0){console.warn(`No se encontraron ejercicios para la rutina con ID ${i.routineTemplateId}`);continue}for(let u of i.userExercises){let h=a.find(v=>v.exerciseTemplateId===u.exerciseTemplateId)?.exerciseName||"Sin nombre",p=u.userExerciseDetails[0]||{};r.push({userRoutineId:i.userRoutineId,routineName:s,exerciseName:h,repetitions:p.repetitions||"N/A",series:p.series||"N/A",restTime:p.restTime||"N/A"})}}return r})}editRoutine(e){let t=L({},e);this.routinesService.editUserRoutine(t.userRoutineId,t).subscribe({next:()=>this.loadUserRoutines(),error:r=>console.error("Error actualizando la rutina:",r)})}deleteRoutine(e){this.routinesService.deleteUserRoutine(e).subscribe({next:()=>{this.savedRoutines=this.savedRoutines.filter(t=>t.userRoutineId!==e),this.routinesUpdated.emit(this.savedRoutines)},error:t=>console.error("Error eliminando la rutina:",t)})}static \u0275fac=function(t){return new(t||n)($($s),$(en))};static \u0275cmp=Ve({type:n,selectors:[["app-routine-table"]],inputs:{selectedRoutineId:"selectedRoutineId"},outputs:{routinesUpdated:"routinesUpdated"},standalone:!0,features:[Ue],decls:6,vars:2,consts:[[1,"routine-container"],[1,"columns"],[1,"left-column"],[4,"ngFor","ngForOf"],[1,"right-column"],["class","routine-card animate__animated animate__fadeInLeft",4,"ngIf"],[1,"routine-card","animate__animated","animate__fadeInLeft"],[1,"card-content"],[1,"btn","btn-danger","btn-sm",3,"click"],["class","routine-card animate__animated animate__fadeInRight",4,"ngIf"],[1,"routine-card","animate__animated","animate__fadeInRight"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"div",2),xe(3,B4,2,1,"ng-container",3),R(),N(4,"div",4),xe(5,H4,2,1,"ng-container",3),R()()()),t&2&&(j(3),J("ngForOf",r.savedRoutines),j(2),J("ngForOf",r.savedRoutines))},dependencies:[st,cd,Ot,mt],styles:['@charset "UTF-8";@import"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css";.routine-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.columns[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:1200px;gap:20px;flex-wrap:wrap}.columns[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%], .columns[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{width:48%;display:flex;flex-direction:column;gap:20px}.routine-card[_ngcontent-%COMP%]{background:#ff00007d;color:#000;border-radius:15px;box-shadow:0 4px 8px #0003;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;cursor:pointer}.routine-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #0000004d}.routine-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:2rem;text-align:center}.routine-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Arial Black,Gadget,sans-serif;font-size:1.25rem;margin-bottom:1rem}.routine-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.5}.routine-card[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:none}.routine-card[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.routine-card[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:red;color:#fff}.routine-card[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#c00}.animate__fadeInLeft[_ngcontent-%COMP%], .animate__fadeInRight[_ngcontent-%COMP%]{animation-duration:.8s}']})};var hf=class n{constructor(e){this.apiService=e}getUserMetrics(e){return this.apiService.get(`usermetrics/${e}`)}addUserMetric(e,t){let r=L({userId:e},t);return this.apiService.post("usermetrics",r)}getUserStatistics(e,t){return this.apiService.get("GetUserStatistics",{nombre:e,apellido:t})}static \u0275fac=function(t){return new(t||n)(K(Bs))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function q4(n,e){n&1&&(qr(0),N(1,"div",27)(2,"span",28),P(3,"Cargando..."),R()(),N(4,"p",29),P(5,"Cargando..."),R(),Gr())}function G4(n,e){n&1&&(qr(0),N(1,"p",30),P(2,"Editando..."),R(),Gr())}function W4(n,e){n&1&&(qr(0),N(1,"p",31),P(2,"Cambios exitosos"),R(),Gr())}function K4(n,e){if(n&1){let t=Ra();N(0,"button",32),Ee("click",function(){Da(t);let i=Ze();return Ta(i.toggleEdit())}),P(1," Editar "),R()}}function Q4(n,e){n&1&&(N(0,"button",33),P(1," Guardar Cambios "),R())}var iu=class n{constructor(e,t){this.metricsService=e;this.authService=t}savedRoutines=[];nombre="";apellido="";edad=0;altura=0;peso=0;estadisticas;isEditing=!1;isLoading=!1;saveSuccessful=!1;onRoutineCreated(e){this.savedRoutines=[...this.savedRoutines,e]}onDeleteRoutine(e){this.savedRoutines=this.savedRoutines.filter(t=>t.id!==e)}ngOnInit(){this.loadUserMetrics()}loadUserMetrics(){this.isLoading=!0;let e=this.authService.getUserId();if(!e){console.error("Usuario no autenticado"),this.isLoading=!1;return}this.metricsService.getUserMetrics(e).subscribe(t=>{if(this.isLoading=!1,t&&t.length>0){let r=t[0];this.nombre=r.nombre||"",this.apellido=r.apellido||"",this.edad=r.edad||0,this.altura=r.altura||0,this.peso=r.peso||0,this.estadisticas=t}else console.warn("No se encontraron m\xE9tricas para el usuario.")},t=>{this.isLoading=!1,console.error("Error al cargar las m\xE9tricas:",t)})}saveUserMetrics(){this.isLoading=!0,this.saveSuccessful=!1;let e=this.authService.getUserId();if(!e){console.error("Usuario no autenticado"),this.isLoading=!1;return}let t={nombre:this.nombre,apellido:this.apellido,edad:this.edad,altura:this.altura,peso:this.peso};this.metricsService.addUserMetric(e,t).subscribe(()=>{this.loadUserMetrics(),this.isEditing=!1,this.isLoading=!1,this.saveSuccessful=!0,setTimeout(()=>{this.saveSuccessful=!1},3e3)},r=>{this.isLoading=!1,console.error("Error al guardar m\xE9tricas:",r)})}toggleEdit(){this.isEditing=!this.isEditing,this.isEditing&&(this.saveSuccessful=!1)}onSubmit(){this.saveUserMetrics()}static \u0275fac=function(t){return new(t||n)($(hf),$(en))};static \u0275cmp=Ve({type:n,selectors:[["app-home"]],standalone:!0,features:[Ue],decls:46,vars:15,consts:[[1,"container-fluid","home-container","mt-4"],["id","user-metrics",1,"user-metrics-section"],[1,"section-title"],[1,"row","gx-3","gy-2","align-items-center","metrics-form",3,"ngSubmit"],[1,"col-md-6"],["for","nombre",1,"form-label","text-danger"],["type","text","id","nombre","name","nombre",1,"form-control",3,"ngModelChange","ngModel","readonly"],["for","apellido",1,"form-label","text-danger"],["type","text","id","apellido","name","apellido",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"col-md-4"],["for","edad",1,"form-label","text-danger"],["type","number","id","edad","name","edad",1,"form-control",3,"ngModelChange","ngModel","readonly"],["for","altura",1,"form-label","text-danger"],["type","number","id","altura","name","altura",1,"form-control",3,"ngModelChange","ngModel","readonly"],["for","peso",1,"form-label","text-danger"],["type","number","id","peso","name","peso",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"col-12","d-flex","justify-content-end","align-items-center","mt-3"],[1,"status-message","me-3"],[4,"ngIf"],["type","button","class","btn btn-outline-danger me-3",3,"click",4,"ngIf"],["type","submit","class","btn btn-danger",4,"ngIf"],["id","motivational-phrases",1,"motivational-section"],["id","imc-calculator",1,"calculator-section"],[1,"section-title","text-center"],["id","routine-creation",1,"routine-creation-section"],[3,"routineCreated"],["id","saved-routines",1,"saved-routines-section"],["role","status",1,"spinner-border","text-danger"],[1,"visually-hidden"],[1,"d-inline-block","text-danger","ms-2","mb-0"],[1,"d-inline-block","text-warning","ms-2","mb-0"],[1,"d-inline-block","text-success","ms-2","mb-0"],["type","button",1,"btn","btn-outline-danger","me-3",3,"click"],["type","submit",1,"btn","btn-danger"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"section",1)(2,"h2",2),P(3,"M\xE9tricas del Usuario"),R(),N(4,"form",3),Ee("ngSubmit",function(){return r.onSubmit()}),N(5,"div",4)(6,"label",5),P(7,"Nombre:"),R(),N(8,"input",6),pt("ngModelChange",function(o){return St(r.nombre,o)||(r.nombre=o),o}),R()(),N(9,"div",4)(10,"label",7),P(11,"Apellido:"),R(),N(12,"input",8),pt("ngModelChange",function(o){return St(r.apellido,o)||(r.apellido=o),o}),R()(),N(13,"div",9)(14,"label",10),P(15,"Edad:"),R(),N(16,"input",11),pt("ngModelChange",function(o){return St(r.edad,o)||(r.edad=o),o}),R()(),N(17,"div",9)(18,"label",12),P(19,"Altura (cm):"),R(),N(20,"input",13),pt("ngModelChange",function(o){return St(r.altura,o)||(r.altura=o),o}),R()(),N(21,"div",9)(22,"label",14),P(23,"Peso (kg):"),R(),N(24,"input",15),pt("ngModelChange",function(o){return St(r.peso,o)||(r.peso=o),o}),R()(),N(25,"div",16)(26,"div",17),xe(27,q4,6,0,"ng-container",18)(28,G4,3,0,"ng-container",18)(29,W4,3,0,"ng-container",18),R(),xe(30,K4,2,0,"button",19)(31,Q4,2,0,"button",20),R()()(),N(32,"section",21),qe(33,"app-motivational-phrases"),R(),N(34,"section",22)(35,"h2",23),P(36,"Calculadora IMC"),R(),qe(37,"app-calculator-imc"),R(),N(38,"section",24)(39,"h2",23),P(40,"Crear Rutinas"),R(),N(41,"app-carbox",25),Ee("routineCreated",function(o){return r.onRoutineCreated(o)}),R()(),N(42,"section",26)(43,"h2",23),P(44,"Rutinas Guardadas"),R(),qe(45,"app-routine-table"),R()()),t&2&&(j(8),ft("ngModel",r.nombre),J("readonly",!r.isEditing),j(4),ft("ngModel",r.apellido),J("readonly",!r.isEditing),j(4),ft("ngModel",r.edad),J("readonly",!r.isEditing),j(4),ft("ngModel",r.altura),J("readonly",!r.isEditing),j(4),ft("ngModel",r.peso),J("readonly",!r.isEditing),j(3),J("ngIf",r.isLoading),j(),J("ngIf",r.isEditing&&!r.isLoading),j(),J("ngIf",r.saveSuccessful),j(),J("ngIf",!r.isEditing),j(),J("ngIf",r.isEditing))},dependencies:[st,Ot,bh,mt,Fn,Pn,Pc,On,kn,Ir,_r,uf,lf,df],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/gym-background.jpg) no-repeat center center fixed;background-size:cover;font-family:Impact,sans-serif}.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;padding:1rem;position:relative}.home-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{background:#0000;padding:2rem;border-radius:8px;box-shadow:0 4px 6px #0000004d;color:#fff;position:relative;z-index:1}@media (max-width: 768px){.home-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin:0 auto;text-align:center}}.home-container[_ngcontent-%COMP%]   .user-metrics-section[_ngcontent-%COMP%]{width:40%;position:relative;margin-top:2rem}@media (max-width: 768px){.home-container[_ngcontent-%COMP%]   .user-metrics-section[_ngcontent-%COMP%]{width:100%;position:static}}.home-container[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-family:Impact,sans-serif;color:red;text-transform:uppercase;margin-bottom:1rem;text-align:center}.home-container[_ngcontent-%COMP%]   .motivational-section[_ngcontent-%COMP%]{margin-top:4rem;z-index:0;animation:_ngcontent-%COMP%_fade-in .5s ease-in-out}.home-container[_ngcontent-%COMP%]   .calculator-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .5s ease-in-out}.home-container[_ngcontent-%COMP%]   .routine-creation-section[_ngcontent-%COMP%], .home-container[_ngcontent-%COMP%]   .saved-routines-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-left .5s ease-in-out}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slide-up{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_slide-left{0%{transform:translate(-20px);opacity:0}to{transform:translate(0);opacity:1}}"]})};var EM=[{path:"login",component:wh,data:{hideNavbarFooter:!0}},{path:"register",component:Eh,data:{hideNavbarFooter:!0}},{path:"",component:iu,data:{hideNavbarFooter:!1}},{path:"home",component:iu}];HC(Ih,{providers:[PC(kC(),OC()),tT(()=>nT(jS.firebase)),ZT(()=>XT()),mM(()=>vM()),mm(mt),TD(EM)]}).catch(n=>console.error(n));
